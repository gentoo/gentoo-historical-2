diff -u hpijs-1.5-orig/hpijs.cpp hpijs-1.5/hpijs.cpp
--- hpijs-1.5-orig/hpijs.cpp	2004-05-02 19:25:56.135556960 +0000
+++ hpijs-1.5/hpijs.cpp	2004-05-02 19:56:03.839744152 +0000
@@ -79,7 +79,10 @@
    {
       BOOL        bDevText;
       bug("unable to set Quality=%d, ColorMode=%d, MediaType=%d, err=%d\n", pSS->Quality, pSS->ColorMode, pSS->MediaType, r);
-      pSS->pPC->GetPrintModeSettings ((QUALITY_MODE)pSS->Quality, (MEDIATYPE)pSS->MediaType, (COLORMODE)pSS->ColorMode, bDevText);
+      apdk::QUALITY_MODE quality_mode = (QUALITY_MODE)pSS->Quality;
+      apdk::MEDIATYPE mediatype = (MEDIATYPE)pSS->MediaType;
+      apdk::COLORMODE colormode = (COLORMODE)pSS->ColorMode;
+      pSS->pPC->GetPrintModeSettings (quality_mode, mediatype, colormode, bDevText);
       bug("following will be used Quality=%d, ColorMode=%d, MediaType=%d\n", pSS->Quality, pSS->ColorMode, pSS->MediaType);
    }
 
@@ -211,7 +214,10 @@
 
          /* Got a valid device class, let's set some print mode defaults. */
          BOOL        bDevText;
-         pSS->pPC->GetPrintModeSettings ((QUALITY_MODE)pSS->Quality, (MEDIATYPE)pSS->MediaType, (COLORMODE)pSS->ColorMode, bDevText);
+	 apdk::QUALITY_MODE quality_mode = (QUALITY_MODE)pSS->Quality;
+	 apdk::MEDIATYPE mediatype = (MEDIATYPE)pSS->MediaType;
+	 apdk::COLORMODE colormode = (COLORMODE)pSS->ColorMode;           
+         pSS->pPC->GetPrintModeSettings (quality_mode, mediatype, colormode, bDevText);
       }
       else
       {
