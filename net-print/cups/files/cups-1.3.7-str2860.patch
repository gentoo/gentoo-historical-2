diff -Naur cups-1.3.7/config-scripts/cups-compiler.m4 cups-1.3.7.new/config-scripts/cups-compiler.m4
--- cups-1.3.7/config-scripts/cups-compiler.m4	2008-02-28 01:54:04.000000000 +0100
+++ cups-1.3.7.new/config-scripts/cups-compiler.m4	2008-07-02 23:54:33.915981796 +0200
@@ -521,6 +521,12 @@
 		OPTIM="$OPTIM -D_HPUX_SOURCE"
 		;;
 
+	Linux*)
+		# glibc 2.8 and higher breaks peer credentials unless you
+		# define _GNU_SOURCE...
+		OPTIM="$OPTIM -D_GNU_SOURCE"
+		;;
+
 	OSF*)
 		# Tru64 UNIX aka Digital UNIX aka OSF/1 need to be told
 		# to be POSIX-compliant...
