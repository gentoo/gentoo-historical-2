#!/sbin/runscript
# Copyright 1999-2003 Gentoo Foundation
# Distributed under the terms of the GNU General Public License v2
# $Header: /var/cvsroot/gentoo-x86/app-sci/foldingathome/files/folding-init.d-r2,v 1.2 2004/07/09 21:42:18 mr_bones_ Exp $

start() {
	ebegin "Starting Folding@Home"
	for (($CPU; CPU != 0; CPU--))
	do
		cd /opt/foldingathome/client${CPU}/
		rm -f /opt/foldingathome/log-${CPU}
		nice -n 20 su foldingathome -c "/opt/foldingathome/client${CPU}/foldingathome ${FOLD_OPTS}" 2>&1 >/opt/foldingathome/log-${CPU} &
	done
	eend $?
}

stop() {
	ebegin "Stopping Folding@Home"
	for I in FahCore*.exe
	do
		killall -q $I >/dev/null
	done
	killall foldingathome >/dev/null
	eend $?
}

