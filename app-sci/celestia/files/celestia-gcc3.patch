diff -ur celestia-1.2.4/src/buildstardb.cpp celestia-1.2.4.fixed/src/buildstardb.cpp
--- celestia-1.2.4/src/buildstardb.cpp	2002-01-14 10:48:37.000000000 -0800
+++ celestia-1.2.4.fixed/src/buildstardb.cpp	2002-10-13 22:31:41.000000000 -0700
@@ -921,7 +921,7 @@
             {
                 MultistarSystem* multiSystem = new MultistarSystem();
                 multiSystem->nStars = 1;
-                multiSystem->stars[0] = iter;
+                multiSystem->stars[0] = &(*iter);
                 starSystems.insert(MultistarSystemCatalog::value_type(iter->CCDMIdentifier, multiSystem));
             }
             else
@@ -933,7 +933,7 @@
                 }
                 else
                 {
-                    multiSystem->stars[multiSystem->nStars] = iter;
+                    multiSystem->stars[multiSystem->nStars] = &(*iter);
                     multiSystem->nStars++;
                 }
             }
@@ -1162,7 +1162,7 @@
         for (vector<HipparcosStar>::iterator iter = stars.begin();
              iter != stars.end(); iter++)
         {
-            starIndex.insert(starIndex.end(), iter);
+            starIndex.insert(starIndex.end(), &(*iter));
         }
 
         HIPCatalogComparePredicate pred;
diff -ur celestia-1.2.4/src/celengine/starbrowser.h celestia-1.2.4.fixed/src/celengine/starbrowser.h
--- celestia-1.2.4/src/celengine/starbrowser.h	2002-01-15 17:55:49.000000000 -0800
+++ celestia-1.2.4.fixed/src/celengine/starbrowser.h	2002-10-13 22:11:30.000000000 -0700
@@ -15,6 +15,8 @@
 #include "star.h"
 #include "stardb.h"
 #include "simulation.h"
+#include <vector>
+using namespace std;
 
 class StarBrowser
 {
diff -ur celestia-1.2.4/src/celestia/celestiacore.cpp celestia-1.2.4.fixed/src/celestia/celestiacore.cpp
--- celestia-1.2.4/src/celestia/celestiacore.cpp	2002-05-02 10:53:49.000000000 -0700
+++ celestia-1.2.4.fixed/src/celestia/celestiacore.cpp	2002-10-13 22:28:14.000000000 -0700
@@ -194,7 +194,7 @@
     sim->setFrame(fav.coordSys, sim->getSelection());
 }
 
-void CelestiaCore::addFavorite(string name, string parentFolder, FavoritesList::const_iterator* iter)
+void CelestiaCore::addFavorite(std::string name, std::string parentFolder, FavoritesList::iterator* iter)
 {
     FavoritesList::iterator pos;
     if(!iter)
@@ -214,7 +214,7 @@
     favorites->insert(pos, fav);
 }
 
-void CelestiaCore::addFavoriteFolder(string name, FavoritesList::const_iterator* iter)
+void CelestiaCore::addFavoriteFolder(std::string name, FavoritesList::iterator* iter)
 {
     FavoritesList::iterator pos;
     if(!iter)
@@ -1137,9 +1137,8 @@
             if (sun != NULL)
             {
                 double distFromSun = body.getHeliocentricPosition(t).distanceFromOrigin();
-                float planetTemp = sun->getTemperature() * 
-                    (float) (pow(1 - body.getAlbedo(), 0.25) *
-                             sqrt(sun->getRadius() / (2 * distFromSun)));
+		float planetTemp = sun->getTemperature() *
+			(float) (pow((float)(1 - body.getAlbedo()), (float) 0.25) *+                        	 sqrt((float)(sun->getRadius() / (2 * distFromSun))));
                 overlay << setprecision(0);
                 overlay << "Temperature: " << planetTemp << " K\n";
                 overlay << setprecision(3);
diff -ur celestia-1.2.4/src/celestia/celestiacore.h celestia-1.2.4.fixed/src/celestia/celestiacore.h
--- celestia-1.2.4/src/celestia/celestiacore.h	2002-04-02 07:24:09.000000000 -0800
+++ celestia-1.2.4.fixed/src/celestia/celestiacore.h	2002-10-13 22:22:20.000000000 -0700
@@ -126,8 +126,8 @@
     void readFavoritesFile();
     void writeFavoritesFile();
     void activateFavorite(FavoritesEntry&);
-    void addFavorite(std::string, std::string, FavoritesList::const_iterator* iter=NULL);
-    void addFavoriteFolder(std::string, FavoritesList::const_iterator* iter=NULL);
+    void addFavorite(std::string, std::string, FavoritesList::iterator* iter=NULL);
+    void addFavoriteFolder(std::string, FavoritesList::iterator* iter=NULL);
     const FavoritesList* getFavorites();
 
     const DestinationList* getDestinations();
diff -ur celestia-1.2.4/src/celestia/glutmain.cpp celestia-1.2.4.fixed/src/celestia/glutmain.cpp
--- celestia-1.2.4/src/celestia/glutmain.cpp	2002-04-30 10:36:11.000000000 -0700
+++ celestia-1.2.4.fixed/src/celestia/glutmain.cpp	2002-10-13 22:12:53.000000000 -0700
@@ -32,6 +32,8 @@
 #include <celmath/mathlib.h>
 #include <celengine/astro.h>
 #include "celestiacore.h"
+#include <iostream>
+using namespace std;
 /* what are you supposed to be?
 #include "popt.h"
 */
