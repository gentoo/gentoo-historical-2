--- celestia-1.3.1/src/celestia/gtkmain.cpp.old	2004-01-21 14:29:11.784232453 -0800
+++ celestia-1.3.1/src/celestia/gtkmain.cpp	2004-01-21 14:34:17.331930870 -0800
@@ -1330,7 +1330,7 @@
     Star *selStar =(Star *)gtk_clist_get_row_data(list,row);
     if (selStar)
     {
-        browserSel.select(selStar);
+        browserSel = Selection(selStar);
 	return TRUE;
     }
     return FALSE;
@@ -1349,9 +1349,9 @@
     if ((body=(Body *)gtk_ctree_node_get_row_data(tree,node)))
     {
         if (body == (Body *) nearestStar)
-            browserSel.select((Star *) nearestStar);
+            browserSel = Selection((Star *) nearestStar);
         else
-            browserSel.select(body);
+            browserSel = Selection(body);
 	return TRUE;
     }
     DPRINTF(0, "Unable to find body for this node.\n");
@@ -1420,7 +1420,7 @@
     for (unsigned int i = 0; i < currentLength; i++)
         gtk_clist_remove(GTK_CLIST(clist), 0);
     currentLength=(*stars).size();
-    browserSel.select((Star *)(*stars)[0]);
+    browserSel = Selection((Star *)(*stars)[0]);
     UniversalCoord ucPos = appSim->getObserver().getPosition();
     
     for (unsigned int i = 0; i < currentLength; i++)
@@ -1514,12 +1514,11 @@
     {
         sbrowser.refresh();
         loadNearestStarSystem();
-        tmpSel=browserSel.star;
-        browserSel.star=(Star *)nearestStar;
-        browserSel.body=NULL;
+        tmpSel=(Star*)browserSel.obj;
+        browserSel = Selection((Star *)nearestStar);
     }
     else
-        browserSel.select((Star *)tmpSel);
+        browserSel = Selection((Star *)tmpSel);
     return(TRUE);
 }
 
@@ -1529,7 +1528,7 @@
     GtkWidget *browser= gnome_dialog_new("Celestial Browser",
 				         GNOME_STOCK_BUTTON_OK,
 				         NULL);
-    browserSel.select((Star *)NULL);
+    browserSel = Selection((Star *)NULL);
     if (browser == NULL)
     {
 	DPRINTF(0, "Unable to open celestial browser dialog!\n");
@@ -1584,7 +1583,7 @@
     gtk_container_add(GTK_CONTAINER(align),GTK_WIDGET(hbox));
     sbrowser.setSimulation(appSim);
     addStars();
-    tmpSel=browserSel.star;
+    tmpSel=(Star*)browserSel.obj;
     gtk_signal_connect(GTK_OBJECT(clist), "select-row",
 		       GTK_SIGNAL_FUNC(listSelect), NULL);
     gtk_clist_select_row(GTK_CLIST(clist), 0, 0);
@@ -1667,7 +1666,7 @@
     gnome_dialog_run_and_close(GNOME_DIALOG(browser));
     clist=NULL;
     ctree=NULL;
-    browserSel.select((Star *)NULL);
+    browserSel = Selection((Star *)NULL);
 }
 
 
