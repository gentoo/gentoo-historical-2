diff -urp ipw2200-1.0.3/ipw2200.h ipw2200-1.0.3-suspend2/ipw2200.h
--- ipw2200-1.0.3/ipw2200.h	2005-04-08 23:36:51.000000000 +0200
+++ ipw2200-1.0.3-suspend2/ipw2200.h	2005-05-05 21:39:40.000000000 +0200
@@ -65,7 +65,8 @@ typedef void irqreturn_t;
 #endif
 
 #if !defined(CONFIG_SOFTWARE_SUSPEND2_BUILTIN) && \
-	(defined(CONFIG_SOFTWARE_SUSPEND2) || \
+	(defined(CONFIG_SUSPEND2) || \
+	defined(CONFIG_SOFTWARE_SUSPEND2) ||		\
 	defined(CONFIG_SOFTWARE_SUSPEND2_MODULE))
 #define CONFIG_SOFTWARE_SUSPEND2_BUILTIN
 #endif
