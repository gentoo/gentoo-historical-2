#!/sbin/runscript
#
# (c) 2003 Dennis Leeuw
# License: GPL version 2 or any newer version
#
# Modifications, truncation, and gentoo-ification:
# Copyright 2004 Gentoo Technologies, Inc.

if [ -f /etc/conf.d/gnustep.env ]; then
	. /etc/conf.d/gnustep.env
else
	GNUSTEP_SYSTEM_ROOT="/usr/GNUstep/System"
fi
. ${GNUSTEP_SYSTEM_ROOT}/Library/Makefiles/GNUstep.sh

start() {
#	ebegin "Starting gnustep daemons"

	ebegin "Starting gdomap "
	GNUSTEP_USER_ROOT=/var/run/GNUstep \
		GNUSTEP_DEFAULTS_ROOT=/var/run/GNUstep \
		gdomap
	eend $?
	ebegin "Starting gdnc "
	GNUSTEP_USER_ROOT=/var/run/GNUstep \
		GNUSTEP_DEFAULTS_ROOT=/var/run/GNUstep \
		gdnc &
	eend $?
#	ebegin "\tgnustep_sndd"
#	GNUSTEP_USER_ROOT=/var/run/GNUstep \
#	GNUSTEP_DEFAULTS_ROOT=/var/run/GNUstep \
#		/gnustep_sndd
#	eend $?
}

stop() {
#	ebegin "Stopping gnustep daemons"

	ebegin "Stopping gdomap "
	killall gdomap
	eend $?
	
	ebegin "Stopping gdnc "
	killall gdnc
	eend $?

#	ebegin "\tgnustep_sndd"
#	killall gnustep_sndd
#	eend $?
}

