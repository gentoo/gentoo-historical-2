--- src/corelib/arch/qatomic_alpha.h Mon Jul 16 08:55:06 2007
+++ src/corelib/arch/qatomic_alpha.h Mon Jul 16 08:55:06 2007
@@ -180,7 +180,7 @@
                  : "=&r" (old), "=&r" (tmp), "+m"(*ptr)
                  : "r" (value)
                  : "memory");
-    return old != -1;
+    return old;
 }

 inline int q_atomic_fetch_and_add_acquire_int(volatile int *ptr, int value)
@@ -198,7 +198,7 @@
                  : "=&r" (old), "=&r" (tmp), "+m"(*ptr)
                  : "r" (value)
                  : "memory");
-    return old != -1;
+    return old;
 }

 inline int q_atomic_fetch_and_add_release_int(volatile int *ptr, int value)
@@ -216,7 +216,7 @@
                  : "=&r" (old), "=&r" (tmp), "+m"(*ptr)
                  : "r" (value)
                  : "memory");
-    return old != -1;
+    return old;
 }

 #else // !Q_CC_GNU