--- configure.in	2003-06-17 06:11:06.000000000 +0200
+++ configure.in	2003-07-02 15:25:54.000000000 +0200
@@ -16,6 +16,7 @@
 AC_SUBST(ILFIND)
 AC_SUBST(ASSEMBLY_LINKER)
 AC_SUBST(PNET_PATH)
+AC_SUBST(X11_LIB)
 
 dnl Checks for programs.
 AC_PROG_AWK
@@ -43,6 +44,13 @@
 AC_CHECK_HEADERS(time.h sys/time.h sys/types.h sys/select.h unistd.h)
 AC_CHECK_FUNCS(select)
 
+dnl Determine if we should add -lX11 to the link line of "libXsharpSupport.so".
+if test "x$no_x" = "xyes" ; then
+	X11_LIB=
+else
+	X11_LIB=-lX11
+fi
+
 dnl The --with-pnet option can be used to specify the location of
 dnl Portable.NET, so that we know where to get the C# compiler, etc.
 dnl The default location is assumed to be "../pnet".
