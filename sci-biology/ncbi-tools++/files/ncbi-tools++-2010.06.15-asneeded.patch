 src/algo/align/nw/Makefile.xalgoalignnw.lib        |    2 ++
 src/algo/blast/api/Makefile.xblast.lib             |    2 +-
 src/algo/blast/blastinput/Makefile.blastinput.lib  |    2 +-
 src/algo/winmask/Makefile.xalgowinmask.lib         |    1 +
 src/build-system/configure                         |    4 ++--
 src/build-system/configure.ac                      |    4 ++--
 src/cgi/Makefile.cgi.lib                           |    2 ++
 src/cgi/Makefile.fcgi.lib                          |    2 ++
 src/connect/Makefile.connssl.lib                   |    2 ++
 src/connect/Makefile.xconnect.lib                  |    2 ++
 src/connect/Makefile.xthrserv.lib                  |    3 ++-
 src/connect/Makefile.xxconnect.lib                 |    1 +
 .../services/Makefile.ncbi_xcache_netcache.lib     |    3 ++-
 src/connect/services/Makefile.xconnserv.lib        |    2 +-
 src/connect/test/Makefile.conntest.lib             |    2 ++
 src/corelib/Makefile.test_boost.lib                |    2 ++
 src/corelib/Makefile.test_mt.lib                   |    2 ++
 src/corelib/test/Makefile.pbacktest.lib            |    2 ++
 src/db/bdb/Makefile.bdb.lib                        |    3 +++
 src/db/bdb/Makefile.ncbi_xcache_bdb.lib            |    2 +-
 src/db/sqlite/Makefile.sqlitewrapp.lib             |    3 +++
 src/dbapi/Makefile.dbapi.lib                       |    3 +++
 src/dbapi/driver/Makefile.dbapi_driver.lib         |    1 +
 .../driver/samples/Makefile.dbapi_sample_base.lib  |    2 ++
 .../python/Makefile.python_ncbi_dbapi.lib          |    2 +-
 src/dbapi/simple/Makefile.sdbapi.lib               |    2 ++
 src/html/Makefile.html.lib                         |    1 +
 src/objects/biblio/Makefile.biblio.lib             |    2 ++
 src/objects/blast/Makefile.blast.lib               |    2 ++
 src/objects/blast/Makefile.xnetblastcli.lib        |    2 ++
 src/objects/general/Makefile.general.lib           |    2 ++
 src/objects/medline/Makefile.medline.lib           |    2 ++
 src/objects/omssa/Makefile.omssa.lib               |    2 ++
 src/objects/pub/Makefile.pub.lib                   |    2 ++
 src/objects/scoremat/Makefile.scoremat.lib         |    2 ++
 src/objects/seq/Makefile.seq.lib                   |    2 ++
 .../align_format/Makefile.align_format.lib         |    2 ++
 src/objtools/blast/seqdb_reader/Makefile.seqdb.lib |    1 +
 .../blastdb/Makefile.ncbi_xloader_blastdb.lib      |    1 +
 .../data_loaders/genbank/Makefile.ncbi_xreader.lib |    2 +-
 src/objtools/readers/Makefile.xobjread.lib         |    3 +--
 src/objtools/readers/Makefile.xobjreadex.lib       |    2 ++
 src/serial/Makefile.serial.lib                     |    2 ++
 src/serial/soap/Makefile.soap.lib                  |    2 ++
 src/serial/soap/Makefile.soap_server.lib           |    2 ++
 src/serial/test/Makefile.we_cpp.lib                |    2 ++
 src/util/Makefile.util.lib                         |    2 ++
 src/util/compress/api/Makefile.compress.lib        |    2 +-
 src/util/qparse/Makefile.xqueryparse.lib           |    2 ++
 src/util/regexp/Makefile.regexp.lib                |    2 ++
 src/util/sequtil/Makefile.sequtil.lib              |    2 ++
 src/util/xregexp/Makefile.xregexp.lib              |    2 +-
 52 files changed, 92 insertions(+), 16 deletions(-)

diff --git a/src/algo/align/nw/Makefile.xalgoalignnw.lib b/src/algo/align/nw/Makefile.xalgoalignnw.lib
index db149c4..25d62b9 100644
--- a/src/algo/align/nw/Makefile.xalgoalignnw.lib
+++ b/src/algo/align/nw/Makefile.xalgoalignnw.lib
@@ -17,3 +17,5 @@ LIB = xalgoalignnw
 
 CXXFLAGS = $(FAST_CXXFLAGS) -D ALGOALIGN_NW_SPLIGN_MAKE_PUBLIC_BINARY
 LDFLAGS  = $(FAST_LDFLAGS)
+
+DLL_LIB = xser  xncbi xutil
diff --git a/src/algo/blast/api/Makefile.xblast.lib b/src/algo/blast/api/Makefile.xblast.lib
index 68d5ad8..8bf6ab5 100644
--- a/src/algo/blast/api/Makefile.xblast.lib
+++ b/src/algo/blast/api/Makefile.xblast.lib
@@ -73,7 +73,7 @@ SRC  = $(SRC_C:%=.core_%) $(SRC_CXX)
 
 LIB = xblast
 
-DLL_LIB = xalgodustmask xobjutil $(OBJMGR_LIBS)
+DLL_LIB = xalgowinmask composition_adjustment xalgoblastdbindex xalgodustmask xobjutil $(OBJMGR_LIBS)
 
 CFLAGS   = $(FAST_CFLAGS)
 # Strict gcc flags
diff --git a/src/algo/blast/blastinput/Makefile.blastinput.lib b/src/algo/blast/blastinput/Makefile.blastinput.lib
index ede2c7b..da2f544 100644
--- a/src/algo/blast/blastinput/Makefile.blastinput.lib
+++ b/src/algo/blast/blastinput/Makefile.blastinput.lib
@@ -20,7 +20,7 @@ SRC  = $(SRC_CXX)
 
 LIB = blastinput
 
-DLL_LIB = xblast $(OBJMGR_LIBS)
+DLL_LIB = xblast $(OBJMGR_LIBS) seqdb
 
 # should be redundant, given the above :-/
 ASN_DEP = seqset xnetblast
diff --git a/src/algo/winmask/Makefile.xalgowinmask.lib b/src/algo/winmask/Makefile.xalgowinmask.lib
index 951e656..8297ec7 100644
--- a/src/algo/winmask/Makefile.xalgowinmask.lib
+++ b/src/algo/winmask/Makefile.xalgowinmask.lib
@@ -19,3 +19,4 @@ SRC = seq_masker seq_masker_score_mean seq_masker_score_mean_glob \
 CXXFLAGS = $(FAST_CXXFLAGS)
 LDFLAGS  = $(FAST_LDFLAGS)
 
+DLL_LIB = seqmasks_io
diff --git a/src/build-system/configure b/src/build-system/configure
index a088db7..d858c86 100755
--- a/src/build-system/configure
+++ b/src/build-system/configure
@@ -5054,10 +5054,10 @@ if test -z "$DEF_FAST_FLAGS"  -o  -z "$FAST_CXXFLAGS" ; then
         DEF_FAST_FLAGS="-O2"
         ;;
       GCC:* )
-        DEF_FAST_FLAGS="-O9 -finline-functions -ffast-math -fstrict-aliasing"
+        DEF_FAST_FLAGS=""
         if test "$with_profiling" != "yes"; then
            # incompatible with -pg
-           DEF_FAST_FLAGS="$DEF_FAST_FLAGS -fomit-frame-pointer"
+           DEF_FAST_FLAGS="$DEF_FAST_FLAGS"
         fi
         ;;
       WorkShop5[89]* | WorkShop510 )
diff --git a/src/build-system/configure.ac b/src/build-system/configure.ac
index 7810bc3..5ad6d38 100644
--- a/src/build-system/configure.ac
+++ b/src/build-system/configure.ac
@@ -1276,10 +1276,10 @@ if test -z "$DEF_FAST_FLAGS"  -o  -z "$FAST_CXXFLAGS" ; then
         DEF_FAST_FLAGS="-O2"
         ;;
       GCC:* )
-        DEF_FAST_FLAGS="-O9 -finline-functions -ffast-math -fstrict-aliasing"
+        DEF_FAST_FLAGS=""
         if test "$with_profiling" != "yes"; then
            # incompatible with -pg
-           DEF_FAST_FLAGS="$DEF_FAST_FLAGS -fomit-frame-pointer"
+           DEF_FAST_FLAGS="$DEF_FAST_FLAGS"
         fi
         ;;
       WorkShop5[[89]]* | WorkShop510 )
diff --git a/src/cgi/Makefile.cgi.lib b/src/cgi/Makefile.cgi.lib
index a990390..81f4e7e 100644
--- a/src/cgi/Makefile.cgi.lib
+++ b/src/cgi/Makefile.cgi.lib
@@ -10,4 +10,6 @@ LIB = xcgi
 
 CPPFLAGS = $(ORIG_CPPFLAGS) $(FASTCGI_INCLUDE)
 
+DLL_LIB  = xncbi xutil
+
 WATCHERS = vakatov
diff --git a/src/cgi/Makefile.fcgi.lib b/src/cgi/Makefile.fcgi.lib
index 2569b41..42b4196 100644
--- a/src/cgi/Makefile.fcgi.lib
+++ b/src/cgi/Makefile.fcgi.lib
@@ -11,4 +11,6 @@ LIB = xfcgi
 
 CPPFLAGS = $(ORIG_CPPFLAGS) $(FASTCGI_INCLUDE) -DNCBI_XFCGI_EXPORTS
 
+DLL_LIB  = xncbi xutil
+
 WATCHERS = vakatov
diff --git a/src/connect/Makefile.connssl.lib b/src/connect/Makefile.connssl.lib
index b400ca2..c252172 100644
--- a/src/connect/Makefile.connssl.lib
+++ b/src/connect/Makefile.connssl.lib
@@ -4,6 +4,8 @@ SRC      = ncbi_gnutls
 
 LIB      = connssl
 
+DLL_LIB = connect
+
 CPPFLAGS = $(GNUTLS_INCLUDE) $(ORIG_CPPFLAGS)
 LIBS     = $(GNUTLS_LIBS) $(ORIG_LIBS)
 
diff --git a/src/connect/Makefile.xconnect.lib b/src/connect/Makefile.xconnect.lib
index 473bb0b..2550dda 100644
--- a/src/connect/Makefile.xconnect.lib
+++ b/src/connect/Makefile.xconnect.lib
@@ -11,6 +11,8 @@ include $(srcdir)/Makefile.xxconnect.lib
 SRC  = $(SRC_C) $(SRC_CXX)
 UNIX_SRC = $(LOCAL_LBSM)
 
+DLL_LIB = xncbi xutil
+
 LIB  = xconnect
 PROJ_TAG = core
 
diff --git a/src/connect/Makefile.xthrserv.lib b/src/connect/Makefile.xthrserv.lib
index 23a845b..9d90fd0 100644
--- a/src/connect/Makefile.xthrserv.lib
+++ b/src/connect/Makefile.xthrserv.lib
@@ -4,6 +4,7 @@ SRC      = threaded_server server server_monitor connection_pool
 LIB      = xthrserv
 PROJ_TAG = core
 LIBS     = $(NETWORK_LIBS)
-DLL_LIB  = xutil xconnect
+
+DLL_LIB  = xncbi xutil xconnect
 
 WATCHERS = lavr
diff --git a/src/connect/Makefile.xxconnect.lib b/src/connect/Makefile.xxconnect.lib
index 382f0b9..c31ace3 100644
--- a/src/connect/Makefile.xxconnect.lib
+++ b/src/connect/Makefile.xxconnect.lib
@@ -13,6 +13,7 @@ SRC      = $(SRC_CXX)
 LIB      = xxconnect
 PROJ_TAG = core
 
+DLL_LIB = xncbi xutil connect
 LIBS     = $(NETWORK_LIBS) $(ORIG_LIBS)
 
 WATCHERS = lavr
diff --git a/src/connect/services/Makefile.ncbi_xcache_netcache.lib b/src/connect/services/Makefile.ncbi_xcache_netcache.lib
index 606f4f1..2911eff 100644
--- a/src/connect/services/Makefile.ncbi_xcache_netcache.lib
+++ b/src/connect/services/Makefile.ncbi_xcache_netcache.lib
@@ -6,7 +6,8 @@ SRC = neticache_client
 LIB = ncbi_xcache_netcache
 
 LIB_OR_DLL = both
-DLL_LIB = xconnserv xconnect xutil
+
+DLL_LIB = xconnserv xconnect xutil xncbi
 
 CPPFLAGS = $(ORIG_CPPFLAGS)
 LIBS = $(ORIG_LIBS)
diff --git a/src/connect/services/Makefile.xconnserv.lib b/src/connect/services/Makefile.xconnserv.lib
index 8124a0d..de45848 100644
--- a/src/connect/services/Makefile.xconnserv.lib
+++ b/src/connect/services/Makefile.xconnserv.lib
@@ -16,6 +16,6 @@ LIB     = xconnserv
 PROJ_TAG = core
 LIBS    = $(NETWORK_LIBS)
 
-DLL_LIB = xthrserv xconnect xutil
+DLL_LIB = xthrserv xconnect xutil xncbi
 
 WATCHERS = kazimird
diff --git a/src/connect/test/Makefile.conntest.lib b/src/connect/test/Makefile.conntest.lib
index 08f7bb9..9389e09 100644
--- a/src/connect/test/Makefile.conntest.lib
+++ b/src/connect/test/Makefile.conntest.lib
@@ -3,4 +3,6 @@
 SRC = ncbi_conntest
 LIB = xconntest
 
+DLL_LIB = xncbi xutil connect
+
 WATCHERS = lar
diff --git a/src/corelib/Makefile.test_boost.lib b/src/corelib/Makefile.test_boost.lib
index b19bc5b..036951a 100644
--- a/src/corelib/Makefile.test_boost.lib
+++ b/src/corelib/Makefile.test_boost.lib
@@ -3,6 +3,8 @@
 SRC = test_boost
 LIB = test_boost
 
+DLL_LIB = xncbi
+
 CPPFLAGS = $(ORIG_CPPFLAGS) $(BOOST_INCLUDE)
 
 REQUIRES = Boost.Test.Included
diff --git a/src/corelib/Makefile.test_mt.lib b/src/corelib/Makefile.test_mt.lib
index 90c10d2..d99347b 100644
--- a/src/corelib/Makefile.test_mt.lib
+++ b/src/corelib/Makefile.test_mt.lib
@@ -3,6 +3,8 @@
 SRC = test_mt
 LIB    = test_mt
 
+DLL_LIB = xncbi
+
 # REQUIRES = MT
 
 WATCHERS = grichenk
diff --git a/src/corelib/test/Makefile.pbacktest.lib b/src/corelib/test/Makefile.pbacktest.lib
index da0c616..e9aeba7 100644
--- a/src/corelib/test/Makefile.pbacktest.lib
+++ b/src/corelib/test/Makefile.pbacktest.lib
@@ -3,4 +3,6 @@
 SRC = pbacktest
 LIB = xpbacktest
 
+DLL_LIB = xncbi
+
 WATCHERS = lavr
diff --git a/src/db/bdb/Makefile.bdb.lib b/src/db/bdb/Makefile.bdb.lib
index 3729707..45874cf 100644
--- a/src/db/bdb/Makefile.bdb.lib
+++ b/src/db/bdb/Makefile.bdb.lib
@@ -13,4 +13,7 @@ LIB = bdb
 
 CPPFLAGS = $(ORIG_CPPFLAGS) $(BERKELEYDB_INCLUDE)
 
+DLL_LIB = xncbi xutil
+LIBS = $(BERKELEYDB_LIBS)
+
 WATCHERS = kuznets
diff --git a/src/db/bdb/Makefile.ncbi_xcache_bdb.lib b/src/db/bdb/Makefile.ncbi_xcache_bdb.lib
index 7e97a26..8f54efc 100644
--- a/src/db/bdb/Makefile.ncbi_xcache_bdb.lib
+++ b/src/db/bdb/Makefile.ncbi_xcache_bdb.lib
@@ -8,7 +8,7 @@ SRC = bdb_blobcache
 LIB = ncbi_xcache_bdb
 
 LIB_OR_DLL = both
-DLL_LIB = bdb xutil
+DLL_LIB = bdb xutil xncbi
 
 CPPFLAGS = $(ORIG_CPPFLAGS) $(BERKELEYDB_INCLUDE)
 LIBS = $(BERKELEYDB_LIBS) $(ORIG_LIBS)
diff --git a/src/db/sqlite/Makefile.sqlitewrapp.lib b/src/db/sqlite/Makefile.sqlitewrapp.lib
index cecfd16..5d72f9c 100644
--- a/src/db/sqlite/Makefile.sqlitewrapp.lib
+++ b/src/db/sqlite/Makefile.sqlitewrapp.lib
@@ -7,4 +7,7 @@ CPPFLAGS= $(ORIG_CPPFLAGS) $(SQLITE3_INCLUDE)
 
 REQUIRES = SQLITE3
 
+DLL_LIB = xncbi xutil
+LIBS = $(SQLITE3_LIBS)
+
 WATCHERS = ivanovp
diff --git a/src/dbapi/Makefile.dbapi.lib b/src/dbapi/Makefile.dbapi.lib
index 6e3ad4c..d1b5425 100644
--- a/src/dbapi/Makefile.dbapi.lib
+++ b/src/dbapi/Makefile.dbapi.lib
@@ -5,7 +5,10 @@ SRC = variant active_obj dbapi driver_mgr err_handler ds_impl conn_impl \
 	 bytestreambuf blobstream \
 	 cursor_impl bulkinsert rw_impl
 
+#ASN_DEP = dbapi_driver
 LIB    = dbapi
+DLL_LIB = xncbi xutil
+LIBS	= $(PYTHON_LIBS)
 
 CPPFLAGS = $(ORIG_CPPFLAGS) $(SYBASE_INCLUDE)
 
diff --git a/src/dbapi/driver/Makefile.dbapi_driver.lib b/src/dbapi/driver/Makefile.dbapi_driver.lib
index dfeac5a..8128559 100644
--- a/src/dbapi/driver/Makefile.dbapi_driver.lib
+++ b/src/dbapi/driver/Makefile.dbapi_driver.lib
@@ -15,6 +15,7 @@ LIB_OR_DLL = both
 
 CPPFLAGS = $(ORIG_CPPFLAGS)
 
+DLL_LIB = xncbi xutil
 LIBS = $(DL_LIBS) $(ORIG_LIBS)
 
 # Work around a mysterious bug in Apple's GCC.
diff --git a/src/dbapi/driver/samples/Makefile.dbapi_sample_base.lib b/src/dbapi/driver/samples/Makefile.dbapi_sample_base.lib
index 941ccd6..ef0226f 100644
--- a/src/dbapi/driver/samples/Makefile.dbapi_sample_base.lib
+++ b/src/dbapi/driver/samples/Makefile.dbapi_sample_base.lib
@@ -5,4 +5,6 @@ LIB = dbapi_sample_base
 
 CPPFLAGS = $(ORIG_CPPFLAGS) $(SYBASE_INCLUDE)
 
+DLL_LIB = xncbi xutil dbapi_driver
+
 WATCHERS = ivanovp
diff --git a/src/dbapi/lang_bind/python/Makefile.python_ncbi_dbapi.lib b/src/dbapi/lang_bind/python/Makefile.python_ncbi_dbapi.lib
index ebe08c4..86ecda6 100644
--- a/src/dbapi/lang_bind/python/Makefile.python_ncbi_dbapi.lib
+++ b/src/dbapi/lang_bind/python/Makefile.python_ncbi_dbapi.lib
@@ -11,7 +11,7 @@ LIB_OR_DLL = dll
 
 # Dependencies for shared library
 DLL_LIB = dbapi dbapi_driver$(DLL) $(XCONNEXT) xconnect xutil xncbi
-LIBS    = $(RUNPATH_ORIGIN)/python_ncbi_dbapi/$(NCBI_PACKAGE_VERSION) $(ORIG_LIBS)
+LIBS    = $(RUNPATH_ORIGIN)/python_ncbi_dbapi/$(NCBI_PACKAGE_VERSION) $(ORIG_LIBS) $(PYTHON_LIBS)
 # Drop other flags to build with full dependencies under ICC.
 DLL_LDFLAGS = $(DLL_UNDEF_FLAGS)
 
diff --git a/src/dbapi/simple/Makefile.sdbapi.lib b/src/dbapi/simple/Makefile.sdbapi.lib
index 603fd1e..72d3a5c 100644
--- a/src/dbapi/simple/Makefile.sdbapi.lib
+++ b/src/dbapi/simple/Makefile.sdbapi.lib
@@ -3,5 +3,7 @@
 SRC = sdbapi
 LIB = sdbapi
 
+DLL_LIB = xncbi xutil dbapi_driver ncbi_xdbapi_ftds xconnect xser bdb xconnserv
+
 WATCHERS = ivanovp
 
diff --git a/src/html/Makefile.html.lib b/src/html/Makefile.html.lib
index a57c1e3..dd520a0 100644
--- a/src/html/Makefile.html.lib
+++ b/src/html/Makefile.html.lib
@@ -7,4 +7,5 @@ SRC = node html htmlhelper page pager selection components \
       jsmenu commentdiag indentstream html_exception writer_htmlenc
 LIB = xhtml
 
+DLL_LIB = xncbi xutil
 WATCHERS = ivanov
diff --git a/src/objects/biblio/Makefile.biblio.lib b/src/objects/biblio/Makefile.biblio.lib
index 275c307..6b5a85b 100644
--- a/src/objects/biblio/Makefile.biblio.lib
+++ b/src/objects/biblio/Makefile.biblio.lib
@@ -1,2 +1,4 @@
 LIB = biblio
 SRC = biblio__ biblio___ label_util
+
+DLL_LIB = general xser  xncbi xutil
diff --git a/src/objects/blast/Makefile.blast.lib b/src/objects/blast/Makefile.blast.lib
index b9d7d38..e736a95 100644
--- a/src/objects/blast/Makefile.blast.lib
+++ b/src/objects/blast/Makefile.blast.lib
@@ -1,2 +1,4 @@
 LIB = xnetblast
 SRC = blast__ blast___ names
+
+DLL_LIB = xncbi xutil
diff --git a/src/objects/blast/Makefile.xnetblastcli.lib b/src/objects/blast/Makefile.xnetblastcli.lib
index 96325c4..20ee95c 100644
--- a/src/objects/blast/Makefile.xnetblastcli.lib
+++ b/src/objects/blast/Makefile.xnetblastcli.lib
@@ -2,3 +2,5 @@ ASN_DEP = xnetblast
 
 LIB = xnetblastcli
 SRC = blastclient blastclient_
+
+DLL_LIB  = xncbi xutil seqset connect xconnect
diff --git a/src/objects/general/Makefile.general.lib b/src/objects/general/Makefile.general.lib
index 951304f..3be083d 100644
--- a/src/objects/general/Makefile.general.lib
+++ b/src/objects/general/Makefile.general.lib
@@ -1,2 +1,4 @@
 LIB = general
 SRC = general__ general___ uoconv
+
+DLL_LIB = xser  xncbi xutil
diff --git a/src/objects/medline/Makefile.medline.lib b/src/objects/medline/Makefile.medline.lib
index ea28066..eb42aa4 100644
--- a/src/objects/medline/Makefile.medline.lib
+++ b/src/objects/medline/Makefile.medline.lib
@@ -1,2 +1,4 @@
 LIB = medline
 SRC = medline__ medline___
+
+DLL_LIB = general biblio
diff --git a/src/objects/omssa/Makefile.omssa.lib b/src/objects/omssa/Makefile.omssa.lib
index b79617f..e1d4a9e 100644
--- a/src/objects/omssa/Makefile.omssa.lib
+++ b/src/objects/omssa/Makefile.omssa.lib
@@ -2,3 +2,5 @@ APP_DEP = seq
 
 LIB = omssa
 SRC = omssa__ omssa___
+
+DLL_LIB = seq
diff --git a/src/objects/pub/Makefile.pub.lib b/src/objects/pub/Makefile.pub.lib
index 78c12e1..9baa08d 100644
--- a/src/objects/pub/Makefile.pub.lib
+++ b/src/objects/pub/Makefile.pub.lib
@@ -1,2 +1,4 @@
 LIB = pub
 SRC = pub__ pub___
+
+DLL_LIB = medline biblio
diff --git a/src/objects/scoremat/Makefile.scoremat.lib b/src/objects/scoremat/Makefile.scoremat.lib
index 62e01f5..6260041 100644
--- a/src/objects/scoremat/Makefile.scoremat.lib
+++ b/src/objects/scoremat/Makefile.scoremat.lib
@@ -1,2 +1,4 @@
 LIB = scoremat
 SRC = scoremat__ scoremat___
+
+DLL_LIB = seqset
diff --git a/src/objects/seq/Makefile.seq.lib b/src/objects/seq/Makefile.seq.lib
index 5ca2820..3671ee1 100644
--- a/src/objects/seq/Makefile.seq.lib
+++ b/src/objects/seq/Makefile.seq.lib
@@ -10,3 +10,5 @@ LIB = seq
 SRC = $(ASN:%=%__) $(ASN:%=%___) seqport_util \
       seq_id_tree seq_id_handle seq_id_mapper \
       seq_loc_mapper_base seq_align_mapper_base seqlocinfo
+
+DLL_LIB = general seqcode pub sequtil biblio xser xncbi xutil
diff --git a/src/objtools/align_format/Makefile.align_format.lib b/src/objtools/align_format/Makefile.align_format.lib
index fe0c16d..c4535ea 100644
--- a/src/objtools/align_format/Makefile.align_format.lib
+++ b/src/objtools/align_format/Makefile.align_format.lib
@@ -16,3 +16,5 @@ CPPFLAGS = $(ORIG_CPPFLAGS)
 # CXXFLAGS = $(FAST_CXXFLAGS)
 #
 # LIB_OR_DLL = dll
+
+DLL_LIB = seqdb blastdb
diff --git a/src/objtools/blast/seqdb_reader/Makefile.seqdb.lib b/src/objtools/blast/seqdb_reader/Makefile.seqdb.lib
index 11c7fae..855e0fb 100644
--- a/src/objtools/blast/seqdb_reader/Makefile.seqdb.lib
+++ b/src/objtools/blast/seqdb_reader/Makefile.seqdb.lib
@@ -28,3 +28,4 @@ CFLAGS   = $(FAST_CFLAGS)
 CXXFLAGS = $(FAST_CXXFLAGS)
 LDFLAGS  = $(FAST_LDFLAGS)
 
+DLL_LIB = blastdb
diff --git a/src/objtools/data_loaders/blastdb/Makefile.ncbi_xloader_blastdb.lib b/src/objtools/data_loaders/blastdb/Makefile.ncbi_xloader_blastdb.lib
index 22dc6df..868da0f 100644
--- a/src/objtools/data_loaders/blastdb/Makefile.ncbi_xloader_blastdb.lib
+++ b/src/objtools/data_loaders/blastdb/Makefile.ncbi_xloader_blastdb.lib
@@ -5,3 +5,4 @@ SRC = bdbloader cached_sequence local_blastdb_adapter
 
 ASN_DEP = blastdb seqset
 
+DLL_LIB = seqdb
diff --git a/src/objtools/data_loaders/genbank/Makefile.ncbi_xreader.lib b/src/objtools/data_loaders/genbank/Makefile.ncbi_xreader.lib
index b938560..07bddd8 100644
--- a/src/objtools/data_loaders/genbank/Makefile.ncbi_xreader.lib
+++ b/src/objtools/data_loaders/genbank/Makefile.ncbi_xreader.lib
@@ -12,4 +12,4 @@ LIB = ncbi_xreader
 LIB_OR_DLL = both
 
 # Dependencies for shared library
-DLL_LIB = 
+DLL_LIB = xcompress
diff --git a/src/objtools/readers/Makefile.xobjread.lib b/src/objtools/readers/Makefile.xobjread.lib
index c5c4789..58b304a 100644
--- a/src/objtools/readers/Makefile.xobjread.lib
+++ b/src/objtools/readers/Makefile.xobjread.lib
@@ -8,5 +8,4 @@ SRC = acc_pattern agp_read agp_util aln_reader bed_reader cigar fasta \
 	  multireader phrap reader_base readfeat rm_reader wiggle_data \
 	  wiggle_reader
 
-DLL_LIB = creaders
-
+DLL_LIB = creaders xncbi seq biblio seqset
diff --git a/src/objtools/readers/Makefile.xobjreadex.lib b/src/objtools/readers/Makefile.xobjreadex.lib
index 8152069..62c1e64 100644
--- a/src/objtools/readers/Makefile.xobjreadex.lib
+++ b/src/objtools/readers/Makefile.xobjreadex.lib
@@ -5,3 +5,5 @@ ASN_DEP = seq seqset
 LIB = xobjreadex
 SRC = glimmer_reader idmapper idmapper_builtin idmapper_config \
 	  idmapper_database
+
+DLL_LIB = xncbi xutil seq
diff --git a/src/serial/Makefile.serial.lib b/src/serial/Makefile.serial.lib
index 2563b5f..d2e23b9 100644
--- a/src/serial/Makefile.serial.lib
+++ b/src/serial/Makefile.serial.lib
@@ -18,4 +18,6 @@ SRC = \
 
 LIB    = xser
 
+DLL_LIB = xncbi xutil
+
 WATCHERS = gouriano
diff --git a/src/serial/soap/Makefile.soap.lib b/src/serial/soap/Makefile.soap.lib
index e77d4ee..936798a 100644
--- a/src/serial/soap/Makefile.soap.lib
+++ b/src/serial/soap/Makefile.soap.lib
@@ -7,4 +7,6 @@ SRC = soap_message soap_readhook soap_writehook soap_client \
       soap_11__ soap_11___
 LIB = xsoap
 
+DLL_LIB = xncbi xutil xser xconnect
+
 WATCHERS = gouriano
diff --git a/src/serial/soap/Makefile.soap_server.lib b/src/serial/soap/Makefile.soap_server.lib
index c961496..4892f55 100644
--- a/src/serial/soap/Makefile.soap_server.lib
+++ b/src/serial/soap/Makefile.soap_server.lib
@@ -8,4 +8,6 @@ LIB = xsoap_server
 
 REQUIRES = cgi
 
+DLL_LIB = xncbi xutil xcgi xsoap xser
+
 WATCHERS = gouriano
diff --git a/src/serial/test/Makefile.we_cpp.lib b/src/serial/test/Makefile.we_cpp.lib
index 9877691..1c7250b 100644
--- a/src/serial/test/Makefile.we_cpp.lib
+++ b/src/serial/test/Makefile.we_cpp.lib
@@ -1,5 +1,7 @@
 LIB = we_cpp
 SRC = we_cpp__ we_cpp___
 
+DLL_LIB = xncbi xutil xser
+
 WATCHERS = gouriano
 
diff --git a/src/util/Makefile.util.lib b/src/util/Makefile.util.lib
index f103ff1..98d2cd0 100644
--- a/src/util/Makefile.util.lib
+++ b/src/util/Makefile.util.lib
@@ -11,6 +11,8 @@ SRC = random_gen utf8 checksum bytesrc strbuffer itree smalldns \
 LIB = xutil
 PROJ_TAG = core
 
+DLL_LIB = xncbi
+
 LIBS = $(ORIG_LIBS)
 
 WATCHERS = vakatov
diff --git a/src/util/compress/api/Makefile.compress.lib b/src/util/compress/api/Makefile.compress.lib
index f27e8fb..18b0634 100644
--- a/src/util/compress/api/Makefile.compress.lib
+++ b/src/util/compress/api/Makefile.compress.lib
@@ -6,7 +6,7 @@ LIB = xcompress
 
 CPPFLAGS = $(ORIG_CPPFLAGS) $(CMPRS_INCLUDE)
 
-DLL_LIB =  $(BZ2_LIB)  $(Z_LIB)  $(LZO_LIB)
+DLL_LIB =  $(BZ2_LIB)  $(Z_LIB)  $(LZO_LIB) xutil xncbi
 LIBS    =  $(BZ2_LIBS) $(Z_LIBS) $(LZO_LIBS)
 
 WATCHERS = ivanov
diff --git a/src/util/qparse/Makefile.xqueryparse.lib b/src/util/qparse/Makefile.xqueryparse.lib
index a003930..0f59ec0 100644
--- a/src/util/qparse/Makefile.xqueryparse.lib
+++ b/src/util/qparse/Makefile.xqueryparse.lib
@@ -6,4 +6,6 @@ SRC = query_parse parser query_tree_print query_exec
 query_parser_bison.tab.c : query_parser_bison.y
 	bison -v -p ncbi_q_ -o query_parser_bison.tab.c query_parser_bison.y
 
+DLL_LIB = xncbi xutil
+
 WATCHERS = kuznets
diff --git a/src/util/regexp/Makefile.regexp.lib b/src/util/regexp/Makefile.regexp.lib
index 0f8d5e8..04d87d9 100644
--- a/src/util/regexp/Makefile.regexp.lib
+++ b/src/util/regexp/Makefile.regexp.lib
@@ -7,6 +7,8 @@ SRC = pcre_chartables pcre_compile pcre_config pcre_dfa_exec pcre_exec pcre_full
 
 LIB = regexp
 
+DLL_LIB = xncbi xutil
+
 CPPFLAGS = -I$(includedir)/util/regexp -DHAVE_CONFIG_H $(ORIG_CPPFLAGS)
 
 WATCHERS = ivanov
diff --git a/src/util/sequtil/Makefile.sequtil.lib b/src/util/sequtil/Makefile.sequtil.lib
index c068a32..5c89253 100644
--- a/src/util/sequtil/Makefile.sequtil.lib
+++ b/src/util/sequtil/Makefile.sequtil.lib
@@ -3,4 +3,6 @@
 LIB = sequtil
 SRC = sequtil sequtil_convert sequtil_convert_imp sequtil_manip sequtil_tables sequtil_shared
 
+DLL_LIB = xncbi xutil
+
 WATCHERS = shomrat
diff --git a/src/util/xregexp/Makefile.xregexp.lib b/src/util/xregexp/Makefile.xregexp.lib
index 965fac4..3accea3 100644
--- a/src/util/xregexp/Makefile.xregexp.lib
+++ b/src/util/xregexp/Makefile.xregexp.lib
@@ -6,7 +6,7 @@ LIB = xregexp
 
 CPPFLAGS = $(ORIG_CPPFLAGS) $(PCRE_INCLUDE)
 
-DLL_LIB = $(PCRE_LIB)
+DLL_LIB = $(PCRE_LIB) xutil xncbi
 LIBS    = $(PCRE_LIBS)
 
 WATCHERS = ivanov
