
<advisory>

<!-- packages affected -->
<packages>
	<package>
		<name>net-www/squid</name>
		<version>all prior to 2.3.4s-r4</version>
	</package>
</packages>

<!-- three digit advisory id (resets to 1 at start of every new year) -->
<id>001</id>

<!-- date in numeric form (no spaces!) -->
<date>
	<month>07</month>
	<day>30</day>
	<year>2001</year>
</date>

<!-- advisory status (Unresolved, Resolved, Revised) -->
<status>Resolved</status>

<!-- advisory authors -->
<authors>
	<author>
		<name>Bruce A. Locke</name>
		<email>blocke@gentoo.org</email>
	</author>
</authors>

<!-- description of reason for advisory -->
<description>
Squid has a serious security flaw which may allow access to an internal
network and local services if Squid is configured for http_accel while 
http_accel_with_proxy is set to "off". 
</description>

<!-- impact on users (why users should be worried) -->
<impact>
May allow unauthorized access to internal networks and may be used as
a way to get around IP based security rules, etc.
</impact>

<!-- how users should respond to the problem -->
<solution>
All users are recommended to upgrade to the latest version available
in portage (2.3.4s-r4).  Those unable to upgrade to this version can
disable http_accel mode in Squid's configuration to disable the affected
parts of Squid.
</solution>

<!-- step by step example of what users should do (optional but desired) -->
<procedure>
	<step>
		<text>Login or SU into root</text>
	</step>

	<step>
		<text>Merge new version of Squid</text>
		<example>cd /usr/portage/net-www/squid</example>
		<example>emerge squid-2.3.4s-r4.ebuild (or newer version)</example>
	</step>

	<step>
		<text>Restart the Squid service</text>
		<example>/etc/rc.d/init.d/squid stop</example>
		<example>/etc/rc.d/init.d/squid start</example>
	</step>

	<step>
		<text>Unmerge old version(s)</text>
		<example>ebuild /var/db/pkg/net-www/squid/squid-2.3.4s-r3.ebuild unmerge</example>
	</step>

</procedure>

</advisory>
