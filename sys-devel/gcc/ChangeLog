# ChangeLog for sys-devel/gcc
# Copyright 2002-2003 Gentoo Technologies, Inc.; Distributed under the GPL v2
# $Header: /var/cvsroot/gentoo-x86/sys-devel/gcc/ChangeLog,v 1.124 2003/09/15 20:17:26 azarah Exp $

*gcc-3.3.1-r2 (15 Sep 2003)

  15 Sep 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.3.1-r2.ebuild:
  Backout to an earlier cvs snapshot (20030815) to fix preprocessor issues (for
  instance lilo not compiling, bug #28266). Change libgcc.a to a linker script
  to fix problems with not linking to libc.a when linking static.

*gcc-3.3.1-r1 (07 Sep 2003)

  12 Sep 2003; Joshua Kinard <kumba@gentoo.org> gcc-3.3.1.ebuild:
  Added ~sparc to Keywords, should only affect users using the gcc33-sparc64-1.4
  testing profile.  Yell if otherwise.

  09 Sep 2003; George Shapovalov <george@gentoo.org> gcc-3.3.1.ebuild, gcc-3.3.1-r1.ebuild, gcc-3.2.1-r7.ebuild, gcc-3.2.2.ebuild, gcc-3.2.2-r2.ebuild: :
  Removed "ada" from gcc_lang as month ago for previous versions.
  Also removed gcc32-ada-make.patch and corresponding epatch invocations

  07 Sep 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.3.1-r1.ebuild:
  Update snapshot to 20030904. Fix coreutils patch - it did not catch all broken
  tail calls.

  24 Aug 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.3-r1.ebuild,
  gcc-3.2.3-r2.ebuild, gcc-3.3-r1.ebuild, gcc-3.3.1.ebuild, gcc-3.3.ebuild:
  Add hardened-gcc support, bug #26305.

  24 Aug 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.2-r2.ebuild,
  gcc-3.2.2.ebuild, gcc-3.2.3-r1.ebuild, gcc-3.2.3-r2.ebuild,
  gcc-3.3-r1.ebuild, gcc-3.3.1.ebuild, gcc-3.3.ebuild,
  files/fix_libtool_files.sh, files/awk/fixlafiles.awk:
  Fix_libtool_files.sh did not catch a user changing CHOST. Updated
  fixlafiles.awk and the latest ebuilds to support a fix for this, bug #23466.

*gcc-3.3.1 (10 Aug 2003)

  10 Aug 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.3.1.ebuild,
  files/3.3.1/gcc331-gentoo-branding.patch:
  New version.

  09 Aug 2003; George Shapovalov <george@gentoo.org> gcc-2.95.3-r7.ebuild,gcc-2.95.3-r8.ebuild,gcc-3.0.4-r6.ebuild,gcc-3.1.1-r1.ebuild,gcc-3.1-r8.ebuild,gcc-3.2.3-r1.ebuild,gcc-3.2.3-r2.ebuild,gcc-3.2-r5.ebuild,gcc-3.3.ebuild,gcc-3.3-r1.ebuild
  Removed "ada" from gcc_lang on listed ebuilds (did not touch three which do some patches,
  will do them later myself or leave to azarah).
  See #25178 for details. In short, having ada in --enable-languages does not make gcc build
  ada support properly (there is more involved, see for example #11204) and makes gcc build fail 
  on users who have gnat installed.
  
  04 Aug 2003; Matthew Rickard <frogger@gentoo.org> gcc-3.3-r1.ebuild:
  Update 3.3 ebuild to use the latest protector-3.  Also don't patch
  in ProPolice on HPPA (consistent with the 3.2.x gcc ebuilds).

*gcc-3.2.3-r2 (23 Jul 2003)

  23 Jul 2003; Matthew Rickard <frogger@gentoo.org> gcc-3.2.3-r2.ebuild:
  New revision includes updated ProPolice protector-10
  patch.  This fixes the following issues:
    - Regex functions cause m4 to seg fault
    - Doesn't protect the 1st function argument when
      CFLAGS="-O0".

  24 Jul 2003; Martin Schlemmer <azarah@gentoo.org> files/fix_libtool_files.sh:
  Fix fix_libtool_files.sh to first get the number of parameters, and $1, else
  some odd settings in /etc/profile may cause $# to be overwritten.

*gcc-3.3-r1 (20 Jul 2003)

  20 Jul 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.3-r1.ebuild,
  files/3.3/gcc33-coreutils-compat.patch.bz2,
  files/3.3/gcc33-gentoo-branding-1.patch:
  New version that rather use the gcc-3_3-rhl-branch branch.  Also add
  gcc33-coreutils-compat.patch.bz2 to call head/tail corretly as needed
  by coreutils-5.0.

  20 Jul 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.3.ebulid,
  files/3.3/gcc33-no-multilib-amd64.patch:
  Cleanup amd64 support to rather use a patch.  From Olivier Crete
  <tester@gentoo.org>.

  20 Jul 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.3-r1.ebuild,
  files/3.2.3/gcc-3.2.3-mergel-fix.patch:
  There exists a bug in the ebuild patched gcc that prevents hppa from getting
  build because of default_assemble_visibility is not compiled.  Patch done by
  Alexander Gabert <pappy@nikita.ath.cx>.

  18 Jul 2003; Will Woods <wwoods@gentoo.org> gcc-3.2.3-r1.ebuild:
  Marked stable for alpha

  16 Jul 2003; Jay Pfeifer <pfeifer@gentoo.org> gcc-3.2.3-r1.ebuild:
  set stable on x86

  14 Jul 2003; Matthew Rickard <frogger@gentoo.org> gcc-3.2.3-r1.ebuild:
  ProPolice does not work on architectures where the stack
  grows upward (such as HPPA).  Therefore, if the 
  architecture is HPPA, do not apply the ProPolice patches.

  09 Jul 2003; Matthew Rickard <frogger@gentoo.org> gcc-3.2.3-r1.ebuild:
  Updated ProPolice to protector-8.  This includes minor
  bugfixes on PPC that popped up in certain (rare) cases.

  02 Jul 2003; Luca Barbato <lu_zero@gentoo.org> gcc-3.2.3-r1.ebuild:
  set added the mergel workaround, G4 users should reemerge or change the
  altivec.h include by hand

  01 Jul 2003; Luca Barbato <lu_zero@gentoo.org> gcc-3.2.3-r1.ebuild:
  set stable on ppc

  01 Jul 2003; Todd Sunderlin <todd@gentoo.org> gcc-3.2.3-r1.ebuild:
  set stable on sparc

  14 Jun 2003; Joshua Kinard <kumba@gentoo.org> gcc-3.2.3-r1.ebuild:
  Changed ~mips to mips in KEYWORDS

  12 Jun 2003; <msterret@gentoo.org> gcc-3.1-r8.ebuild, gcc-3.1.1-r1.ebuild:
  fix Header

  10 Jun 2003; Tavis Ormandy,,, <taviso@gentoo.org> gcc-2.95.3-r8.ebuild,
  files/gcc-2.95.3-alpha.diff:
  new-atexit.diff is not finished for alpha, fixing #18626

  19 May 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.3.ebuild :
  Only compile gcj AWT/Swing support if we have the Xlib.h header, else
  it borks during bootstrap.

*gcc-3.3 (17 May 2003)

  17 May 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.3.ebuild,
  gcc33-gentoo-branding.patch, gcc33-propolice-version.patch :
  New version:
  - Merge cleanups from Spider <spider@gentoo.org>.
  - Add the manpages (required during bootstrap, as we do not have perl),
    with some more cleanups.
  - Add a nice collection of patches from Suse/Debian, thanks to
    Nicholas Wourms <dragon@gentoo.org> for filtering these.
  - Add an branch update from the Hammer 3.3 branch with lots of Athlon
    and Hammer fixes/optimizations.  This also includes the DFA scheduler
    and profiler updates that should improve things accross the board.
    Once again, many thanks to Nicholas Wourms <dragon@gentoo.org>.
  - Add gcj AWT/Swing for people with X and java in USE (thanks again
    Nicholas =).
	
  NOTE:  I urge the faint of heart to leave this for now, as it have
         deprecated many features, and a lot of packages will have to
		 be fixed first.

  16 May 2003; Matthew Rickard <frogger@gentoo.org> gcc-3.2.2-r3.ebuild:
  - Updated ProPolice to Protector-3.2.2-7, fixing the PPC bug and
      parallel make bug - again we no longer need to apply these
      separately.
    - Converted to the new patch implementation as used in the 
      gcc-3.2.3-r1 ebuild making for easier patch management.  Thanks
      to Martin Schlemmer <azarah@gentoo.org> for this cleanup.

  16 May 2003; Matthew Rickard <frogger@gentoo.org> gcc-3.2.3-r1.ebuild:
  Updated ProPolice to Protector-3.2.2-7. This revision includes the PPC bug fix
  and the parallel make fix, so these no longer need to be applied separately.

*gcc-3.2.3-r1 (29 Apr 2003)

  14 Jun 2003; Guy Martin <gmsoft@gentoo.org> gcc-3.2.3-r1.ebuild :
  Changed ~hppa to -hppa in KEYWORDS. Too many crazy users are using ~hppa.

  29 Apr 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.3-r1.ebuild :
  Manpages gets regenerated, and as we do not have perl at bootstrap, we need
  to use a tarball with updated manpages again.  Also fix the build to gzip
  manpages and info pages.  Fix the build to actually remove man/info pages
  if 'build' in USE .. this got broken during the gcc-config changes.

*gcc-3.2.3 (28 Apr 2003)

  28 Apr 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.3.ebuild,
  gcc-323-propolice-version.patch, gcc32-c++-classfn-member-template.patch,
  gcc32-mklibgcc-serialize-crtfiles.patch, gcc323-gentoo-branding.patch,
  protector-3.2.2-6-PPC.patch :
  Update version
  - Add gcc323-gentoo-branding.patch and gcc-3.2.3-tls-update.patch.bz2 thanks
    to Nicholas Wourms <dragon@gentoo.org>.  He did a great job at porting
    gcc-3.2.3-tls-update.patch.bz2 from 3.2.2!
  - Add two patches from Mandrake;  gcc32-c++-classfn-member-template.patch and
    gcc32-mklibgcc-serialize-crtfiles.patch.
  - Cleanup the ProPolice stuff.  Also rather use the patch tarball from its
    homepage then adding the files to cvs.
  - Get the version patches (gcc323-gentoo-branding.patch and
    gcc-323-propolice-version.patch) to be more generic to ebuild revisions;
    added version_patch() for this.
  - Fix awk/fixlafiles.awk to not change files in /usr/lib/gcc-lib.  This got
    broken with my previous recursion fix.

  28 Apr 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.2-r5.ebuild :
  Remove message and 'die' in pkg_setup().

  28 Apr 2003; Luca Barbato <lu_zero@gentoo.org> gcc-3.2.2-r2.ebuild :
  Unmasked on ppc

  24 Mar 2003; Martin Schlemmer <azarah@gentoo.org> :
  - Fix latest ebuild to only build static if we are just building the C
    frontend, else some C++ packages fails when trying to link to libstdc++.so,
    bug #18050.
  - One more effort to try and fix the corner cases where an upgrade borks
    python, and thus portage, resulting in /etc/ld.so.conf not being updated.

*gcc-3.2.2-r2 (21 Mar 2003)

  21 Mar 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.2-r2.ebuild,
  gcc32-pr7768.patch, gcc32-pr8213.patch, gcc32-pr9732.patch,
  gcc322-pr8746.patch, gcc322-pr9888.patch, gcc322-ggc_page-speedup.patch,
  gcc-3.2.2-branch-update-20030322.patch, gcc-3.2.2-tls-update2.patch :
  
  - Update to gcc-3_2 branch 2003-03-22 (gcc-3.2.2-branch-update-20030322.patch)
  - Update TLS patch (gcc-3.2.2-tls-update2.patch) for 2003-03-22 CVS branch.
  - Add gcc322-pr9888.patch to fix a out of range 'loop' instructions for the
    K6 family of processors.  Many thanks to Jim Bray <jb@as220.org> for his
    work in getting this resolved with the gcc devs, and bringing it to my
    attention (included in branch-update).
  - Add gcc322-pr8746.patch to fix corner cases of miscompilation on K6 arch.
  - Get gcc to decreases the number of times the collector has to be run
    by increasing its memory workspace, bug #16548, thanks to
    Garen <garen@garen.net>, patch gcc322-ggc_page-speedup.patch.
  - Also added some other PR bugfixes.

  09 Mar 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.2*.ebuild :
  Fix handling of fix_libtool_files.sh to be more $FILESDIR independant.
  We basically install it to /sbin now, and then call it from there.  Also
  export LD_LIBRARY_PATH with new gcc library path in it to prevent gcc-config
  from borking when run.  This will hopefully fix bugs #15288, #16632, #16797.

*gcc-3.2.2-r3 (03 Mar 2003)

  25 Apr 2003; Matthew Rickard <frogger@gentoo.org> gcc-3.2.2-r3.ebuild:
  Added files/3.2.2/protector_parallel_make.patch which
  fixes the errors we've been seeing when using >= -j2
  as addressed in bug 18091.

  24 Apr 2003; Matthew Rickard <frogger@gentoo.org> gcc-3.2.2-r3.ebuild,
  files/3.2.2/protector.c:
  Fixed the ProPolice PPC segfault issue on certain packages.
  Thanks to Hiroaki Etoh <ETOH@jp.ibm.com> for the quick fix
  for this problem.

  20 Apr 2003; Matthew Rickard <frogger@gentoo.org> gcc-3.2.2-r3.ebuild,
  files/3.2.2/protector.patch:
  Updated to the latest ProPolice patch, Protector-6.  This should resolve the
  problems experienced with the Protector-5 patch.  This was due to a bug in the
  patch enabling the protection by default.

  11 Apr 2003; Matthew Rickard <frogger@gentoo.org> gcc-3.2.2-r3.ebuild,
  manifest, files/3.2.2/protector.patch:
  Downgraded ProPolice to protector-4.  With Protector-5 GCC seems to
  die on bootstrap with 1.4-rc4.  It also seems to be the source of the
  unresolved symbols seen previously.  We'll stay with -4 for now.

  10 Apr 2003; Matthew Rickard <frogger@gentoo.org> gcc-3.2.2-r3.ebuild,
  manifest:
  Removing -fstack-protector from ALLOWED_FLAGS.  This leads
  to unresolved symbols in builds of certain packages.

  09 Apr 2003; Matthew Rickard <frogger@gentoo.org> gcc-3.2.2-r3.ebuild,
  files/3.2.2/protector.patch:
  Updated ProPolice to protector-3.2.2-5

  31 Mar 2003; Matthew Rickard <frogger@gentoo.org> gcc-3.2.2-r3.ebuild:
  Moved ProPolice related files from $FILEDIR/3.2 to $FILESDIR/3.2.2

  26 Mar 2003; Matthew Rickard <frogger@gentoo.org> gcc-3.2.2-r3.ebuild,
  files/3.2/protector.patch:
  - Updated ProPolice patch to protector-3.2.2-4.tar.gz
  - Removed unneeded comments in ebuild about a patch we aren't applying anymore.
  - Added gcc-322-r3-propolice-version.patch which will add propolice to the
    gcc version string.  This is necessary for xfree to build correctly with
    stack protection.
  - Added -fstack-protector to the list of known good CFLAGS

  05 Mar 2003; Joshua Brindle <method@gentoo.org> gcc-3.2.2-r3.ebuild :
  replace-flags for pentium4 for bug #16867, add optimizations for x86 only  

  03 Mar 2003; Joshua Brindle <method@gentoo.org> gcc-3.2.2-r3.ebuild :
  Fixed strip-flags to allow certain known stable optimizations including:
  -O -O1 -O2 -Os -O3 -mcpu -march -pipe -g -freorder-blocks -fprefetch-loop-arrays

*gcc-3.2.2-r1 (23 Feb 2003)

  25 Feb 2003; Nicholas Wourms <dragon@gentoo.org> gcc-3.2.2-r1.ebuild :
  Fix mips depends so they actually work.

  24 Feb 2003; Nicholas Wourms <dragon@gentoo.org> gcc-3.2.2-r1.ebuild :
  Mark testing for mips.  Changed DEPENDS to a lower binutils *only* for mips,
  since .18 generates really b0rked asm and tests prove that .16 works just fine.

  23 Feb 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.2-r1.ebuild :
  Update from cvs to add __thread support.

*gcc-3.2.2 (06 Feb 2003)

  27 May 2003; Guy Martin <gmsoft@gentoo.org> gcc-3.2.2.ebuild :
  Downgrading DEPEND to binutils >=2.13.90.0.16 for hppa.

  29 Mar 2003; Christian Birchinger <joker@gentoo.org> gcc-3.2.2.ebuild:
  Added sparc stable keyword

  25 Feb 2003; Nicholas Wourms <dragon@gentoo.org> gcc-3.2.2.ebuild :
  Fix mips depends so they actually work.

  24 Feb 2003; Nicholas Wourms <dragon@gentoo.org> gcc-3.2.2.ebuild :
  Mark stable for mips.  Changed DEPENDS to a lower binutils *only* for mips,
  since .18 generates really b0rked asm and tests prove that .16 works just fine.

  24 Feb 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.2.ebuild :
  Mark stable for x86.

  22 Feb 2003; Guy Martin <gmsoft@gentoo.org> gcc-3.2.2.ebuild :
  Commited stable for hppa.

  22 Feb 2003; Zach Welch <zwelch@gentoo.org> gcc-3.2.2.ebuild :
  Added patch for arm to disable floating point math

  21 Feb 2003; Zach Welch <zwelch@gentoo.org> gcc-3.2.2.ebuild :
  Added patch for arm to fix incorrect code generation

  21 Feb 2003; Aron Griffis <agriffis@gentoo.org> gcc-3.2.2.ebuild :
  Mark 3.2.2 stable on alpha -- it's the best we've got so far!

  18 Feb 2003; Zach Welch <zwelch@gentoo.org> gcc-3.2.2.ebuild :
  Added arm to keywords.

  08 Feb 2003; Guy Martin <gmsoft@gentoo.org> gcc-3.2.2.ebuild :
  Added hppa to keywords.

  06 Feb 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.2.ebuild :
  Update version.

*gcc-3.2.2_pre20030131 (02 Feb 2003)

  02 Feb 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.2_pre20030131.ebuild :
  New snapshot.  This should close bug #14699.

*gcc-3.2.1-r7 (18 Jan 2003)

  18 Jan 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.1-r7.ebuild :
  Add some patches from Mandrake/Suse.

*gcc-3.2.1-r6 (16 Dec 2002)

  13 Feb 2003; Mark Guertin <gerk@gentoo.org> gcc-3.2.1-r6.ebuild :
  set ppc in keywords

  19 Jan 2003; Jan Seidel <tuxus@gentoo.org> :
  Added mips to keywords

  08 Jan 2003; Seemant Kulleen <seemant@gentoo.org> gcc-3.2.1-r6.ebuild :

  Stable for sparc.

  08 Jan 2003; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.1-r6.ebuild :
  Mark stable for x86.  Do not merge with C[XX]FLAGS="-march=k6[-2]", as
  it causes problems, bug #12791.

  28 Dec 2002; Jack Morgan <jmorgan@gentoo.org> gcc-3.2.1.ebuild :
  Changing ~sparc to sparc

  23 Dec 2002; Martin Schlemmer <azarah@gentoo.org> :
  Fix to use get_number_of_jobs to set -j.
  
  16 Dec 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.1*.ebuild :
  Fix to set CC and CXX properly.

  16 Dec 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.1-r1.ebuild,
  gcc-3.2.1-r6.ebuild, gcc-2.95.3-r7.ebuild gcc-3.2.1*.ebuild :

  Install and touch manpages if we do not have perl, as they started to
  use perl to generate the manpages ...  If we do not do this, gcc fails
  to build during bootstrap.

  Install the /lib/cpp and /usr/bin/cc wrappers for other common used gcc's.

*gcc-3.2.1-r1 (16 Dec 2002)

  16 Dec 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.1-r1.ebuild,
  gcc-3.2.1-r6.ebuild :

  Update with patches from Redhat, and also update with patch against 2002-12-08
  CVS branch.  For -r6, changed the /lib/cpp and /usr/bin/cc symlinks to wrapper
  scripts, which is more generic if we do not fisically switch gcc profiles.

  15 Dec 2002; Martin Schlemmer <azarah@gentoo.org> gcc-2.95.3-r*.ebuild :
  Fix CXX to equal 'g++'.  For some reason I was under the impression that
  gcc3 was the only gcc that needed this.  This should close bugs #11589
  and #12169.  Ill figure some way to get this fixed painlessly for
  most users ...

  13 Dec 2002; Mark Guertin <gerk@gentoo.org> gcc-3.2.1.ebuild :
  Marked stable for ppc.

  12 Dec 2002; Jan Seidel <tuxus@gentoo.org> gcc-3.2.1.ebuild :
  Added mips to keywords.

  10 Dec 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.1.ebuild :
  Mark as stable for x86.

  06 Dec 2002; Rodney Rees <manson@gentoo.org> :
  Changed sparc ~sparc keywords.
 
  03 Dec 2002; Martin Schlemmer <azarah@gentoo.org> :
  Also set CC and CXX in /etc/env.d/05gcc.

  01 Dec 2002; Olivier Reisch <doctomoe@gentoo.org> gcc-3.2-r4.ebuild :
  Definitely fine now, marking it ppc stable. Moving on to 3.2.1 :)

  25 Nov 2002; Olivier Reisch <doctomoe@gentoo.org> gcc-3.2-r4.ebuild :
  Changed -ppc to ~ppc, we have been able to make it compile fine on a few
  test machines. Will test further before marking it ppc stable eventually.

  24 Nov 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.1.ebuild,
  gcc-3.2.1-r5.ebuild :

  Get these to run ${FILESDIR}/fix_libtool_files.sh, and thus fix libtool
  linker scripts to reference the right gcc version ...  This should close
  bug #11094.

*gcc-3.2.1 (21 Nov 2002)
*gcc-3.2.1-r5 (21 Nov 2002)

  21 Nov 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.1.ebuild,
  gcc-3.2.1-r5.ebuild :

  Update to new version.  Multi arch version is -r5.

  21 Nov 2002; Olivier Reisch <doctomoe@gentoo.org> gcc-3.2-r4.ebuild :
  
  Added -ppc, it does not compile on PPC test machine.

  20 Nov 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.2-r4.ebuild :

  Mark as stable.

*gcc-3.2-r5 (10 Oct 2002)

  10 Nov 2002; Martin Schlemmer <azarah@gentoo.org> :

  New multi version/arch version.  Updated with patches
  from Mandrake/Redhat/Suse.  Have SLOT=$PV if CCHOST=CHOST.

*gcc-3.2-r4 (10 Oct 2002)

  10 Nov 2002; Martin Schlemmer <azarah@gentoo.org> :

  Updated with patches from Mandrake/Redhat/Suse.

*gcc-2.95.3-r8 (10 Oct 2002)

  03 Arp 2003; Martin Holzer <mholzer@gentoo.org> gcc-2.95.3-r8.ebuild :
  Filtering out -ggdb. Closes #8229.

  08 Jan 2003; Seemant Kulleen <seemant@gentoo.org> gcc-2.95.3-r8.ebuild :

  Marked stable for x86

  10 Nov 2002; Martin Schlemmer <azarah@gentoo.org> :

  New multi version/arch version.

*gcc-3.2-r3 (28 Oct 2002)

  28 Oct 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.2-r3.ebuild :

  Initial version that support alpha version of new multi version/arch
  scheme.  Very ALPHA, so use at your own risk!!

*gcc-3.2-r2 (20 Oct 2002)

  20 Oct 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.2-r2.ebuild :

  Add patches to compile under glibc-2.3.1.

*gcc-3.2-r1 (27 Aug 2002)

  9 Sep 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.2-r1.ebuild :

  Remove symlinks that are installed to /usr/lib/gcc-lib/$CHOST/$PV/include,
  as it may cause the build to fail.

  27 Aug 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.2-r1.ebuild :

  Update the "misconstruct function call frame" bug patches.  This resolves
  bug #7071, thanks to Steven Wong <wongs15@tartarus.uwa.edu.au>.  Updated
  info can be found at:

    http://archive.linuxfromscratch.org/mail-archives/lfs-dev/2002/08/0588.html

  Good patch site to keep in mind (reminder to myself):

    http://www.zipworld.com.au/~gschafer/lfs-tweaks.html

  21 Aug 2002; Dan Armak <danarmak@gentoo.org> ChangeLog  :

  Filter -fomit-frame-pointer flag, which causes problems as reported in
  bug #6641.

  15 Aug 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.2.ebuild :

  Add back gcc-3-deopt.patch.  Also add gcc-3-deopt-doc.patch.  Update
  the docs that gets installed, as well as added html pages for libstdc++-v3.

*gcc-3.2 (15 Aug 2002)

  15 Aug 2002; Daniel Robbins <drobbins@gentoo.org> gcc-3.2.ebuild :

  Update to latest version

*gcc-3.2_pre-r1 (15 Aug 2002)

  15 Aug 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.2_pre-r1 :
  
  New snapshot.

  Fixes a bug in gcc-3.1 and above ... -maccumulate-outgoing-args flag (added
  in gcc-3.1) causes gcc to misconstruct the function call frame in many cases.
  Thanks to Ronald Hummelink <ronald@hummelink.xs4all.nl> for bringing it to
  our attention.
  
    http://archive.linuxfromscratch.org/mail-archives/lfs-dev/2002/08/
    http://archive.linuxfromscratch.org/mail-archives/lfs-dev/2002/08/0319.html
    http://archive.linuxfromscratch.org/mail-archives/lfs-dev/2002/08/0350.html
    http://archive.linuxfromscratch.org/mail-archives/lfs-dev/2002/08/0410.html
    http://gcc.gnu.org/ml/gcc/2002-08/msg00731.html

  NOTE to myself: I still have to apply the patch to the manpage *after*
  compile.

  Add --enable-__cxa_atexit to ./configure, fixing bug #6430.

*gcc-3.1.1-r1 (30 Jul 2002)

  30 Jul 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.1.1-r1 :

  Gcc-3.1.1 final.  Also fixed it to be able to disable java.
  Major cleanups from 3.1.1.

*gcc-3.2_pre (28 Jul 2002)

  30 Jul 2002; Mark Guertin <gerk@gentoo.org> gcc-3.2_pre :
  Added ppc to keywords

  30 Jul 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.2_pre :

  Some cleanups.  Use the "java" USE flag to enable/disable java
  as it add a bit to compile time.

  28 Jul 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.2_pre :

  Add CVS version of gcc-3.2.

*gcc-3.1.1 (07 Jul 2002)

  7 Jul 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.1.1 :

  Add snapshot for gcc-3.1.1.  This fixes the internal compiler
  errors with "-march=pentium4" for me at least (had with gcc-3.1).

*gcc-3.1-r8 (03 Jul 2002)

  6 Jul 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.1-r8 :

  Update the fix for bug #4411, as the old caused ncurses, among things
  not to link properly if an older version was installed.  The sed
  rule is now:

  sed -e "s:%{L\*} %(link_libgcc):%{L\*} -L/lib %(link_libgcc):" specs


  3 Jul 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.1-r8 :

  Move all the libs to the version specific directory.  Add a fix for
  bug #4411, which should be considered *very* experimental.

  3 Jul 2002; Martin Schlemmer <azarah@gentoo.org> :
  Add the /usr/bin/$CHOST-g++ symlink, as it is needed now for
  some weird reason.

*gcc-2.95.3-r7 (29 Jun 2002)

  29 Jun 2002; Martin Schlemmer <azarah@gentoo.org> :
  Remove texinfo as we have an ebuild again. 

  This new patch for the atexit problem occured with glibc-2.2.3 should
  work with glibc-2.2.4.  This closes bug #3987 and #4004.
  
    http://archive.linuxfromscratch.org/mail-archives/lfs-dev/2001/08/0476.html
    http://archive.linuxfromscratch.org/mail-archives/lfs-dev/2001/08/0589.html
  
  Something to note, is that this patch makes gcc crash if its given
  the "-mno-ieee-fp" flag ... libvorbis is an good example of this.
  This however is on of those which one we want fixed most cases :/
  
  Also fix bug #3527, which was caused by a stray symlink on downgrading from
  gcc-3.x.

*gcc-3.1-r7 (29 June 2002)

  29 June 2002; Brandon Low <lostlogic@gentoo.org> gcc-3.1-r6.ebuild :

  Make sure that static linking against gcc libraries works with a little
  sed magic :).

  25 Jun 2002; Martin Schlemmer <azarah@gentoo.org> texinfo providing ebuilds :
  Add ibiblio to SRC_URI for all texinfo providing ebuilds (2.95.3 and 3.0.4);
  resolve bug #1777.

*gcc-3.1-r6 (10 June 2002)

  11 June 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.1-r6.ebuild :

  Update version checking.

  10 June 2002; Bart Verwilst <verwilst@gentoo.org> Changelog:
 
  Remove curses.h and ncurses.h from the installation, so it doesn't 
  conflict with our ncurses package.


*gcc-3.1-r5 (29 May 2002)

  29 May 2002; Matthew Kennedy <azarah@gentoo.org> gcc-3.1-r5.ebuild,
  ChangeLog, files/digest-gcc-3.1-r5 :

  Fixes how we check for already install gcc's.

*gcc-3.1-r4 (25 May 2002)

  25 May 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.1-r4.ebuild :

  Fix some more files that got installed in the wrong location.  From
  gcc-3.1, locales is installed in $datadir, so we should not set that
  to a custom dir, and since libgcj.jar now have the version appended,
  it should not be a problem with multiple version installs anymore.

*gcc-3.1-r3 (25 May 2002)

  25 May 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.1-r3.ebuild :

  Added some Redhat/Suse/Mandrake patches.

*gcc-3.1-r2 (24 May 2002)

  24 May 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.1-r2.ebuild :

  Use the correct library versions in src_install().

*gcc-3.1-r1 (20 May 2002) 
  20 May 2002; Spider <spider@gentoo.org> gcc-3.1-r1.ebuild :
  removed all texinfo references in gcc 3.1 ebuild. 
  
*gcc-3.1 (17 May 2002)

  17 May 2002; Preston Elder <prez@gentoo.org> gcc-3.1 :

  Added the 3.1 ebuild.

*gcc-3.0.4-r6 (2 May 2002)

  3 May 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.0.4-r6 :

  Fix some typo's thanks to Jared H. Hudson.

*gcc-3.0.4-r5 (2 May 2002)

  2 May 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.0.4-r5 :

  Only move .la files for parallel builds, else some packages (KDE *grin*)
  fails to build.

*gcc-2.95.3-r6 (30 Apr 2002)

  30 Apr 2002; Daniel Robbins <drobbins@gentoo.org>: removed libiberty.a as
  binutils installs it.  This closes bug #2266.

*gcc-3.0.4-r4 (25 Apr 2002)

  25 Apr 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.0.4-r4 :

  Only apply the gcc3-program-transform.patch patch if building 
  a multiple install of gcc.

  17 Apr 2002; Martin Schlemmer <azarah@gentoo.org> gcc-3.0.4-r3 :

  Move .la files to gcc internal dir to fix gcc2+libtool problems
  of trying to link /usr/lib/libstdc++.so.

*gcc-3.0.4-r3 (16 Apr 2002)

  16 Apr 2002; Martin Schlemmer <azarah@gentoo.org> :

  Moved the manpages to version spesific ones.  More cleanups.
  Moved libgcj.jar to /usr/lib/gcc-$PV.

*gcc-3.0.4-r2 (15 Apr 2002)

  15 Apr 2002; Martin Schlemmer <azarah@gentoo.org> :

  This build enables us to have multiple versions of gcc
  installed.

*gcc-3.0.4 (1 Mar 2002)

  1 Mar 2002; Grant Goodyear <g2boojum@gentoo.org> :

  Added 3.0.4.  It looks like using the --disable-checks
  command fixes most of the sandbox violations that we had
  with 3.0.3 (or 3.0.4 no longer tries to update system
  headers; I'm not sure which).
  
*gcc-2.95.3-r5 (1 Feb 2002)

  1 Feb 2002; G.Bevin <gbevin@gentoo.org> ChangeLog :
  
  Added initial ChangeLog which should be updated whenever the package is
  updated in any way. This changelog is targetted to users. This means that the
  comments should well explained and written in clean English. The details about
  writing correct changelogs are explained in the skel.ChangeLog file which you
  can find in the root directory of the portage repository.
