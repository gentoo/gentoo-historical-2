Declare the isatty prototype all the time

http://bugs.gentoo.org/119598

--- flex/scan.c
+++ flex/scan.c
@@ -3935,9 +3935,15 @@
 	yyfree((void *) b  );
 }
 
+#ifndef _UNISTD_H /* assume unistd.h has isatty() for us */
-#ifndef __cplusplus
+#ifdef __cplusplus
+extern "C" {
+#endif
-extern int isatty (int );
+extern int isatty (int ) __THROW;
-#endif /* __cplusplus */
+#ifdef __cplusplus
+}
+#endif
+#endif
     
 /* Initializes or reinitializes a buffer.
  * This function is sometimes called more than once on the same buffer,
--- flex/skel.c
+++ flex/skel.c
@@ -2183,9 +2183,15 @@
   "[[",
   "    m4_ifdef( [[M4_YY_NEVER_INTERACTIVE]],,",
   "    [[",
+  "#ifndef _UNISTD_H /* assume unistd.h has isatty() for us */",
-  "#ifndef __cplusplus",
+  "#ifdef __cplusplus",
+  "extern \"C\" {",
+  "#endif",
-  "extern int isatty M4_YY_PARAMS( int );",
+  "extern int isatty M4_YY_PARAMS( int ) __THROW;",
-  "#endif /* __cplusplus */",
+  "#ifdef __cplusplus",
+  "}",
+  "#endif",
+  "#endif",
   "    ]])",
   "]])",
   "%endif",
