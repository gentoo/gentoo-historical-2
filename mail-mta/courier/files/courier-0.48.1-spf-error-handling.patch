--- courier-0.50.0/rfc1035/spf.c	2004-08-24 02:43:30.000000000 +0200
+++ courier-0.50.1/rfc1035/spf.c	2005-07-03 06:19:39.000000000 +0200
@@ -771,7 +771,7 @@
 
 		free(domain_spec);
 
-		if (rc < 0)
+		if (rc != 0)
 		{
 			set_err_msg(info->errmsg_buf, info->errmsg_buf_size,
 				    "IP address lookup failed.\n");
