--- lilo-22.5.8/geometry.c	2003-10-10 00:59:07.000000000 +0100
+++ lilo-22.5.8/geometry.c	2004-01-28 19:28:17.000000000 +0000
@@ -99,6 +99,13 @@
 #define HDIO_GETGEO HDIO_REQ
 #endif
 
+/* plasmaroo@gentoo.org :: 2.6 Compatibility */
+
+#undef _IOR
+#undef _IOWR
+
+#define _IOR(type,nr,size) _IOC(_IOC_READ,(type),(nr),sizeof(size))
+#define _IOWR(type,nr,size) _IOC(_IOC_READ|_IOC_WRITE,(type),(nr),sizeof(size))
 
 typedef struct _st_buf {
     struct _st_buf *next;
