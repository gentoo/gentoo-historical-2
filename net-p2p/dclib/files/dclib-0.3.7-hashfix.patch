--- dclib/csearchindex.cpp.orig	2005-05-04 12:11:37.000000000 -0400
+++ dclib/csearchindex.cpp	2005-05-04 12:13:38.000000000 -0400
@@ -420,9 +420,12 @@
 	CBase32 base32;
 	CByteArray dst,src;
 	
-	if ( hbi < m_pHashIndex->Size() )
+	struct hashbaseobject * hbo;
+
+	if ( hbi < m_pHashBaseArray->Size() )
 	{
-		src.Append(m_pHashIndex->Data()+hbi,TIGERSIZE);
+		hbo = (struct hashbaseobject *)(m_pHashBaseArray->Data()+hbi);
+		src.Append(m_pHashIndex->Data()+hbo->m_nHashIndex,TIGERSIZE);
 		base32.Encode( &dst, &src );
 		if ( dst.Size() > 0 )
 		{
