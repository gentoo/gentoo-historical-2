diff -Naur giftui-0.4.1/src/main.c giftui-0.4.1.new/src/main.c
--- giftui-0.4.1/src/main.c	2004-05-06 01:55:02.000000000 -0500
+++ giftui-0.4.1.new/src/main.c	2004-08-18 22:30:08.600960640 -0500
@@ -197,6 +197,12 @@
 	bindtextdomain (PACKAGE, LOCALEDIR);
 	textdomain (PACKAGE);
 #endif	
+
+	/* init GObject system */
+	g_type_init ();
+	
+	/* GTK+ init */
+	gtk_init (&argc, &argv);
 	
 	/* configuration init & load */
 	giftui_config_init ();
@@ -214,10 +220,6 @@
 		
 		return EXIT_FAILURE;
 	}
-		
-	
-	/* GTK+ init */
-	gtk_init (&argc, &argv);
 	
 	return EXIT_SUCCESS;
 }
--- giftui-0.4.1/src/ui_transfer_cb.old	2004-05-06 08:54:58.000000000 +0200
+++ giftui-0.4.1/src/ui_transfer_cb.c	2005-03-06 17:06:12.000000000 +0100
@@ -23,8 +23,6 @@
 #include <libgift/libgift.h>
 #include <gtk/gtk.h>
 
-#include "gtkcellrendererprogress.h"
-
 #include "io.h"
 #include "event.h"
 #include "configure.h"
--- giftui-0.4.1/src/ui_transfer.c.old	2004-05-13 19:46:11.000000000 +0200
+++ giftui-0.4.1/src/ui_transfer.c	2005-03-06 17:05:18.000000000 +0100
@@ -24,8 +24,6 @@
 #include <gdk/gdkkeysyms.h>
 #include <gtk/gtk.h>
 
-#include "gtkcellrendererprogress.h"
-
 #include "io.h"
 #include "event.h"
 #include "configure.h"
--- giftui-0.4.1/src/ui_transfer.h.old	2004-05-06 08:55:01.000000000 +0200
+++ giftui-0.4.1/src/ui_transfer.h	2005-03-06 17:05:52.000000000 +0100
@@ -38,6 +38,14 @@
 
 #define GIFTUI_TRANSFERFILE(arg) ((GiftuiTransferFile_t *) (arg))
 
+typedef enum
+{
+	GTK_CELL_RENDERER_PROGRESS_ACTIVE,
+	GTK_CELL_RENDERER_PROGRESS_COMPLETED,
+	GTK_CELL_RENDERER_PROGRESS_PAUSED,
+	GTK_CELL_RENDERER_PROGRESS_CANCELED
+} GtkCellRendererProgressColor;
+
 typedef struct _GiftuiTransfer GiftuiTransfer;
 typedef struct _GiftuiTransferClass GiftuiTransferClass;
 
