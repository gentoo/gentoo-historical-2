--- rufus.py.orig	2006-01-23 14:53:13.000000000 -0800
+++ rufus.py	2006-01-23 14:59:28.000000000 -0800
@@ -23,9 +23,9 @@
     win32_flag = False
 
 if win32_flag:
-    from webbrowser import open_new
+    from Rufus.webbrowser import open_new
 else:
-    from leoxv import open_new
+    from Rufus.leoxv import open_new
 
 if not win32_flag:
     oldStd = sys.stdout
@@ -36,25 +36,25 @@
 from threading import Event, Thread, Lock
 from os.path import dirname, join, split, splitext, exists, abspath, normpath
 from traceback import print_exc
-from btconfig import BTConfig
-from images import Images
-from g3widgets import *
-from masterlist import MasterList
-from graphpanel import GraphPanel
-from detailspanel import DetailsPanel
-from statuspanel import StatusPanel
-from msgpanel import MessagePanel
-from friendspanel import FriendsPanel
-from searchpanel import SearchPopup
-from g3taskbar import G3TaskBar
+from Rufus.btconfig import BTConfig
+from Rufus.images import Images
+from Rufus.g3widgets import *
+from Rufus.masterlist import MasterList
+from Rufus.graphpanel import GraphPanel
+from Rufus.detailspanel import DetailsPanel
+from Rufus.statuspanel import StatusPanel
+from Rufus.msgpanel import MessagePanel
+from Rufus.friendspanel import FriendsPanel
+from Rufus.searchpanel import SearchPopup
+from Rufus.g3taskbar import G3TaskBar
 from BitTorrent import version
-import friend
-from g3peerid import CreatePeerId
-from peerlistcache import PeerListCache
-from g3rpcserver import G3RPCServer
+import Rufus.friend
+from Rufus.g3peerid import CreatePeerId
+from Rufus.peerlistcache import PeerListCache
+from Rufus.g3rpcserver import G3RPCServer
 from BitTorrent.bencode import bencode, bdecode
-from btsession import BTSession
-from g3rss import RSSPanel
+from Rufus.btsession import BTSession
+from Rufus.g3rss import RSSPanel
 from BitTorrent.encodedata import encodefile
 import encodings
 import gettext
@@ -72,9 +72,9 @@
 
 if win32_flag:
     from os import startfile
-    from webbrowser import open_new
+    from Rufus.webbrowser import open_new
 else:
-    from leoxv import startfile, open_new, echo_browser_test, unparseloadurl
+    from Rufus.leoxv import startfile, open_new, echo_browser_test, unparseloadurl
 
 debug_flag = False
 
@@ -491,7 +491,7 @@
             
     def OnAbout(self, event):
         pos = self.ClientToScreen( (70,30) )
-        from optiondlg import About_Box
+        from Rufus.optiondlg import About_Box
         a = About_Box(self, self.btconfig, self.images, pos )
         #self.notebook.SetSelection(5)
 
@@ -511,14 +511,14 @@
             pos = self.ClientToScreen( (50,20) )
             s = self.GetSession(id)
             if s != None:
-                from optiondlg import SingleOption
+                from Rufus.optiondlg import SingleOption
                 option = SingleOption(self, pos, s.GetCfg(), option_class, self.images, self.cfg_visflag)
 
 
     def OnPreferences(self, event):
         """ Open preferences dialog """
         if not self.cfg_visflag.isSet():
-            from optiondlg import Options
+            from Rufus.optiondlg import Options
             pos = self.ClientToScreen( (50,20) )
             self.optionswin = Options(self, pos, self.btconfig, self.images, 
                             self.cfg_visflag, syncfunc = self.SyncSessionOptions)
@@ -929,7 +929,7 @@
     def TrackerMngr(self, id):
         s = self.GetSession(id)
         if s != None and s.IsRunning():
-            from trackermngr import TrackerDlg
+            from Rufus.trackermngr import TrackerDlg
             tmngr = TrackerDlg(self, id, self.btconfig, self.images, 
                         s.download.SetAnnounceURLs, self.CmdAnnounce)
             tmngr.Populate( s.download.GetAnnounceURLs() )
@@ -939,7 +939,7 @@
     def DLOrderMngrDlg(self, id, manual=False):
         s = self.GetSession(id)
         if s != None and (manual or self.btconfig['use_multimngr']) and self.IsShown():
-            from dlordermngr import DLOrderMngr
+            from Rufus.dlordermngr import DLOrderMngr
             manager = DLOrderMngr(self, self.btconfig, self.images, 
                     s.GetFileRanges(), s.IsDLOrderRandom(), s.SetPieceRanges)
      
@@ -947,7 +947,7 @@
     def ShowTorrentDlg(self, id):
         s = self.GetSession(id)
         if not s.spew and s != None and s.GetStatusData() != None:
-            from btdownloadgui import DownloadInfoFrame
+            from Rufus.btdownloadgui import DownloadInfoFrame
             s.spew = True
             self.prgdlgs[len(self.prgdlgs)] = DownloadInfoFrame(self, s, self.images, 
                         self.pl_dnsloop.GetPeerInfo, self.FriendCatcher)
@@ -1483,7 +1483,7 @@
             #need some temp place to put this
             path = self.path
         
-        from urlfetch import T_FetchFile
+        from Rufus.urlfetch import T_FetchFile
         geturl = T_FetchFile(self.InvokeLater, self.AddFromFile, url, path, referer)
         geturl.start()
         return True
@@ -1730,7 +1730,7 @@
 
     def OnNewVersion(self, new_version):
         self.update_notified = True
-        from optiondlg import UpdateDlg
+        from Rufus.optiondlg import UpdateDlg
         up_dlg = UpdateDlg(self, btconfig = BTConfig(), bmps=self.images, ver=version, new_ver=new_version)
         up_mode = up_dlg.ShowModal()
         if up_mode == wx.ID_OK:
@@ -1743,7 +1743,7 @@
 
 
     def CreateTorrent(self, event):
-        from btcompletedirgui import CreateTorrentDlg
+        from Rufus.btcompletedirgui import CreateTorrentDlg
         pos = self.ClientToScreen( (50,20) )
         frame = CreateTorrentDlg(self, self.btconfig, pos, self.AddFromFile)
         frame.Show(True)        
@@ -1769,7 +1769,7 @@
         dlg.Destroy()
   
     def NewTorrent_URL(self, event):
-        from urlfetch import URLDialog
+        from Rufus.urlfetch import URLDialog
         
         data = None       
         data = wx.TextDataObject()        
@@ -1821,7 +1821,7 @@
             apply2all = False
         
         if death_mode == -1:
-            from optiondlg import RemoveTorrentDlg
+            from Rufus.optiondlg import RemoveTorrentDlg
             remove_dlg = RemoveTorrentDlg(self, btconfig = BTConfig(), bmps=self.images)
             death_mode = remove_dlg.ShowModal()
             remove_dlg.Destroy()
@@ -2031,7 +2031,7 @@
         else:
             print 'Another instance is already running'
             if len(sys.argv[1:]) > 0:
-                from g3rpcclient import G3RPCCLient
+                from Rufus.g3rpcclient import G3RPCCLient
                 rpc = G3RPCCLient(dirname(sys.argv[0]))
                 rpc.AddTorrent(sys.argv[1:][0])
             else:
--- rufus.py.orig	2006-01-23 15:02:20.000000000 -0800
+++ rufus.py	2006-01-23 15:03:38.000000000 -0800
@@ -292,7 +292,6 @@
             self.lang_codes.append(i)
             wx.EVT_MENU(self, lang_id, self.SetLanguage)
             lang_id = lang_id + 1
-        menuBar.Append(menu1, _("&Language"))
 
         menu1 = wx.Menu()
         menu1.Append(207, _("A&bout\tCtrl+A"), _("About"))
--- rufus.py.old	2006-02-04 13:45:13.000000000 -0800
+++ rufus.py	2006-02-04 13:45:38.000000000 -0800
@@ -154,7 +154,7 @@
         self.images  = Images(path)
         self.pl_dnsloop = PeerListCache(self.doneflag)
         
-        self.friends = friend.FriendList(self.btconfig)
+        self.friends = Rufus.friend.FriendList(self.btconfig)
         self.friends.Load()
         
         self.peer_id = CreatePeerId(self.btconfig.Get("nickname"))
