--- configure.ac.old	2011-11-01 12:26:58.384182367 +0100
+++ configure.ac	2011-11-01 12:31:59.779150140 +0100
@@ -209,26 +209,18 @@
 
 AC_MSG_CHECKING([µTP])
 build_utp="no"
-if test "x$HAVE_CXX" = "xyes" ; then
-    have_utp="yes"
-else
-    have_utp="no"
-fi
 AC_ARG_ENABLE([utp],
               AS_HELP_STRING([--enable-utp],[build µTP support]),
               [want_utp=${enableval}],
-              [want_utp=${have_utp}])
+              [want_utp="yes"])
 if test "x$want_utp" = "xyes" ; then
-    if test "x$have_utp" = "xyes"; then 
+    if test "x$HAVE_CXX" = "xyes"; then 
         LIBUTP_CFLAGS="-I\$(top_srcdir)/third-party/"
-        LIBUTP_LIBS="\$(top_builddir)/third-party/libutp/libutp.a"
-        if test "x$libutp_extra_libs" != "x" ; then
-            LIBUTP_LIBS="$LIBUTP_LIBS $libutp_extra_libs"
-        fi
+        LIBUTP_LIBS="\$(top_builddir)/third-party/libutp/libutp.a $libutp_extra_libs"
         AC_DEFINE([WITH_UTP],[1])
         build_utp="yes"
     else 
-      AC_MSG_ERROR("Unable to build uTP support -- C++ compiler not found") 
+        AC_MSG_ERROR("Unable to build uTP support -- C++ compiler not found; consider --disable-utp")
     fi 
 fi 
 AC_SUBST(LIBUTP_CFLAGS)
