--- deco/baghiraclient.cc.old	2005-03-08 09:00:46.000000000 -0600
+++ deco/baghiraclient.cc	2005-03-08 19:32:44.976448088 -0600
@@ -25,6 +25,8 @@
 #include <qpainter.h>
 #include <qtooltip.h>
 #include <qsettings.h>
+#include <qimage.h>
+#include <qobject.h>
 //#include <qsizegrip.h>
 // #include <qtimer.h>
 #include <stdio.h>
@@ -213,7 +215,7 @@
     WId root, daddy = 0;
     WId *kids = 0L;
     uint numKids = 0;
-    XQueryTree(qt_xdisplay(), parent->windowId(), &root, &daddy, &kids, &numKids);
+    XQueryTree(qt_xdisplay(), parent->widget()->winId(), &root, &daddy, &kids, &numKids);
     XReparentWindow( qt_xdisplay(), winId(), daddy, 0, 0 );
     move(client->width()-2*BaghiraFactory::borderSize()-16,client->height()-client->titleheight_-16);
     /*if (BaghiraFactory::effect(client->currentStyle, client->isActive()) == Baghira::Brushed) */shape();
