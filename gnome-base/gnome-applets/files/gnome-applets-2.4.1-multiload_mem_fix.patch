--- gnome-applets-2.4.1.orig/multiload/linux-proc.c	2003-11-29 16:32:44.863168560 +0100
+++ gnome-applets-2.4.1/multiload/linux-proc.c	2003-11-29 16:35:46.429566272 +0100
@@ -130,7 +130,6 @@
 GetMemory (int Maximum, int data [5], LoadGraph *g)
 {
     int user, shared, buffer, cached;
-    unsigned long tmp_user;
 
     glibtop_mem mem;
 	
@@ -138,9 +137,7 @@
 	
     assert ((mem.flags & needed_mem_flags) == needed_mem_flags);
 
-    tmp_user = mem.used - mem.buffer - mem.shared - mem.cached;
-   
-    user    = rint (Maximum * (float)tmp_user / mem.total);
+    user    = rint (Maximum * (float)mem.user / mem.total);
     shared  = rint (Maximum * (float)mem.shared / mem.total);
     buffer  = rint (Maximum * (float)mem.buffer / mem.total);
     cached = rint (Maximum * (float)mem.cached / mem.total);
