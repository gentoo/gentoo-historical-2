diff -NurB gnome-panel-2.4.0-orig/gnome-panel/panel-toplevel.c gnome-panel-2.4.0/gnome-panel/panel-toplevel.c
--- gnome-panel-2.4.0-orig/gnome-panel/panel-toplevel.c	2003-10-16 21:03:59.000000000 -0500
+++ gnome-panel-2.4.0/gnome-panel/panel-toplevel.c	2003-10-16 23:51:44.000000000 -0500
@@ -133,6 +133,7 @@
 	gulong                  attach_toplevel_signals [N_ATTACH_TOPLEVEL_SIGNALS];
 	GtkWidget              *attach_widget;
 	gulong                  attach_widget_signals [N_ATTACH_WIDGET_SIGNALS];
+	gint                    n_autohide_disablers;
 
 	guint                   auto_hide : 1;
 	guint                   animate : 1;
@@ -1007,6 +1008,29 @@
 			(x > SNAP_TOLERANCE) && (x < (screen_width - toplevel->priv->geometry.width - SNAP_TOLERANCE));
 }
 
+static void
+panel_toplevel_push_autohide_disabler (PanelToplevel *toplevel)
+{
+	g_return_if_fail (toplevel != NULL);
+
+	toplevel->priv->n_autohide_disablers++;
+}
+
+static void
+panel_toplevel_pop_autohide_disabler (PanelToplevel *toplevel)
+{
+	g_return_if_fail (toplevel != NULL);
+	g_return_if_fail (toplevel->priv->n_autohide_disablers > 0);
+
+	toplevel->priv->n_autohide_disablers--;
+}
+
+static gboolean
+panel_toplevel_get_autohide_disabled (PanelToplevel *toplevel)
+{
+	return toplevel->priv->n_autohide_disablers > 0 ? TRUE : FALSE;
+}
+
 static gboolean
 panel_toplevel_hide_button_event (PanelToplevel  *toplevel,
 				  GdkEventButton *event,
@@ -2352,6 +2376,8 @@
 	if (!toplevel->priv->attached)
 		return;
 
+	panel_toplevel_pop_autohide_disabler (toplevel->priv->attach_toplevel);
+
 	panel_toplevel_disconnect_attached (toplevel);
 	
 	panel_toplevel_reverse_arrows (toplevel);
@@ -3026,6 +3052,9 @@
 
 	g_signal_emit (toplevel, toplevel_signals [HIDE_SIGNAL], 0);
 
+	if (toplevel->priv->attach_toplevel)
+		panel_toplevel_pop_autohide_disabler (toplevel->priv->attach_toplevel);
+
 	if (auto_hide)
 		toplevel->priv->state = PANEL_STATE_AUTO_HIDDEN;
 	else {
@@ -3102,6 +3131,9 @@
 
 	panel_toplevel_update_hide_buttons (toplevel);
 
+	if (toplevel->priv->attach_toplevel)
+		panel_toplevel_push_autohide_disabler (toplevel->priv->attach_toplevel);
+
 	if (toplevel->priv->animate && GTK_WIDGET_REALIZED (toplevel))
 		panel_toplevel_start_animation (toplevel);
 	else
@@ -3157,7 +3189,8 @@
 	if ( ! toplevel->priv->auto_hide ||
 	    toplevel->priv->hide_timeout ||
 	    toplevel->priv->state != PANEL_STATE_NORMAL ||
-	    panel_toplevel_contains_pointer (toplevel))
+	    panel_toplevel_contains_pointer (toplevel) ||
+	    panel_toplevel_get_autohide_disabled (toplevel))
 		return;
 
 	if (toplevel->priv->unhide_timeout)
@@ -3946,6 +3979,7 @@
 
 	toplevel->priv->attach_toplevel = NULL;
 	toplevel->priv->attach_widget   = NULL;
+	toplevel->priv->n_autohide_disablers = 0;
 
 	for (i = 0; i < N_ATTACH_TOPLEVEL_SIGNALS; i++)
 		toplevel->priv->attach_toplevel_signals [i] = 0;
