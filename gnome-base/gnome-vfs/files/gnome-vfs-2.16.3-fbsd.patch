diff --exclude-from=/home/dang/bin/scripts/diffrc -up -ruN gnome-vfs-2.16.3.orig/libgnomevfs/xdgmime.h gnome-vfs-2.16.3/libgnomevfs/xdgmime.h
--- gnome-vfs-2.16.3.orig/libgnomevfs/xdgmime.h	2006-09-13 05:13:31.000000000 -0400
+++ gnome-vfs-2.16.3/libgnomevfs/xdgmime.h	2007-02-09 13:04:25.000000000 -0500
@@ -52,11 +52,14 @@ typedef void (*XdgMimeDestroy)  (void *u
 #define xdg_mime_get_mime_type_from_file_name XDG_ENTRY(get_mime_type_from_file_name)
 #define xdg_mime_is_valid_mime_type           XDG_ENTRY(is_valid_mime_type)
 #define xdg_mime_mime_type_equal              XDG_ENTRY(mime_type_equal)
+#define _xdg_mime_mime_type_equal             XDG_ENTRY(mime_type_equal_p)
 #define xdg_mime_media_type_equal             XDG_ENTRY(media_type_equal)
 #define xdg_mime_mime_type_subclass           XDG_ENTRY(mime_type_subclass)
+#define _xdg_mime_mime_type_subclass          XDG_ENTRY(mime_type_subclass_p)
 #define xdg_mime_get_mime_parents             XDG_ENTRY(get_mime_parents)
 #define xdg_mime_list_mime_parents            XDG_ENTRY(list_mime_parents)
 #define xdg_mime_unalias_mime_type            XDG_ENTRY(unalias_mime_type)
+#define _xdg_mime_unalias_mime_type           XDG_ENTRY(unalias_mime_type_p)
 #define xdg_mime_get_max_buffer_extents       XDG_ENTRY(get_max_buffer_extents)
 #define xdg_mime_shutdown                     XDG_ENTRY(shutdown)
 #define xdg_mime_dump                         XDG_ENTRY(dump)
diff --exclude-from=/home/dang/bin/scripts/diffrc -up -ruN gnome-vfs-2.16.3.orig/libgnomevfs/xdgmimecache.h gnome-vfs-2.16.3/libgnomevfs/xdgmimecache.h
--- gnome-vfs-2.16.3.orig/libgnomevfs/xdgmimecache.h	2006-01-11 06:47:29.000000000 -0500
+++ gnome-vfs-2.16.3/libgnomevfs/xdgmimecache.h	2007-02-09 13:04:25.000000000 -0500
@@ -32,9 +32,19 @@
 typedef struct _XdgMimeCache XdgMimeCache;
 
 #ifdef XDG_PREFIX
-#define _xdg_mime_cache_new_from_file        XDG_ENTRY(cache_new_from_file)
-#define _xdg_mime_cache_ref                  XDG_ENTRY(cache_ref)
-#define _xdg_mime_cache_unref                XDG_ENTRY(cache_unref)
+#define _xdg_mime_cache_new_from_file                XDG_ENTRY(cache_new_from_file)
+#define _xdg_mime_cache_ref                          XDG_ENTRY(cache_ref)
+#define _xdg_mime_cache_unref                        XDG_ENTRY(cache_unref)
+#define _xdg_mime_cache_get_mime_type_for_data       XDG_ENTRY(cache_get_mime_type_for_data)
+#define _xdg_mime_cache_get_mime_type_for_file       XDG_ENTRY(cache_get_mime_type_for_file)
+#define _xdg_mime_cache_get_mime_type_from_file_name XDG_ENTRY(cache_get_mime_type_from_file_name)
+#define _xdg_mime_cache_is_valid_mime_type           XDG_ENTRY(cache_is_valid_mime_type)
+#define _xdg_mime_cache_mime_type_equal              XDG_ENTRY(cache_mime_type_equal)
+#define _xdg_mime_cache_media_type_equal             XDG_ENTRY(cache_media_type_equal)
+#define _xdg_mime_cache_mime_type_subclass           XDG_ENTRY(cache_mime_type_subclass)
+#define _xdg_mime_cache_list_mime_parents            XDG_ENTRY(cache_list_mime_parents)
+#define _xdg_mime_cache_unalias_mime_type            XDG_ENTRY(cache_unalias_mime_type)
+#define _xdg_mime_cache_get_max_buffer_extents       XDG_ENTRY(cache_get_max_buffer_extents)
 #endif
 
 extern XdgMimeCache **_caches;
diff --exclude-from=/home/dang/bin/scripts/diffrc -up -ruN gnome-vfs-2.16.3.orig/modules/file-method.c gnome-vfs-2.16.3/modules/file-method.c
--- gnome-vfs-2.16.3.orig/modules/file-method.c	2006-10-17 05:50:30.000000000 -0400
+++ gnome-vfs-2.16.3/modules/file-method.c	2007-02-09 13:04:19.000000000 -0500
@@ -75,6 +75,9 @@
 #if HAVE_SYS_VFS_H
 #include <sys/vfs.h>
 #elif HAVE_SYS_MOUNT_H
+#if HAVE_SYS_PARAM_H
+#include <sys/param.h>
+#endif
 #include <sys/mount.h>
 #endif
 
