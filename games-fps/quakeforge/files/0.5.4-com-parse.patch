--- quakeforge-0.5.4/libs/util/idparse.c	2003-05-26 15:14:18.000000000 -0400
+++ quakeforge/libs/util/idparse.c	2003-07-27 18:00:25.000000000 -0400
@@ -33,7 +33,7 @@
 #endif
 
 static __attribute__ ((unused)) const char rcsid[] =
-        "$Id: 0.5.4-com-parse.patch,v 1.1 2003/10/27 23:34:42 vapier Exp $";
+        "$Id: 0.5.4-com-parse.patch,v 1.1 2003/10/27 23:34:42 vapier Exp $";
 
 #include <ctype.h>
 #include <stdlib.h>
@@ -107,8 +107,11 @@
 skipwhite:
 	while (isspace ((byte) *data))
 		data++;
-	if (!*data)
+	if (!*data) {
+		dstring_clearstr (_com_token);
+		com_token = _com_token->str;
 		return 0;
+	}
 	if (data[0] == '/' && data[1] == '/') {
 		while (*data && *data != '\n')
 			data++;
