diff -ru fvwm-2.5.10.orig/fvwm/expand.c fvwm-2.5.10/fvwm/expand.c
--- fvwm-2.5.10.orig/fvwm/expand.c	2004-02-16 10:50:06.000000000 +0000
+++ fvwm-2.5.10/fvwm/expand.c	2004-06-20 18:46:48.713094728 +0100
@@ -376,15 +376,19 @@
 		}
 		break;
 	case VAR_W_ICONFILE:
-		if (fw && !IS_EWMH_DESKTOP(FW_W(fw)))
-		{
-			string = fw->icon_bitmap_file;
-		}
-		break;
 	case VAR_W_MINIICONFILE:
 		if (fw && !IS_EWMH_DESKTOP(FW_W(fw)))
 		{
-			string = fw->mini_pixmap_file;
+			char *t;
+
+			t = (i == VAR_W_ICONFILE) ?
+				fw->icon_bitmap_file : fw->mini_pixmap_file;
+					/* expand the path if possible */
+					string = PictureFindImageFile(t, NULL, R_OK);
+					if (!string)
+					{
+						string = t;
+					}
 		}
 		break;
 	case VAR_W_CLASS:
