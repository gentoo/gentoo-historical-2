diff -I'^// \$Id' -Naur --exclude-from diff-exclude fluxbox.real/src/FbTk/XmbFontImp.cc fluxbox.work/src/FbTk/XmbFontImp.cc
--- fluxbox.real/src/FbTk/XmbFontImp.cc	2004-09-12 11:48:46.000000000 +1000
+++ fluxbox.work/src/FbTk/XmbFontImp.cc	2004-10-02 15:45:32.000000000 +1000
@@ -117,7 +117,7 @@
     char **missing, *def = "-";
     int nmissing, pixel_size = 0, buf_size = 0;
     char weight[FONT_ELEMENT_SIZE], slant[FONT_ELEMENT_SIZE];
-    char * orig_locale = "";
+    std::string orig_locale = "";
 
 #ifdef HAVE_SETLOCALE
     if (utf8mode) {
@@ -131,7 +131,7 @@
     if (fs && (! nmissing)) {
 #ifdef HAVE_SETLOCALE
         if (utf8mode)
-            setlocale(LC_CTYPE, orig_locale);
+            setlocale(LC_CTYPE, orig_locale.c_str());
 #endif // HAVE_SETLOCALE
         return fs;
     }
@@ -143,7 +143,7 @@
         setlocale(LC_CTYPE, "C");
         fs = XCreateFontSet(display, fontname,
                             &missing, &nmissing, &def);
-        setlocale(LC_CTYPE, orig_locale);
+        setlocale(LC_CTYPE, orig_locale.c_str());
     }
 #endif // HAVE_SETLOCALE
 
@@ -189,7 +189,7 @@
 
 #ifdef HAVE_SETLOCALE
     if (utf8mode)
-        setlocale(LC_CTYPE, orig_locale);
+        setlocale(LC_CTYPE, orig_locale.c_str());
 #endif // HAVE_SETLOCALE
 
     return fs;
