diff -urN policycoreutils-1.14.orig/scripts/genhomedircon policycoreutils-1.14/scripts/genhomedircon
--- policycoreutils-1.14.orig/scripts/genhomedircon	2004-06-17 08:20:25.000000000 -0500
+++ policycoreutils-1.14/scripts/genhomedircon	2004-07-01 00:26:56.611222252 -0500
@@ -88,11 +88,16 @@
 	return rc
 
 try:
-	if len(sys.argv) != 3:
+	if len(sys.argv) == 2:
+		FILECONTEXTDIR="."
+		FILECONTEXTS=sys.argv[1]
+	elif len(sys.argv) == 3:
+		FILECONTEXTDIR=sys.argv[1]
+		FILECONTEXTS=sys.argv[2]
+	else:
 		print len(sys.argv)
 		usage("Incorrect parameters")
 
-	FILECONTEXTDIR=sys.argv[1]
 	prefixes = getPrefixes()
 
 	rc=commands.getstatusoutput("grep -h '^HOME' /etc/default/useradd")
@@ -113,7 +118,7 @@
 	sed_dir = "h; s|^HOME_DIR|%s/[^/]+|; s|ROLE_|user_|" % (string.join(prefixes.keys(), "/[^/]+|; s|ROLE_|user_|; p; g; s|^HOME_DIR|"),)
 
 	# Fill in HOME_ROOT, HOME_DIR, and ROLE for users not explicitly defined in /etc/security/selinux/src/policy/users
-	rc=commands.getstatusoutput("sed -e \"/^HOME_ROOT/{%s}\" -e \"/^HOME_DIR/{%s}\" %s" % (sed_root, sed_dir, sys.argv[2]))
+	rc=commands.getstatusoutput("sed -e \"/^HOME_ROOT/{%s}\" -e \"/^HOME_DIR/{%s}\" %s" % (sed_root, sed_dir, FILECONTEXTS))
 	if rc[0] == 0:
 		print rc[1]
 	else:
@@ -124,7 +129,7 @@
 
 	# Fill in HOME and ROLE for users that are defined
 	for u in users.keys():
-		update(sys.argv[2], u, users[u]) 
+		update(FILECONTEXTS, u, users[u]) 
 except ValueError, error:
 	errorExit(join("ValueError ", error))
 except IndexError, error:
