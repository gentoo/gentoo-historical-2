--- gradm_parse.c	2003-05-13 01:41:26.000000000 -0400
+++ gradm_parse_gentoo.c	2003-05-13 01:51:17.000000000 -0400
@@ -677,8 +677,8 @@
 		n = scandir(dir, &namelist, 0, alphasort);
 		if (n >= 0) {
 			while (n--) {
-				if (strcmp(namelist[n]->d_name, ".")
-				    && strcmp(namelist[n]->d_name, "..")) {
+				/* ignore files and directorys that start with . */
+				if (namelist[n]->d_name[0] != '.') {
 					memset(&path, 0, sizeof (path));
 					snprintf(path, PATH_MAX - 1, "%s/%s",
 						 dir, namelist[n]->d_name);
