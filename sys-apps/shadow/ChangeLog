# ChangeLog for sys-apps/shadow
# Copyright 2002-2004 Gentoo Foundation; Distributed under the GPL v2
# $Header: /var/cvsroot/gentoo-x86/sys-apps/shadow/ChangeLog,v 1.64 2004/07/03 22:29:19 gmsoft Exp $

  03 Jul 2004; Guy Martin <gmsoft@gentoo.org> shadow-4.0.4.1-r2.ebuild:
  Marked stable on hppa.

*shadow-4.0.4.1-r3 (03 Jul 2004)

  03 Jul 2004; Chris PeBenito <pebenito@gentoo.org>
  files/shadow-4.0.4.1-selinux.diff, +shadow-4.0.4.1-r3.ebuild:
  Fix /etc/passwd labeling issue in SELinux patch caught by Petre Rodan in
  #55781. Otherwise same as 4.0.4.1-r2.

  03 Jul 2004; Joshua Kinard <kumba@gentoo.org> shadow-4.0.4.1-r2.ebuild:
  Marked stable on mips.

  29 Jun 2004; Aron Griffis <agriffis@gentoo.org> shadow-4.0.4.1-r2.ebuild:
  stable on x86, alpha, ia64

  27 Jun 2004; Aron Griffis <agriffis@gentoo.org> shadow-4.0.3-r10.ebuild,
  shadow-4.0.3-r9.ebuild, shadow-4.0.4.1-r1.ebuild, shadow-4.0.4.1.ebuild:
  QA - fix use invocation

  15 Jun 2004; <solar@gentoo.org> shadow-4.0.4.1-r2.ebuild,
  files/shadow-4.0.4.1-nonis.patch:
  added nonis patch and uclibc USE to allow shadow to be compiled under uclibc
  envs

  11 Jun 2004; Bryan Østergaard <kloeri@gentoo.org> shadow-4.0.4.1-r1.ebuild:
  Stable on alpha.

*shadow-4.0.4.1-r2 (28 May 2004)

  28 May 2004; Aron Griffis <agriffis@gentoo.org> +shadow-4.0.4.1-r2.ebuild:
  Remove libshadow and libmisc from the shadow package. They shouldn't be
  installed; they're for package internal use only. Installing them breaks
  packages that check for libshadow such as freeradius. See bug 37725 for more
  information. Thanks to Hans W. Wurst for providing some good information in
  that bug.

*shadow-4.0.4.1-r1 (06 May 2004)

  06 May 2004; Aron Griffis <agriffis@gentoo.org> +shadow-4.0.4.1-r1.ebuild,
  shadow-4.0.4.1.ebuild:
  Fix bug 35736: Use -fPIC when building on 64-bit systems so that other
  packages which link shadow into their shared objects will build, for example
  freeradius. Normally this is something to fix globally, but don't want to hurt
  performance for other arches.

  04 May 2004; Gustavo Zacarias <gustavoz@gentoo.org> shadow-4.0.3-r10.ebuild,
  shadow-4.0.4.1.ebuild:
  hppa consoles added to securetty, sparc cleanup, for non-stable ebuilds

  04 May 2004; Gustavo Zacarias <gustavoz@gentoo.org> shadow-4.0.3-r9.ebuild:
  hppa consoles added to securetty, sparc cleanup

  22 Apr 2004; Travis Tilley <lv@gentoo.org>
  +files/shadow-4.0.3-gcc34-xmalloc.patch,
  +files/shadow-4.0.4.1-gcc34-xmalloc.patch, shadow-4.0.3-r9.ebuild,
  shadow-4.0.4.1.ebuild:
  fixes for compiling with gcc 3.4 - bug #47455

  29 Mar 2004; Jon Portnoy <avenj@gentoo.org> shadow-4.0.3-r9.ebuild,
  shadow-4.0.3-r10.ebuild, shadow-4.0.4.1.ebuild :
  Need nls in IUSE, referenced in DEPEND. Bug #44548.

  16 Feb 2004; Martin Schlemmer <azarah@gentoo.org> shadow-4.0.3-r9.ebuild,
  shadow-4.0.4.1.ebuild:
  Fix sg, adduser and vigr symlinks (make them relative not absolute), bug
  #41178.

  23 Jan 2004; Chris PeBenito <pebenito@gentoo.org> shadow-4.0.4.1.ebuild,
  files/shadow-4.0.4.1-selinux.diff:
  Update SELinux patch.

*shadow-4.0.4.1 (22 Jan 2004)

  22 Jan 2004; Martin Schlemmer <azarah@gentoo.org> shadow-4.0.4.1.ebuild,
  files/shadow-4.0.4.1-su-pam_open_session.patch,
  files/shadow-4.0.4.1-useradd-manpage-update.patch:
  Update version.

*shadow-4.0.3-r10 (09 Jan 2004)

  09 Jan 2004; Aron Griffis <agriffis@gentoo.org> shadow-4.0.3-r10.ebuild:
  Enable building of shared objects.  Thanks to Nico Baggus in bug 37725.
  This also closes bug 37719 since freeradius should be able to build with
  libshadow.so

  15 Dec 2003; Martin Schlemmer <azarah@gentoo.org> shadow-4.0.3-r9.ebuild:
  Install the correct version of /etc/pam.d/system-auth, and do not install
  system-auth-1.1. Do not force update anymore.

  10 Dec 2003; Seemant Kulleen <seemant@gentoo.org> shadow-4.0.3-r9.ebuild:
  don't install man 5 passwd either, man-pages again

  10 Dec 2003; Seemant Kulleen <seemant@gentoo.org> shadow-4.0.3-r9.ebuild:
  don't install the getspnam manpage -- man-pages package handles that and does
  it with a better version, to boot

  09 Dec 2003; Seemant Kulleen <seemant@gentoo.org> shadow-4.0.3-r9.ebuild:
  don't install the id man page, coreutils does that

*shadow-4.0.3-r9 (06 Dec 2003)

  06 Dec 2003; Seemant Kulleen <seemant@gentoo.org> shadow-4.0.3-r9.ebuild:
  version bump to force /bin/groups to be on the system -- /bin/groups has been
  removed from coreutils, and now only shadow will provide it. Note that
  coreutils used to compile su and not install it.  This behaviour was
  changed in the bumped coreutils as well (not that that has any effect on
  this, but thought I'd mention it anyway)

*shadow-4.0.3-r8 (17 Nov 2003)

  17 Nov 2003; Joshua Brindle <method@gentoo.org> shadow-4.0.3-r8.ebuild:
  added optional pam support

  28 Oct 2003; Chris PeBenito <pebenito@gentoo.org> shadow-4.0.3-r7.ebuild,
  files/shadow-4.0.3-selinux.diff:
  Add new API SELinux patch

  26 Sep 2003; Martin Schlemmer <azarah@gentoo.org> shadow-4.0.3-r7.ebuild:
  Mark stable.

  26 Sep 2003; Martin Holzer <mholzer@gentoo.org> shadow-4.0.3-r3.ebuild,
  shadow-4.0.3-r4.ebuild, shadow-4.0.3-r5.ebuild, shadow-4.0.3-r6.ebuild,
  shadow-4.0.3-r7.ebuild:
  Added nls? sys-devel/gettext. Closes #29236.

*shadow-4.0.3-r7 (04 Aug 2003)

  04 Aug 2003; Martin Schlemmer <azarah@gentoo.org> shadow-4.0.3-r7.ebuild,
  files/pam.d/system-auth-1.1:
  Remove the 'nodelay' option from authentication (/etc/pam.d/system-auth), bug
  #24081.

  29 Jun 2003; Chris PeBenito <pebenito@gentoo.org> shadow-4.0.3-r6.ebuild:
  Remove selinux stuff, as its no longer needed.  Using pam-login again.

*shadow-4.0.3-r6 (18 May 2003)

  18 May 2003; Martin Schlemmer <azarah@gentoo.org> shadow-4.0.3-r6.ebuild:
  Get the fixed version that do not exclude selinux in as latest stable.

*shadow-4.0.3-r5 (13 May 2003)

  14 May 2003; Joshua Kinard <kumba@gentoo.org> shadow-4.0.3-r5.ebuild:
  Added "gnuconfig" to inherit and "gnuconfig_update" to src_compile()
  to make it detect mips systems correctly

  13 May 2003; Daniel Ahlberg <aliz@gentoo.org> :
  Security update. Added nodelay to second line of pam.d/system-auth.

*shadow-4.0.3-r4 (23 Feb 2003)

  24 Feb 2003; Martin Schlemmer <azarah@gentoo.org> shadow-4.0.3-r4.ebuild :
  Remove the patch again, as it could be a security risk.  Users can use:

     # sudo -u nobody ls

  If they need to run commands as user with '/bin/false' as login ...

  23 Feb 2003; Martin Schlemmer <azarah@gentoo.org> shadow-4.0.3-r4.ebuild :
  If su should not simulate a login shell, use '/bin/sh' as shell to enable
  running of commands as user with /bin/false as shell, closing bug #15015.

  21 Feb 2003; Zach Welch <zwelch@gentoo.org> shadow-4.0.3-r3.ebuild :
  Added arm to keywords.

  09 Feb 2003; Guy Martin <gmsoft@gentoo.org> shadow-4.0.3-r3.ebuild :
  Added hppa to keywords.

  19 Jan 2003; Martin Schlemmer <azarah@gentoo.org> shadow-4.0.3-r3.ebuild :
  
  Patch the useradd manpage to be a bit more clear, closing bug #13203.
  Thanks to Guy <guycad@mindspring.com>.


*shadow-4.0.3-r3 (25 Dec 2002)

  24 Mar 2003; Joshua Brindle <method@gentoo.org> shadow-4.0.3-r3.ebuild:
  added pam.d files for selinux builds

  23 Mar 2003; Joshua Brindle <method@gentoo.org> shadow-4.0.3-r3.ebuild:
  added selinux support, thanks sindian

  18 Jan 2003; Jan Seidel <tuxus@gentoo.org> :

  Added mips to keywords

  25 Dec 2002; Martin Schlemmer <azarah@gentoo.org> shadow-4.0.3-r3.ebuild :

  Added /etc/default/useradd with default shell of /bin/bash, closing bug #5629.

  06 Dec 2002; Rodney Rees <manson@gentoo.org> :
  
  Changed sparc ~sparc keywords.
 
  03 Dec 2002; Martin Schlemmer <azarah@gentoo.org> shadow-4.0.3-r2.ebuild :

  Mark as stable.  Update pam.d/su to use pam_filelist.so if uncommented.
  This can be used as a type of /etc/suauth.  Should close bug #4210.

  Fix an issue where /etc/pam.d/system-auth.new was still being installed.

*shadow-4.0.3-r1 (20 Oct 2002)

  20 Oct 2002; Martin Schlemmer <azarah@gentoo.org> shadow-4.0.3-r2.ebuild :

  Update the su-pam_open_session.patch, as the old one did not export
  XAUTHORITY, or call pam_close_session().

*shadow-4.0.3-r1 (19 Oct 2002)

  19 Oct 2002; Martin Schlemmer <azarah@gentoo.org> shadow-4.0.3-r1.ebuild :

  Get su to call pam_open_session(), and also set DISPLAY and XAUTHORITY,
  else the session entries in /etc/pam.d/su never get executed, and
  pam_xauth for one, is then never used.  This should close bug #8831.


  12 Oct 2002; Martin Schlemmer <azarah@gentoo.org> shadow-4.0.3.ebuild :

  Fix bug #9031 (add /etc/default/ to fix adduser -D).

*shadow-4.0.2-r4.ebuild (14 July 2002)

  14 Jul 2002; phoen][x <phoenix@gentoo.org> shadow-4.0.2-r4.ebuild :
  Added KEYWORDS, SLOT.

*shadow-4.0.1-r2.ebuild (14 July 2002)

  14 Jul 2002; phoen][x <phoenix@gentoo.org> shadow-4.0.1-r2.ebuild :
  Added KEYWORDS, SLOT.

  29 Jun 2002; M.Schlemmer <azarah@gentoo.org>
  Update to use libtool.eclass.  This fix the compile problems without
  having custom $LIBS and $LDFLAGS.

*shadow-4.0.2-r5 (28 Apr 2002)

  14 Jul 2002; phoen][x <phoenix@gentoo.org> shadow-4.0.2-r5.ebuild :
  Added KEYWORDS.

  28 Apr 2002; M.Schlemmer <azarah@gentoo.org>

  Remove /etc/login.defs.

  8 Apr 2002; M.Schlemmer <azarah@gentoo.org>

  Removed /bin/login in favour of the one in util-linux, as the one
  included here have a root exploit if pam_limits is in use.

  Libtoolized to fix .la files.  Build is pretty broken if libtoolized, so had
  to put a unortodox LIBS= and LDFLAGS= there.

*shadow-4.0.3 (3 Apr 2002)

  14 Jul 2002; phoen][x <phoenix@gentoo.org> shadow-4.0.3.ebuild :
  Added KEYWORDS.

  3 Apr 2002; Jared H. Hudson <jhhudso@gentoo.org>

  Added new shadow version, currently masked out until it's been
  tested better.
	
*shadow-4.0.2-r3 (3 Apr 2002)

  3 Apr 2002; Jared H. Hudson <jhhudso@gentoo.org>

  Cleaned up earlier fix to account for all possibilities, such as
  binary packages, different ROOT's, and an already existing good
  system-auth file.
	
*shadow-4.0.2-r2 (3 Apr 2002)

  3 Apr 2002; Jared H. Hudson <jhhudso@gentoo.org>

  Fixed /etc/pam.d/system-auth to use pam_unix instead of pam_pwdb due
  to security bug.
  
*shadow-4.0.2-r1 (25 Mar 2002)

  25 Mar 2002; M.Schlemmer <azarah@gentoo.org>

  Fix the "libdir" in /usr/lib/libmisc.la.

*shadow-20001016-r10 (12 Mar 2002)

  14 Jul 2002; phoen][x <phoenix@gentoo.org> shadow-20001016-r10.ebuild :
  Added KEYWORDS, SLOT.

  12 Mar 2002; Seemant Kulleen <seemant@gentoo.org> 

  Added USE dependent nls compilation.

*shadow-20001016-r9 (26 Feb 2002)

  14 Jul 2002; phoen][x <phoenix@gentoo.org> shadow-20001016-r9.ebuild :
  Added KEYWORDS, SLOT.

  26 Feb 2002; T.Neidt <tod@gentoo.org> shadow-20001016-r9.ebuild, login.defs

  Changed 'CREATE_HOME yes' to 'CREATE_HOME no' in login.defs.
  CREATE_HOME is a RedHat'ism and is not supported by the stock shadow
  package (see src/useradd.c).  When CREATE_HOME is set to 'yes',
  adduser generates a warning meassage. 

  Bumped ebuild revision so login.defs will be updated by emerge updates.
  
  Note to users:  'useradd -m <user>' will create the home directory and
  add any files in /etc/skel (see 'man adduser')
  

*shadow-20001016-r8 (25 Feb 2002)

  14 Jul 2002; phoen][x <phoenix@gentoo.org> shadow-20001016-r8.ebuild :
  Added KEYWORDS, SLOT.

  25 Feb 2002; M.Schlemmer <azarah@gentoo.org> shadow-20001016-r8.ebuild

  Added a 'rm -rf ${D}/usr/share/man/*' to Chris's man fix to clean the
  Polish pages.  Added the line for installing /etc/pam.d/chage again, which
  should close bug #837.

*shadow-20001016-r7 (20 Feb 2002)

  14 Jul 2002; phoen][x <phoenix@gentoo.org> shadow-20001016-r7.ebuild :
  Added KEYWORDS, SLOT.

  20 Feb 2002; Chris Houser <chouser@gentoo.org> shadow-20001016-r7.ebuild
  files/digest-shadow-20001016-r7 ChangeLog :

  Changed man page installation.  More man pages are now included, and all
  should be in English (instead of the occasional Polish page).  This closes
  bug #594.

*shadow-20001016-r6 (1 Feb 2002)

  1 Feb 2002; G.Bevin <gbevin@gentoo.org> ChangeLog :
  
  Added initial ChangeLog which should be updated whenever the package is
  updated in any way. This changelog is targetted to users. This means that the
  comments should well explained and written in clean English. The details about
  writing correct changelogs are explained in the skel.ChangeLog file which you
  can find in the root directory of the portage repository.
