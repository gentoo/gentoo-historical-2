===================================================================
RCS file: /cvsroot/shadow/libmisc/log.c,v
retrieving revision 1.7
retrieving revision 1.8
diff -u -r1.7 -r1.8
--- shadow/libmisc/log.c	2003/12/17 12:52:25	1.7
+++ shadow/libmisc/log.c	2005/03/09 04:55:31	1.8
@@ -30,7 +30,7 @@
 #include <config.h>
 
 #include "rcsid.h"
-RCSID ("$Id: shadow-4.0.7-lastlog.patch,v 1.1 2005/03/22 15:17:47 azarah Exp $")
+RCSID ("$Id: shadow-4.0.7-lastlog.patch,v 1.1 2005/03/22 15:17:47 azarah Exp $")
 #include <sys/types.h>
 #include <pwd.h>
 #include <fcntl.h>
@@ -89,6 +89,7 @@
 
 	ll_time = newlog.ll_time;
 	time (&ll_time);
+	newlog.ll_time = ll_time;
 	strncpy (newlog.ll_line, line, sizeof newlog.ll_line);
 #if HAVE_LL_HOST
 	strncpy (newlog.ll_host, host, sizeof newlog.ll_host);