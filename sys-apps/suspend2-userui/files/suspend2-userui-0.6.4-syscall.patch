diff -ru suspend2-userui-0.6.4/userui.h suspend2-userui-0.6.4-new/userui.h
--- suspend2-userui-0.6.4/userui.h	2006-06-07 03:25:12.000000000 +1000
+++ suspend2-userui-0.6.4-new/userui.h	2006-10-14 01:57:51.000000000 +1000
@@ -1,7 +1,7 @@
 #ifndef _USERUI_H_
 #define _USERUI_H_
 
-#include <linux/unistd.h>
+#include <sys/syscall.h>
 #include <sys/types.h>
 #include "suspend_userui.h"
 
@@ -124,8 +124,7 @@
 /*
  * Work around random glibc bugs where getpid() caches an invalid pid.
  */
-#define __NR_xgetpid __NR_getpid
-static inline _syscall0(pid_t, xgetpid);
+#define xgetpid() syscall(SYS_getpid)
 
 
 #endif /* _USERUI_H_ */

