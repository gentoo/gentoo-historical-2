#!/bin/sh
#RCUPDATE:1 2 3 4 5:20:This line is required for script management

klog="/usr/sbin/klogd"
slog="/usr/sbin/syslogd"

. /etc/rc.d/config/functions

SERVICE=sysklogd
opts="start stop status"

start() {
    ebegin "Starting supervised syslog and klog"
    local retval
	local x
	retval=0
	
	for x in klog syslog
	do
		/usr/bin/svc -u /etc/svc.d/control/${x}
		retval=$(( $? + $retval ))
	done
    eend $retval 
}

stop() {
    ebegin "Stopping supervised syslog and klog"
   	/usr/bin/svc -d /etc/svc.d/control/klog /etc/svc.d/control/syslog 
    eend $? 
}

status() {
	einfo "syslog and klog status:"
	/usr/bin/svstat /etc/svc.d/control/klog /etc/svc.d/control/syslog
}

doservice ${@}
