--- modutils/insmod.c.orig	2004-06-11 20:36:37.684227544 +0200
+++ modutils/insmod.c	2004-06-11 20:36:58.307092392 +0200
@@ -152,6 +152,18 @@
 #define ELFCLASSM	ELFCLASS32
 #endif
 
+#if defined(__x86_64__)
+#define BB_USE_GOT_ENTRIES
+#define BB_GOT_ENTRY_SIZE 8
+#define BB_USE_SINGLE
+
+#define MATCH_MACHINE(x) (x == EM_X86_64)
+
+#define SHT_RELM	SHT_RELA
+#define Elf64_RelM	Elf64_Rela
+#define ELFCLASSM	ELFCLASS64
+#endif
+
 #if defined(__mc68000__) 
 #define CONFIG_USE_GOT_ENTRIES
 #define CONFIG_GOT_ENTRY_SIZE 4
--- util-linux/fdisk.c.orig	2004-06-11 20:49:01.141204904 +0200
+++ util-linux/fdisk.c	2004-06-11 20:50:18.957375048 +0200
@@ -855,7 +855,7 @@
  */
 
 
-#if defined(__alpha__) || defined(__ia64__) || defined(__s390x__)
+#if defined(__alpha__) || defined(__ia64__) || defined(__s390x__) || defined(__x86_64__)
 
 #define my_llseek lseek
 
