From: Nathan Phillip Brink <ohnobinki@gmail.com>
Date: Wed, 26 Mar 2008 22:39:27 +0000 (+0000)
Subject: Allow multiple ntp_servers without error, #47
X-Git-Url: http://git.overlays.gentoo.org/gitweb/?p=proj%2Fopenrc.git;a=commitdiff_plain;h=790e886674f73af3d28d3e07ced854a4cbbe2e8c

Allow multiple ntp_servers without error, #47
---

diff --git a/net/system.sh b/net/system.sh
index 2cbab9c..aa654a1 100644
--- a/net/system.sh
+++ b/net/system.sh
@@ -58,8 +58,8 @@ _system_ntp()
 	local servers= buffer= x=
 
 	eval servers=\$ntp_servers_${IFVAR}
-	[ -z ${servers} ] && servers=${ntp_servers}
-	[ -z ${servers} ] && return 0
+	[ -z "${servers}" ] && servers=${ntp_servers}
+	[ -z "${servers}" ] && return 0
 
 	buffer="# Generated by net-scripts for interface ${IFACE}\n"
 	buffer="${buffer}restrict default noquery notrust nomodify\n"
