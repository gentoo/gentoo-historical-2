diff -Nur portage-2.1_pre5/bin/emerge portage-2.1_pre5-r1/bin/emerge
--- portage-2.1_pre5/bin/emerge	2006-02-20 16:58:13.000000000 -0800
+++ portage-2.1_pre5-r1/bin/emerge	2006-02-26 03:39:28.000000000 -0800
@@ -1934,7 +1934,7 @@
 			y=portage.portdb.findname(x[pkgindex])
 			if not "--pretend" in myopts:
 				print ">>> Emerging ("+str(mergecount)+" of "+str(len(mymergelist))+")",x[pkgindex],"to",x[1]
-				emergelog(" >>> Emerging ("+str(mergecount)+" of "+str(len(mymergelist))+") "+x[pkgindex]+" to "+x[1])
+				emergelog(" >>> emerge ("+str(mergecount)+" of "+str(len(mymergelist))+") "+x[pkgindex]+" to "+x[1])
 
 			self.pkgsettings["EMERGE_FROM"] = x[0][:]
 			self.pkgsettings.backup_changes("EMERGE_FROM")
diff -Nur portage-2.1_pre5/pym/portage_locks.py portage-2.1_pre5-r1/pym/portage_locks.py
--- portage-2.1_pre5/pym/portage_locks.py	2006-02-15 10:36:48.000000000 -0800
+++ portage-2.1_pre5-r1/pym/portage_locks.py	2006-02-26 03:39:05.000000000 -0800
@@ -122,7 +122,8 @@
 			raise
 
 		
-	if type(lockfilename) == types.StringType and os.fstat(myfd).st_nlink != 1:
+	if type(lockfilename) == types.StringType and \
+		myfd != HARDLINK_FD and os.fstat(myfd).st_nlink != 1:
 		# The file was deleted on us... Keep trying to make one...
 		os.close(myfd)
 		portage_util.writemsg("lockfile recurse\n",1)
diff -Nur portage-2.1_pre5/pym/portage.py portage-2.1_pre5-r1/pym/portage.py
--- portage-2.1_pre5/pym/portage.py	2006-02-21 02:01:08.000000000 -0800
+++ portage-2.1_pre5-r1/pym/portage.py	2006-02-26 12:46:20.000000000 -0800
@@ -4,7 +4,7 @@
 # $Id: 2.1_pre5-r1.patch,v 1.2 2006/02/26 20:54:43 zmedico Exp $
 
 
-VERSION="2.1_pre5"
+VERSION="2.1_pre5-r1"
 
 # ===========================================================================
 # START OF IMPORTS -- START OF IMPORTS -- START OF IMPORTS -- START OF IMPORT
@@ -5334,6 +5334,8 @@
 		return 1
 
 	def update_ents(self, update_iter):
+		if len(update_iter) == 0:
+			return
 		if not self.populated:
 			self.populate()
 
