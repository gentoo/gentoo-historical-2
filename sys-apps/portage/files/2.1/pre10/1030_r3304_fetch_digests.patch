Modified: pym/portage.py
===================================================================
--- pym/portage.py	2006-05-02 06:11:35 UTC (rev 3303)
+++ pym/portage.py	2006-05-02 06:22:19 UTC (rev 3304)
@@ -1881,10 +1881,8 @@
 		if try_mirrors:
 			mymirrors += [x.rstrip("/") for x in mysettings["GENTOO_MIRRORS"].split() if x]
 
-	mydigests = {}
-	digestfn  = mysettings["FILESDIR"]+"/digest-"+mysettings["PF"]
-	if os.path.exists(digestfn):
-		mydigests = digestParseFile(digestfn)
+	mydigests = Manifest(
+		mysettings["O"], mysettings["DISTDIR"]).getTypeDigests("DIST")
 
 	fsmirrors = []
 	for x in range(len(mymirrors)-1,-1,-1):
