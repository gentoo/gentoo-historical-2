Index: Makefile
===================================================================
--- Makefile	(revision 2359)
+++ Makefile	(working copy)
@@ -23,7 +23,7 @@
 	/var/lock /var/run
 
 ifeq ($(OS),Linux)
-	KEEP_DIRS += /dev /proc /sys
+	KEEP_DIRS += /dev /sys
 	NET_LO = net.lo
 endif
 ifneq ($(OS),Linux)
Index: ChangeLog
===================================================================
--- ChangeLog	(revision 2359)
+++ ChangeLog	(working copy)
@@ -1,6 +1,11 @@
 # ChangeLog for Gentoo System Intialization ("rc") scripts
 # Copyright 1999-2006 Gentoo Foundation; Distributed under the GPLv2
 
+  05 Nov 2006; Roy Marples <uberlord@gentoo.org>:
+
+    Don't create /proc on Linux as build scripts like to handle it now.
+    Fixes #154126.
+
 * baselayout-1.13.0_alpha5 (02 Nov 2006)
 
   02 Nov 2006; Roy Marples <uberlord@gentoo.org>:
Index: sbin/rc
===================================================================
--- sbin/rc	(revision 2359)
+++ sbin/rc	(working copy)
@@ -267,7 +267,7 @@
 
 	for x in $(dolisting "${svcdir}/inactive/") \
 	         $(dolisting "${svcdir}/started/") ; do
-		list="${list} ${x##*/}"
+		list="${x##*/} ${list}"
 	done
 
 	[[ -n ${list} ]] && reverse_list $(rc-depend -ineed -iuse -iafter ${list})
@@ -442,7 +442,7 @@
 rm -rf "${svcdir}/failed" &>/dev/null
 
 # If $svcdir is mounted in ram, save it back to disk and unmount
-if [[ $'\n'$(get_mounts) =~ $'\n'"${svcdir} " ]] ; then
+if [[ $'\n'$(get_mounts) =~ $'\n'${svcdir}\  ]] ; then
 	# Function to show the timeout message
 	timeout=
 	do_timeout() {
Index: sbin/depscan.sh
===================================================================
--- sbin/depscan.sh	(revision 2359)
+++ sbin/depscan.sh	(working copy)
@@ -149,6 +149,7 @@
 	if [[ ${retval} == "0" ]] ; then
 		DEPTREE="deptree"
 		export DEPTREE
+		cd /etc/init.d
 		bash "${mysvcdir}/depcache" | \
 			awk \
 				-f /lib/rcscripts/awk/functions.awk \
@@ -187,6 +188,7 @@
 	if [[ ${retval} == "0" ]] ; then
 		DEPTREE="netdeptree"
 		export DEPTREE
+		cd "${svclib}/net"
 		bash "${mysvcdir}/netdepcache" | \
 			awk \
 				-f /lib/rcscripts/awk/functions.awk \
