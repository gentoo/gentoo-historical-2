#!/bin/sh
#RCUPDATE:1 2 3 4 5:20:This line is required for script management

klog="/usr/sbin/klogd"
slog="/usr/sbin/syslogd"

. /etc/rc.d/config/functions

SERVICE=sysklogd
opts="start stop restart reconfig"

start() {
    ebegin "Starting syslogd, klogd"
    start-stop-daemon --start --exec $slog -- $SYSLOGD 1>&2
    retval=$?
    start-stop-daemon --start --exec $klog -- $KLOGD 1>&2
    retval=$(( $retval + $? ))
    eend $retval 
}

stop() {
    ebegin "Stopping klogd, syslogd"
    start-stop-daemon --stop --pidfile /var/run/klogd.pid 1>&2
    retval=$?
    start-stop-daemon --stop --pidfile /var/run/syslogd.pid 1>&2
    retval=$(( $retval + $? ))
    eend $retval 
}

restart() {

    stop
    start

}

reconfig() {
    ebegin "Reconfiguring syslogd"
    start-stop-daemon --stop --signal 1 --pidfile /var/run/syslogd.pid 1>&2
    eend $?
}

doservice ${@}

