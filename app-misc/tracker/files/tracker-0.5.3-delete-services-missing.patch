--- src/trackerd/tracker-db-sqlite.c	2006-12-23 19:16:57.000000000 -0600
+++ src/trackerd/tracker-db-sqlite.c	2007-01-09 14:44:55.000000000 -0600
@@ -725,9 +725,14 @@ tracker_db_connect_cache (void)
 
 	if (create_table) {
 		tracker_db_exec_no_reply (db_con, "CREATE TABLE Words (WordID Integer primary key AUTOINCREMENT not null, Word Text, WordCount int)");
+		tracker_db_exec_no_reply (db_con, "CREATE TABLE Services (ID Integer primary key AUTOINCREMENT not null, ServiceTypeID Integer default 0, SubType Integer default 0, Path Text not null, Name Text, Mime Text, Size Integer, Enabled Integer default 1, IsDirectory Integer default 0, IsWatchedDirectory Integer default 0, IsLink Integer default 0, IsVfs Integer default 0, AuxilaryID Integer default -1, IndexTime Integer, Offset Integer, unique (Path, Name))");
 		tracker_db_exec_no_reply (db_con, "CREATE TABLE ServiceWords (WordID Int, ServiceID int, ServiceType int, score int, primary key (WordID, ServiceID))");
 		tracker_db_exec_no_reply (db_con, "CREATE INDEX  WordWord ON Words (Word)");
 		tracker_db_exec_no_reply (db_con, "CREATE INDEX  WordWordCount ON Words (WordCount)");
+		tracker_db_exec_no_reply (db_con, "CREATE INDEX  ServiceIndex1 ON Services (ServiceTypeID)");
+		tracker_db_exec_no_reply (db_con, "CREATE INDEX  ServiceIndex2 ON Services (AuxilaryID)");
+		tracker_db_exec_no_reply (db_con, "CREATE INDEX  ServiceIndex3 ON Services (Mime)");
+		tracker_db_exec_no_reply (db_con, "CREATE INDEX  ServiceIndex4 ON Services (Size)");
 		tracker_db_exec_no_reply (db_con, "CREATE INDEX  ServiceWordID ON ServiceWords (ServiceID)");
 	}
 
@@ -2761,7 +2766,7 @@ tracker_db_delete_directory (DBConnectio
 	}
 
 	if (db_con->user_data) {
-		tracker_exec_proc (db_con->user_data, "DeleteDirectory9", 1, uri, uri_prefix);
+		tracker_exec_proc (db_con->user_data, "DeleteDirectory9", 2, uri, uri_prefix);
 		tracker_exec_proc (db_con->user_data, "DeleteFile10", 1, str_file_id);
 	}
 
