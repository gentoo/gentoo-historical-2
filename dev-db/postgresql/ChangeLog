# ChangeLog for dev-db/postgresql
# Copyright 2002-2004 Gentoo Technologies, Inc.; Distributed under the GPL v2
# $Header: /var/cvsroot/gentoo-x86/dev-db/postgresql/ChangeLog,v 1.78 2004/01/05 10:43:21 robbat2 Exp $

*postgresql-7.4.1-r1 (05 Jan 2004)

  05 Jan 2004; Robin H. Johnson <robbat2@gentoo.org> postgresql-7.4-r2.ebuild,
  postgresql-7.4.1-r1.ebuild:
  fix bug #34605. no response from postgres herd so fixing it myself

  03 Jan 2004; Masatomo Nakano <nakano@gentoo.org> postgresql-7.3.5.ebuild:
  Marked as stable.

  29 Dec 2003; Masatomo Nakano <nakano@gentoo.org> postgresql-7.3.4-r1.ebuild,
  postgresql-7.3.5.ebuild, postgresql-7.4-r1.ebuild, postgresql-7.4.1.ebuild:
  Fixed Java dependency. Close #36723.

*postgresql-7.4.1 (25 Dec 2003)

  25 Dec 2003; Masatomo Nakano <nakano@gentoo.org> postgresql-7.4.1.ebuild,
  files/pg_autovacuum.conf-7.4.1, files/pg_autovacuum.init-7.4.1,
  files/postgresql-7.4.1-gentoo.patch,
  files/postgresql-7.4.1-vacuum-delay.patch, files/postgresql.conf-7.4.1,
  files/postgresql.init-7.4.1:
  Version bump.
  Included vacuum-delay.patch and added pg_autovacuum init script.
  Thanks to Arthur Ward <award-gentoo-bugs@dominionsciences.com>.
  Close #35152, #36449.

*postgresql-7.3.5 (19 Dec 2003)

  19 Dec 2003; Masatomo Nakano <nakano@gentoo.org> postgresql-7.3.5.ebuild,
  files/postgresql.init-7.3.5:
  Version bump.

*postgresql-7.4-r1 (25 Nov 2003)
  19 Dec 2003; Masatomo Nakano <nakano@gentoo.org> postgresql-7.3.4-r1.ebuild,
  postgresql-7.4-r1.ebuild:
  Fixed SRC_URI. Close #36006

  15 Dec 2003; Masatomo Nakano <nakano@gentoo.org> files/digest-postgresql-7.4-r1:
  Updated digest file since pg-hier patch was updated in upstream.

  06 Dec 2003; Masatomo Nakano <nakano@gentoo.org> postgresql-7.3.2.ebuild,
  postgresql-7.3.3.ebuild, postgresql-7.3.4.ebuild, postgresql-7.3.ebuild,
  postgresql-7.4.ebuild, files/pgsql, files/postgres, files/postgresql,
  files/postmaster-wrapper, files/7.3/postgresql, files/7.3.2/postgresql:
  Removed old ebuilds/files.

  25 Nov 2003; Masatomo Nakano <nakano@gentoo.org> postgresql-7.4-r1.ebuild,
  files/postgresql.init-7.4:
  Added hier patch(#34163). 
  Changed download files to base/opt tar balls(#14258).
  Modified init file from 'need net' to 'use net'(#33161).

*postgresql-7.4 (20 Nov 2003)

  21 Nov 2003; Masatomo Nakano <nakano@gentoo.org> postgresql-7.4.ebuild:
  Added bison dependency. close #33973

  20 Nov 2003; Martin Holzer <mholzer@gentoo.org> postgresql-7.4.ebuild:
  Adding RESTRICT="nomirror".

  20 Nov 2003; Masatomo Nakano <nakano@gentoo.org> postgresql-7.4.ebuild,
  files/postgresql.env-7.4:
  Removed postgresql.env file.

  20 Nov 2003; Masatomo Nakano <nakano@gentoo.org> postgresql-7.4.ebuild:
  files/postgresql.conf-7.4, files/postgresql.init-7.4,
  files/postgresql.env-7.4, postgresql-7.4-gentoo.patch:
  Version bump as unstable.

*postgresql-7.3.4-r1 (06 Nov 2003)
  15 Dec 2003; Masatomo Nakano <nakano@gentoo.org> postgresql-7.3.4-r1.ebuild:
  Fixed DEPEND/RDEPEND in amd64/hppa.

  17 Nov 2003; Masatomo Nakano <nakano@gentoo.org> postgresql-7.3.4-r1.ebuild:
  Marked as stable.

  06 Nov 2003; Masatomo Nakano <nakano@gentoo.org> postgresql-7.3.4-r1.ebuild:
  Enable recursive queries like Oracle's 'CONNECT BY' feature.
  Thanks to Christian A. <chr@die.unipd.it>. Close #32248

  07 Oct 2003; John Mylchreest <johnm@gentoo.org>; postgresql-7.3.4.ebuild:
  fixing POSIX 1003.1-2001 chown change. '.' now ':'

*postgresql-7.3.4 (31 Jul 2003)

  10 Aug 2003; Masatomo Nakano <nakano@gentoo.org> postgresql-7.3.4.ebuild:
  Marked as stable.

  06 Aug 2003; Guy Martin <gmsoft@gentoo.org> postgresql-7.3.4.ebuild :
  Added warning and fix for running postgresql and initdb on hppa.
  Added hppa to KEYWORDS.

  31 Jul 2003; Masatomo Nakano <nakano@gentoo.org> postgresql-7.3.4.ebuild,
  files/postgresql.init-7.3.4:
  Version bumped and modified init script.

*postgresql-7.3.3 (06 Jun 2003)
  10 Jun 2003; Masatomo Nakano <nakano@gentoo.org> postgresql-7.3.3.ebuild:
  Marked as stable.

  06 Jun 2003; Masatomo Nakano <nakano@gentoo.org> postgresql-7.3.3.ebuild,
  files/postgresql.conf, files/postgresql.init:
  Version bump.

*postgresql-7.3.2 (01 Mar 2003)
  06 Jun 2003; Masatomo Nakano <nakano@gentoo.org> postgresql-7.3.2.ebuild:
  fixed bug #18035

  31 Mar 2003: Masatomo Nakano <nakano@gentoo.org> postgresql-7.3.2.ebuild:

  Changed to use USE of readline, zlib and pam.
  Removed obsoleted configure options.

  23 Mar 2003: Masatomo Nakano <nakano@gentoo.org> postgresql-7.3.2.ebuild:
  Move to stable.

  17 Mar 2003: Masatomo Nakano <nakano@gentoo.org> postgresql-7.3.2.ebuild:
  Fixed bug #14953

  01 Mar 2003: Masatomo Nakano <nakano@gentoo.org> postgresql-7.3.2.ebuild:

  version bump. masked for test.

*postgresql-7.3.1 (31 Dec 2002)
  03 Feb 2003: Will Woods <wwoods@gentoo.org> postgresql-7.3.1.ebuild:
  added ~alpha keyword

  04 Dec 2002: Michael Cummings <mcummings@gentoo.org>
  postgresql-7.3.ebuild: 

  Added sparc64 keyword - installs and runs just fine

  07 Feb 2003; Ryan Phillips <rphillisp@gentoo.org> postgresql-7.3.1.ebuild :
  Added egenix-mx-base dep for python support

  02 Feb 2003; Pieter Van den Abeele <pvdabeel@gentoo.org> postgresql-7.3.1.ebuild :
  Changed java dep back to virtual/jdk because sun-jdk is x86-only. 
  Uncomment the x86 ? keyword line if you want a sun-jdk dependency or emerge sun-jdk manually

  31 Jan 2003; Ryan Phillips <rphillips@gentoo.org> postgresql-7.3.1.ebuild :
  Changed java dep to be sun-jdk for compatibility


  31 Dec 2002; Ryan Phillips <rphillips@gentoo.org> postgresql-7.3.1.ebuild :
  Version bump.. Masked for testing.

*postgresql-7.3 (1 Dec 2002)
  17 Mar 2003: Masatomo Nakano <nakano@gentoo.org> postgresql-7.3.ebuild:
  Fixed bug #14953

  21 Dec 2002; Ryan Phillips <rphillips@gentoo.org> postgresql-7.3.ebuild:
  Added an addwrite to the perl script

  03 Dec 2002: Preston A. Elder <prez@gentoo.org> files/7.3/postgresql:
  Forgot the init script, added now.

  01 Dec 2002: Preston A. Elder <prez@gentoo.org> postgresql-7.3.ebuild:
  Added new version, also stopped forcing Java 1.3, 1.4 works fine now.

*postgresql-7.2.3-r1 (27 Oct 2002)

  26 Nov 2002; Mark Guertin <gerk@gentoo.org> postgresql-7.2.3-r1.ebuild:
  forced CFLAGS="-pipe -fsigned-char", any more aggressive optimizations
  cause failures on ppc

  26 Nov 2002; Ryan Phillips <rphillips@gentoo.org> postgresql-7.2.3-r1.ebuild :
  Notified the user to give the postgres user a /bin/bash or /bin/true account

  25 Nov 2002; Mark Guertin <gerk@gentoo.org> portgresql-7.2.3.ebuild, 
  portgresql-7.2.3-r1.ebuild:
  Set -ppc to all the 7.2.3 builds, none of them even compile on
  ppc, please please check with devs before upgrading new pkgs
  that are untested to stable ;)

  14 Nov 2002; Ryan Phillips <rphillips@gentoo.org> postgresql-7.2.3-r1.ebuild :

  Fixed location that is printed out

  07 Nov 2002; Ryan Phillips <rphillips@gentoo.org> postgresql-7.2.3-r1.ebuild :

  Fixes a few bugs:
    Log File (#10368)
    Removed the check for the postgres user
    

  27 Oct 2002; Ryan Phillips <rphillips@gentoo.org> postgresql-7.2.3-r1.ebuild :

  added new init.d and conf.d scripts

*postgresql-7.2.3 (08 Oct 2002)

  18 Oct 2002; <mcummings@gentoo.org>

  Added perl patch fix

  08 Oct 2002; Ryan Phillips <rphillips@gentoo.org> postgresql-7.2.3.ebuild :

  *Security Fix*.  Submitted by Richard C.  Bug #8905
  removed libperl-gentoo.diff patch, causing sandbox errors

*postgresql-7.2.2 (26 Aug 2002)

  25 Sep 2002; Ryan Phillips <rphillips@gentoo.org> postgresql-7.2.2.ebuild :

  Added perl patch because of sandbox violations

  08 Sep 2002; Ryan Phillips <rphillips@gentoo.org> postgresql-7.2.2.ebuild :
  Minor tweak to SSL...

  2 Sep 2002; Owen Stampflee <owen@gentoo.org> postgresql-7.2.2.ebuild :
  Added PPC to KEYWORDS.

  29 Aug 2002; Ryan Phillips <rphillips@gentoo.org> postgresql-7.2.2.ebuild :

  Changed java dep to 1.3.1

  28 Aug 2002; Ryan Phillips <rphillips@gentoo.org> postgresql-7.2.2.ebuild :

  Some fixes to the dependency list

  28 Aug 2002; Mark Guertin <gerk@gentoo.org> postgresql-7.2.2.ebuild :
  Set the java?() depend to be x86 only (ant is currently broken on ppc)

  26 Aug 2002; Daniel Ahlberg <aliz@gentoo.org> postgresql-7.2.2.ebuild:
  Moved message to postinst. Fixed .jar file installation.

  26 Aug 2002; Daniel Ahlberg <aliz@gentoo.org> postgresql-7.2.2.ebuild:
  Small cleanups and fixes.

  26 Aug 2002; Daniel Ahlberg <aliz@gentoo.org> postgresql-7.2.2.ebuild:
  Cleaned up ebuild. Removed tarballs of documentation and manpages from
  docdir.  

  26 Aug 2002; Daniel Ahlberg <aliz@gentoo.org> postgresql-7.2.2.ebuild:
  Security update.

* postgresql-7.2.1-r2 (31 Jul 2002)                                      

  18 Aug 2002; Ryan Phillips <rphillips@gentoo.org> postgresql-7.2.1-r2.ebuild :

  Postgresql doesn't like emake due to multiple processor support.
  Using make instead

  13 Aug 2002; Pieter Van den Abeele <pvdabeel@gentoo.org> postgresql-7.2.1-r2.ebuild:

  Added ppc keyword

  31 Jul 2002; Stuart Bouyer <stubear@gentoo.org> postgresql-7.2.1-r2.ebuild:

  Moved --enable-multibyte to nls flag after it was pointed out that it
  enables much more than just CJK support (ie unicode and latin1 etc).

* postgresql-7.2.1-r2 (24 Jul 2002)

  24 Jul 2002; Stuart Bouyer <stubear@gentoo.org> postgresql-7.2.1-r2.ebuild:

  Added cjk flag to enable multibyte characters. Changed If [ "`use foo`" ] 
  statement to use foo && ...
  (CJK support suggested by Masamoto Nakano <nakano@mail.club.ne.jp>)

*postgresql-7.2-r3 (02 Jul 2002)

  08 Jul 2002; Ryan Phillips <rphillips@gentoo.org> postgresql-7.2-r3.ebuild :

  Added creation of user and group

  02 Jul 2002; Ryan Phillips <rphillips@gentoo.org> files/7.2/postgresql,
  postgresql-7.2-r3.ebuild

  Fixes to the path of the postmaster pidfile.
  Fixes to the ebuild to disable java version checking if java
  is not in the use vars.

*postgresql-7.2.1-r1 (20 Jun 2002)

  14 Jul 2002l Ryan Phillips <rphillips@gentoo.org> postgresql-7.2.1-r1.ebuild :

  Added init.d startup file for 7.2.1
  
  13 Jul 2002l Ryan Phillips <rphillips@gentoo.org> postgresql-7.2.1-r1.ebuild :

  Added sudo dependency
  
  13 Jul 2002; Ryan Phillips <rphillips@gentoo.org> postgresql-7.2.1-r1.ebuild :

  Removed daemontools dep

  12 Jul 2002; Ryan Phillips <rphillips@gentoo.org> postgresql-7.2.1-r1.ebuild :

  Fixed user and group additions. Thx to Andy Dustman

  08 Jul 2002; Ryan Phillips <rphillips@gentoo.org> postgresql-7.2.1-r1.ebuild :

  Added creation of user and group

  20 Jun 2002; Preston A. Elder <prez@gentoo.org> files/7.2.1/postgresql :

  Changed the startup script to a) one that works, and b) to be in the
  same style as all other startup scripts we use.

*postgresql-7.2.1-r1 (20 Jun 2002)

  20 Jun 2002; Preston A. Elder <prez@gentoo.org> postgresql-7.2.1-r1.ebuild :

  Changed the arguments to configure to increase things such as max
  simultaneous connections, etc.

*postgresql-7.2.1 (16 Jun 2002)

  16 Jun 2002; Ryan Phillips <rphillips@gentoo.org> postgresql-7.2.1.ebuild :

  Doesn't check for java version if java is *not* in the USE vars.

*postgresql-7.2.1 (14 Jun 2002)

  14 Jun 2002; Ryan Phillips <rphillips@gentoo.org> postgresql-7.2.1.ebuild :

  Updated package versionn

*postgresql-7.2-r2 (10 Apr 2002)

  10 Apr 2002; Karl Trygve Kalleberg <karltk@gentoo.org> postgresql-7.2-r2.ebuild files/digest-postgresql-7.2-r2:

  Added proper code in pkg_setup() so that it will refuse to compile if the
  user has JDK 1.4.0 as his system VM.

  Removed postgresql-7.2-r1.ebuild files/digest-postgresql-7.2-r1

*postgresql-7.2-r1 (18 Feb 2002)

  18 Feb 2002; Karl Trygve Kalleberg <karltk@gentoo.org> postgresql-7.2-r1.ebuild files/digest-postgresql-7.2-r1:

  Now requires a jdk-1.3 instead of >=1.3, as 1.4 blows up when compiling.

*postgresql-7.2 (15 Feb 2002)

  15 Feb 2002; G.Bevin <gbevin@gentoo.org> postgresql-7.2.ebuild ,
  files/postgresql-7.2-dyn-libperl-gentoo.diff files/digest-postgresql-7.2:
  Upgraded to version 7.2. Python now also works with python 2.2 and there
  are less patches needed to make the perl install go smoothly ... nice :-)

*postgresql-7.1.3-r4 (5 Feb 2002)

  5 Feb 2002; G.Bevin <gbevin@gentoo.org> postgresql-7.1.3-r4.ebuild :
  Changed data dirs to use a fixed path instead of determining it from the
  package name. Also added a binary compatibility slot. Changed data dir to
  /var/lib/postgresql/data to follow what has been done by the mysql ebuild.

  5 Feb 2002; G.Bevin <gbevin@gentoo.org> files/7.1.3/postgresql :
  Fixed wrong data dir in init script.

*postgresql-7.1-r1 (1 Feb 2002)
 
 13 Aug 2002; Pieter Van den Abeele <pvdabeel@gentoo.org> postgresql-7.1-r1.ebuild :
 removed broken jaxp dependency

*postgresql-7.1.3-r3 (1 Feb 2002)

  1 Feb 2002; G.Bevin <gbevin@gentoo.org> ChangeLog :
  
  Added initial ChangeLog which should be updated whenever the package is
  updated in any way. This changelog is targetted to users. This means that the
  comments should well explained and written in clean English. The details about
  writing correct changelogs are explained in the skel.ChangeLog file which you
  can find in the root directory of the portage repository.
