Index: alsa-driver-1.0.11rc1/ppc/tumbler.patch
===================================================================
--- alsa-driver-1.0.11rc1.orig/ppc/tumbler.patch
+++ alsa-driver-1.0.11rc1/ppc/tumbler.patch
@@ -15,21 +15,21 @@
  static struct work_struct device_change;
 +#endif
  
- static void
- device_change_handler(void *self)
-@@ -895,7 +900,11 @@
- 
- 		/* finally we need to schedule an update of the mixer values
- 		   (master and DRC are enough for now) -ReneR */
+ static void device_change_handler(void *self)
+ {
+@@ -1009,7 +1014,11 @@
+ 		mix = chip->mixer_data;
+ 		snd_assert(mix, return);
+ 		mix->auto_mute_notify = do_notify;
 +#if LINUX_VERSION_CODE < KERNEL_VERSION(2,5,0)
 +		schedule_task(&device_change);
 +#else
  		schedule_work(&device_change);
 +#endif
- 
  	}
  }
-@@ -1156,7 +1165,11 @@
+ #endif /* PMAC_SUPPORT_AUTOMUTE */
+@@ -1416,7 +1425,11 @@
  	chip->resume = tumbler_resume;
  #endif
  
@@ -40,4 +40,4 @@
 +#endif
  
  #ifdef PMAC_SUPPORT_AUTOMUTE
- 	if (mix->headphone_irq >=0 && (err = snd_pmac_add_automute(chip)) < 0)
+ 	if ((mix->headphone_irq >=0 || mix->lineout_irq >= 0)
