Index: alsa-driver-1.0.11/ppc/pmac.c
===================================================================
--- alsa-driver-1.0.11.orig/ppc/pmac.c
+++ alsa-driver-1.0.11/ppc/pmac.c
@@ -5,5 +5,13 @@
 #if LINUX_VERSION_CODE < KERNEL_VERSION(2,6,16)
 #include "pmac_old.c"
 #else
+#if LINUX_VERSION_CODE == KERNEL_VERSION(2,6,16)
+/* hack for machine_is(powermac) */
+static int _machine_is(void);
+#define machine_is(x)	_machine_is()
+#endif
 #include "../alsa-kernel/ppc/pmac.c"
+#if LINUX_VERSION_CODE == KERNEL_VERSION(2,6,16)
+static int _machine_is(void) { return _machine == _MACH_Pmac; }
+#endif
 #endif
