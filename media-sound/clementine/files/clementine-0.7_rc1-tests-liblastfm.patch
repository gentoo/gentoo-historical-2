diff --git a/tests/mpris1_test.cpp b/tests/mpris1_test.cpp
index 511af1d..a940d13 100644
--- a/tests/mpris1_test.cpp
+++ b/tests/mpris1_test.cpp
@@ -20,8 +20,10 @@
 #include "core/song.h"
 #include "playlist/playlistmanager.h"
 #include "playlist/playlistsequence.h"
+#ifdef HAVE_LIBLASTFM
 #include "radio/fixlastfm.h"
 #include <lastfm/Track>
+#endif
 
 #include "gmock/gmock.h"
 #include "gtest/gtest.h"
diff --git a/tests/song_test.cpp b/tests/song_test.cpp
index aee32ff..d722d47 100644
--- a/tests/song_test.cpp
+++ b/tests/song_test.cpp
@@ -18,8 +18,10 @@
 #include "config.h"
 #include "core/encoding.h"
 #include "core/song.h"
+#ifdef HAVE_LIBLASTFM
 #include "radio/fixlastfm.h"
 #include <lastfm/Track>
+#endif
 
 #include "gmock/gmock.h"
 #include "gtest/gtest.h"