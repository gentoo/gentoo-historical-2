Index: amarok/src/mediadevice/mtp/mtpmediadevice.cpp
===================================================================
--- amarok/src/mediadevice/mtp/mtpmediadevice.cpp	(revision 576120)
+++ amarok/src/mediadevice/mtp/mtpmediadevice.cpp	(revision 576121)
@@ -631,7 +631,11 @@
 	}
 
     QString modelname = QString( LIBMTP_Get_Modelname( m_device ) );
+#if LIBMTP_FRIENDLY_NAME 
+    QString ownername = QString( LIBMTP_Get_Friendlyname( m_device ) );
+#else
     QString ownername = QString( LIBMTP_Get_Ownername( m_device ) );
+#endif
     m_name = modelname;
     if(! ownername.isEmpty() )
     {
Index: amarok/src/mediadevice/mtp/Makefile.am
===================================================================
--- amarok/src/mediadevice/mtp/Makefile.am	(revision 576120)
+++ amarok/src/mediadevice/mtp/Makefile.am	(revision 576121)
@@ -9,6 +9,7 @@
     -I$(top_srcdir)/amarok/src/engine \
     -I$(top_builddir)/amarok/src/engine \
     -I$(top_srcdir)/amarok/src/mediadevice \
+    -DLIBMTP_FRIENDLY_NAME=$(LIBMTP_FRIENDLY_NAME) \
     $(taglib_includes) \
     $(all_includes)
 
Index: amarok/configure.in.in
===================================================================
--- amarok/configure.in.in	(revision 576120)
+++ amarok/configure.in.in	(revision 576121)
@@ -808,16 +808,22 @@
     [build_libmtp=$withval],
     [build_libmtp=yes]
 )
-
     if test "$build_libmtp" != "no"; then
         if test "$PKGCONFIGFOUND" = "yes" ; then
+            have_libmtp=no
+            LIBMTP_FRIENDLY_NAME=0
+            PKG_CHECK_MODULES(LIBMTP, libmtp >= 0.0.12,
+            [
+                LIBMTP_FRIENDLY_NAME=1
+                have_libmtp=yes
+            ],
+            [
+                PKG_CHECK_MODULES(LIBMTP, libmtp < 0.0.12, have_libmtp=yes, have_libmtp=no)
+            ])
 
-        # check for libmtp
-        have_libmtp=no
-
-        PKG_CHECK_MODULES(LIBMTP, libmtp, have_libmtp=yes,have_libmtp=no)
         if test "x$have_libmtp" != "xno"; then
             AC_DEFINE(HAVE_LIBMTP, 1, [have libmtp])
+            AC_SUBST(LIBMTP_FRIENDLY_NAME)
         fi
     fi
 fi
