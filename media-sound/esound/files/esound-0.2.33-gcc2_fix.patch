diff -Naur esound-0.2.33.orig/audio_alsa09.c esound-0.2.33/audio_alsa09.c
--- esound-0.2.33.orig/audio_alsa09.c	2004-03-01 13:32:49.000000000 -0500
+++ esound-0.2.33/audio_alsa09.c	2004-03-09 14:43:27.000000000 -0500
@@ -94,6 +94,10 @@
 	snd_pcm_hw_params_t *hwparams;
 	int err;
 	int periods;
+#ifdef DRIVER_ALSA_09_NEW_PCM_API
+	int t_dir, t_speed;
+	snd_pcm_uframes_t t_bufsize;
+#endif
   
 	err = snd_pcm_open(&handle, dev, mode, SND_PCM_NONBLOCK);
 	if (err < 0) {
@@ -139,8 +143,8 @@
 #ifndef DRIVER_ALSA_09_NEW_PCM_API
 	err = snd_pcm_hw_params_set_rate_near(handle, hwparams, speed, 0);
 #else
-    int t_dir=0;
-    int t_speed=speed;
+    t_dir=0;
+    t_speed=speed;
     err = snd_pcm_hw_params_set_rate_near(handle, hwparams, &t_speed, &t_dir);
 #endif
 	if (err < 0) {
@@ -188,7 +192,7 @@
 #ifndef DRIVER_ALSA_09_NEW_PCM_API
 	err = snd_pcm_hw_params_set_buffer_size_near(handle, hwparams, BUFFERSIZE); 
 #else
-	snd_pcm_uframes_t t_bufsize=BUFFERSIZE;
+	t_bufsize=BUFFERSIZE;
 	err = snd_pcm_hw_params_set_buffer_size_near(handle, hwparams, &t_bufsize);
 #endif
 	if (err < 0) { 
