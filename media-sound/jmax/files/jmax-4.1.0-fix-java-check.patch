--- m4/ac_check_java_version.m4.orig	2004-07-22 16:58:54.685070072 +0200
+++ m4/ac_check_java_version.m4	2004-07-22 16:59:02.856827776 +0200
@@ -9,7 +9,7 @@
 AC_CACHE_CHECK([if $JAVA version is good], ac_cv_check_java_version, [
 
 if AC_TRY_COMMAND($JAVA -version) > /dev/null 2>&1; then
-  java_version=`$JAVA -version 2>&1 | grep "version" | sed 's/java version//' | sed 's/\"//g' `
+  java_version=`$JAVA -version 2>&1 | grep "version" | sed 's/java version//' | sed 's/\"//g' | sed 's/-.*//' `
   java_major_version=`echo $java_version | sed 's/\([[0-9]][[0-9]]*\)\..*/\1/'`
   java_minor_version=`echo $java_version | sed 's/[[0-9]][[0-9]]*\.\([[0-9]][[0-9]]*\)\(\.[[0-9]][[0-9]]*\)*/\1/' | sed 's/_.*//g'`
 
--- bin/jmax.in.orig	2004-09-15 11:59:41.575144987 -0700
+++ bin/jmax.in	2004-09-15 12:02:31.142218132 -0700
@@ -208,7 +208,7 @@
 check_java_version ()
 {
     java_to_test="$1"
-    java_version=`$java_to_test -version 2>&1 | grep "version" | sed 's/java version//' | sed 's/\"//g' `
+    java_version=`$java_to_test -version 2>&1 | grep "version" | sed 's/java version//' | sed 's/\"//g' | sed 's/-.*//' `
     if test -z $java_version; then
 	# domething bad with java version
 	return 1
