diff -ru synaesthesia-2.2.orig/polygon.h synaesthesia-2.2/polygon.h
--- synaesthesia-2.2.orig/polygon.h	2005-04-26 19:37:57.000000000 -0400
+++ synaesthesia-2.2/polygon.h	2005-04-26 19:52:42.000000000 -0400
@@ -28,8 +28,8 @@
 #define super (1<<superSampleShift)
   void apply(Pixel *dest) {
     Pixel sum=0;
-    int count = width*height;
-    Pixel *src = data;
+    int count = this->width*this->height;
+    Pixel *src = this->data;
     while(count--) {
       sum += *(src++);
       if (sum)
@@ -40,10 +40,10 @@
 
   void add(Pixel color,int x,int y) {
     if (y < 0) return;
-    if (y >= height) return;
+    if (y >= this->height) return;
     if (x < 0) x = 0;
-    if (x > width) x = width;
-    data[x+y*width] += color;
+    if (x > this->width) x = this->width;
+    this->data[x+y*this->width] += color;
   }
 
   /* Color is char[layers] */
Only in synaesthesia-2.2: .polygon.h.swp
