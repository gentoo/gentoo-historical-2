diff -ur pd-0.40-3.orig/doc/6.externs/makefile pd-0.40-3/doc/6.externs/makefile
--- pd-0.40-3.orig/doc/6.externs/makefile	2003-12-11 01:10:39.000000000 +0200
+++ pd-0.40-3/doc/6.externs/makefile	2007-07-30 22:56:40.000000000 +0300
@@ -53,8 +53,7 @@
 
 .SUFFIXES: .pd_linux
 
-LINUXCFLAGS = -DPD -O2 -funroll-loops -fomit-frame-pointer \
-    -Wall -W -Wshadow -Wstrict-prototypes -Werror \
+LINUXCFLAGS = -DPD -Wall -W -Wshadow -Wstrict-prototypes \
     -Wno-unused -Wno-parentheses -Wno-switch
 
 LINUXINCLUDE =  -I../../src
@@ -62,7 +61,6 @@
 .c.pd_linux:
 	cc $(LINUXCFLAGS) $(LINUXINCLUDE) -o $*.o -c $*.c
 	ld -export_dynamic  -shared -o $*.pd_linux $*.o -lc -lm
-	strip --strip-unneeded $*.pd_linux
 	rm $*.o
 
 # ----------------------- Mac OSX -----------------------
diff -ur pd-0.40-3.orig/extra/expr~/makefile pd-0.40-3/extra/expr~/makefile
--- pd-0.40-3.orig/extra/expr~/makefile	2006-09-25 07:19:11.000000000 +0300
+++ pd-0.40-3/extra/expr~/makefile	2007-07-30 22:57:09.000000000 +0300
@@ -77,7 +77,7 @@
 LINUXOBJ =  vexp.pd_linux_o vexp_fun.pd_linux_o vexp_if.pd_linux_o
 .SUFFIXES: .pd_linux_o
 
-LINUXCFLAGS = -DPD -O2 -funroll-loops -fomit-frame-pointer -fPIC -m32 \
+LINUXCFLAGS = -DPD -fPIC -m32 \
     -Wall -W -Wshadow -Wstrict-prototypes \
     -Wno-unused -Wno-parentheses -Wno-switch 
 
@@ -88,7 +88,6 @@
 
 expr.pd_linux: $(LINUXOBJ)
 	$(CC) -m32 -export_dynamic  -shared -o expr.pd_linux $(LINUXOBJ) -lc -lm
-	strip --strip-unneeded expr.pd_linux
 
 expr~.pd_linux: expr.pd_linux
 	-ln -s expr.pd_linux expr~.pd_linux
diff -ur pd-0.40-3.orig/extra/makefile pd-0.40-3/extra/makefile
--- pd-0.40-3.orig/extra/makefile	2006-09-25 07:17:22.000000000 +0300
+++ pd-0.40-3/extra/makefile	2007-07-30 22:32:45.000000000 +0300
@@ -57,7 +57,7 @@
 
 .SUFFIXES: .pd_linux
 
-LINUXCFLAGS = -DPD -O2 -funroll-loops -fomit-frame-pointer -fPIC -m32 \
+LINUXCFLAGS = -DPD -fPIC -m32 \
     -Wall -W -Wshadow -Wstrict-prototypes \
     -Wno-unused -Wno-parentheses -Wno-switch $(CFLAGS)
 
@@ -66,7 +66,6 @@
 .c.pd_linux:
 	$(CC) $(LINUXCFLAGS) $(LINUXINCLUDE) -o $*.o -c $*.c
 	$(CC) -m32 -export_dynamic -shared -o $*.pd_linux $*.o -lc -lm
-	strip --strip-unneeded $*.pd_linux
 	rm -f $*.o
 
 # ----------------------- Mac OSX -----------------------
diff -ur pd-0.40-3.orig/src/configure pd-0.40-3/src/configure
--- pd-0.40-3.orig/src/configure	2007-07-24 23:17:39.000000000 +0300
+++ pd-0.40-3/src/configure	2007-07-30 22:59:21.000000000 +0300
@@ -309,7 +309,7 @@
 # include <unistd.h>
 #endif"
 
-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS alsa jack portaudio portmidi binarymode fftw PDLIB CPPFLAGS MORECFLAGS EXT USE_DEBUG_CFLAGS SYSSRC TCLTK_FRAMEWORKS_PATH STRIPFLAG GUINAME GUIFLAGS OSNUMBER EXTERNTARGET CC CFLAGS LDFLAGS ac_ct_CC EXEEXT OBJEXT INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA SET_MAKE CPP EGREP ALLOCA LIBOBJS LTLIBOBJS'
+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS alsa jack portaudio portmidi binarymode fftw PDLIB CPPFLAGS MORECFLAGS EXT USE_DEBUG_CFLAGS SYSSRC TCLTK_FRAMEWORKS_PATH GUINAME GUIFLAGS OSNUMBER EXTERNTARGET CC CFLAGS LDFLAGS ac_ct_CC EXEEXT OBJEXT INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA SET_MAKE CPP EGREP ALLOCA LIBOBJS LTLIBOBJS'
 ac_subst_files=''
 
 # Initialize some variables set by options.
@@ -2023,13 +2023,13 @@
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS=
   else
-    CFLAGS="-g"
+    CFLAGS=
   fi
 else
   if test "$GCC" = yes; then
-    CFLAGS="-O2"
+    CFLAGS=
   else
     CFLAGS=
   fi
@@ -7022,13 +7022,10 @@
     then
     	binarymode="-m4755"
     fi
-    STRIPFLAG=-s
     GUINAME="pd-gui"
     if test x$USE_DEBUG_CFLAGS == "xyes";
     then
 	MORECFLAGS=$MORECFLAGS" -g"
-    else
-	MORECFLAGS=$MORECFLAGS" -O6 -funroll-loops -fomit-frame-pointer"
     fi
     if test x$jack == "xyes";
     then
@@ -7085,7 +7082,6 @@
         ../portmidi/pm_common/pmutil.c \
         ../portmidi/pm_common/portmidi.c \
         ../portmidi/porttime/ptmacosx_cf.c "
-    STRIPFLAG=""
     GUINAME="libPdTcl.dylib"
 
 # find the Tcl/Tk Frameworks
@@ -7109,7 +7105,7 @@
     then
 	MORECFLAGS=$MORECFLAGS" -g"
     else
-	MORECFLAGS=$MORECFLAGS" -O2"
+	MORECFLAGS=$MORECFLAGS" "
     fi
     OSNUMBER=2
     if test x$jack == "xyes";
@@ -8228,7 +8224,6 @@
 s,@USE_DEBUG_CFLAGS@,$USE_DEBUG_CFLAGS,;t t
 s,@SYSSRC@,$SYSSRC,;t t
 s,@TCLTK_FRAMEWORKS_PATH@,$TCLTK_FRAMEWORKS_PATH,;t t
-s,@STRIPFLAG@,$STRIPFLAG,;t t
 s,@GUINAME@,$GUINAME,;t t
 s,@GUIFLAGS@,$GUIFLAGS,;t t
 s,@OSNUMBER@,$OSNUMBER,;t t
diff -ur pd-0.40-3.orig/src/configure.in pd-0.40-3/src/configure.in
--- pd-0.40-3.orig/src/configure.in	2006-10-28 22:13:24.000000000 +0300
+++ pd-0.40-3/src/configure.in	2007-07-30 22:55:45.000000000 +0300
@@ -15,7 +15,6 @@
 AC_SUBST(SYSSRC)
 AC_SUBST(TCLTK_FRAMEWORKS_PATH)
 AC_SUBST(TCLTK_FRAMEWORKS_PATH)
-AC_SUBST(STRIPFLAG)
 AC_SUBST(GUINAME)
 AC_SUBST(GUIFLAGS)
 AC_SUBST(OSNUMBER)
@@ -216,13 +215,12 @@
     then
     	binarymode="-m4755"
     fi
-    STRIPFLAG=-s
     GUINAME="pd-gui"
     if test x$USE_DEBUG_CFLAGS == "xyes";
     then
 	MORECFLAGS=$MORECFLAGS" -g"
     else
-	MORECFLAGS=$MORECFLAGS" -O6 -funroll-loops -fomit-frame-pointer"
+	MORECFLAGS=$MORECFLAGS" "
     fi
     if test x$jack == "xyes";
     then
@@ -279,7 +277,6 @@
         ../portmidi/pm_common/pmutil.c \
         ../portmidi/pm_common/portmidi.c \
         ../portmidi/porttime/ptmacosx_cf.c "
-    STRIPFLAG=""
     GUINAME="libPdTcl.dylib"
 
 # find the Tcl/Tk Frameworks
diff -ur pd-0.40-3.orig/src/install-sh pd-0.40-3/src/install-sh
--- pd-0.40-3.orig/src/install-sh	2001-05-30 20:37:35.000000000 +0300
+++ pd-0.40-3/src/install-sh	2007-07-30 22:33:42.000000000 +0300
@@ -37,7 +37,7 @@
 chmodprog="${CHMODPROG-chmod}"
 chownprog="${CHOWNPROG-chown}"
 chgrpprog="${CHGRPPROG-chgrp}"
-stripprog="${STRIPPROG-strip}"
+stripprog="${STRIPPROG-true}"
 rmprog="${RMPROG-rm}"
 mkdirprog="${MKDIRPROG-mkdir}"
 
diff -ur pd-0.40-3.orig/src/makefile.in pd-0.40-3/src/makefile.in
--- pd-0.40-3.orig/src/makefile.in	2006-08-26 03:35:58.000000000 +0300
+++ pd-0.40-3/src/makefile.in	2007-07-30 23:02:32.000000000 +0300
@@ -16,8 +16,8 @@
 
 # varibles to match packages/Makefile.buildlayout so that they can be easily
 # overridden when building Pd-extended builds. <hans@at.or.at>
-libpddir = $(libdir)/pd
-pddocdir = $(libpddir)/doc
+libpddir = $(DESTDIR)$(libdir)/pd
+pddocdir = $(DESTDIR)$(prefix)/share/pd
 libpdbindir = $(libpddir)/bin
 
 CPPFLAGS = @CPPFLAGS@
@@ -101,13 +101,13 @@
 	test -d $(BIN_DIR) || mkdir -p $(BIN_DIR)
 
 $(BIN_DIR)/pd-watchdog: s_watchdog.c $(BIN_DIR)
-	$(CC) $(CFLAGS) $(STRIPFLAG) -o $(BIN_DIR)/pd-watchdog s_watchdog.c
+	$(CC) $(CFLAGS) -o $(BIN_DIR)/pd-watchdog s_watchdog.c
 
 $(BIN_DIR)/pdsend: u_pdsend.c $(BIN_DIR)
-	$(CC) $(CFLAGS)  $(STRIPFLAG) -o $(BIN_DIR)/pdsend u_pdsend.c
+	$(CC) $(CFLAGS) -o $(BIN_DIR)/pdsend u_pdsend.c
 
 $(BIN_DIR)/pdreceive: u_pdreceive.c $(BIN_DIR)
-	$(CC) $(CFLAGS)  $(STRIPFLAG) -o $(BIN_DIR)/pdreceive u_pdreceive.c
+	$(CC) $(CFLAGS) -o $(BIN_DIR)/pdreceive u_pdreceive.c
 
 $(PDEXEC): $(OBJ) $(BIN_DIR)
 	cd ../obj;  $(CC) $(LDFLAGS) $(DBG_CFLAGS) -o $(PDEXEC) $(OBJ) \
