--- spectrumanalyzer.logic.cpp	2003-06-12 23:12:20.000000000 +0200
+++ /root/spectrumanalyzer.logic.cpp	2003-07-14 19:29:52.000000000 +0200
@@ -47,6 +47,7 @@
 #include <time.h>
 #include <sys/times.h>
 #include <math.h>
+#include <cmath>
 #include <assert.h>
 #include <math.h>
 #include <pthread.h>
@@ -192,7 +193,7 @@
   double max = 0;
   for(pos=0;pos<blocksize/2;pos++)
     // fftfreq[pos]=fabsl(fftfreq[pos]*(double)pos/((double)blocksize*10.0));
-    fftfreq[pos]=fabsl(fftfreq[pos]);
+    fftfreq[pos]=fabs(fftfreq[pos]);
   for(pos=0;pos<blocksize/2;pos++)
     if (fftfreq[pos]>max) 
       max=fftfreq[pos];
@@ -211,7 +212,7 @@
 	  {
 	    double length = barkbounds[bark+1]-barkbounds[bark];
 	    double barkcentre = barkbounds[bark]+length/2.0;
-	    double dist = fabsl(freq-barkcentre)*2.0/length;
+	    double dist = fabs(freq-barkcentre)*2.0/length;
 	    double scale = 1.0 - dist;
 	    assert(scale>=0.0);
 	    barkscale[bark]+=fftfreq[pos]*scale;
