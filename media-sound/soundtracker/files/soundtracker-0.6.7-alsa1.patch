diff -Naur soundtracker-0.6.7.orig/app/midi-utils.h soundtracker-0.6.7/app/midi-utils.h
--- soundtracker-0.6.7.orig/app/midi-utils.h	2003-05-17 03:09:49.000000000 -0700
+++ soundtracker-0.6.7/app/midi-utils.h	2004-02-20 16:43:39.000000000 -0800
@@ -27,7 +27,13 @@
 #if defined(DRIVER_ALSA_050)
 #include <sys/asoundlib.h>
 #else
+
+#include <alsa/version.h>
+#if SND_LIB_MAJOR==1 
+# define ALSA_PCM_OLD_HW_PARAMS_API
+#endif
 #include <alsa/asoundlib.h>
+
 #endif
 
 void midi_print_event(snd_seq_event_t *ev);
diff -Naur soundtracker-0.6.7.orig/app/midi.h soundtracker-0.6.7/app/midi.h
--- soundtracker-0.6.7.orig/app/midi.h	2003-05-17 03:09:30.000000000 -0700
+++ soundtracker-0.6.7/app/midi.h	2004-02-20 16:44:51.000000000 -0800
@@ -27,6 +27,10 @@
 #if defined(DRIVER_ALSA_050)
 #include <sys/asoundlib.h>
 #else
+#include <alsa/version.h>
+#if SND_LIB_MAJOR==1 
+# define ALSA_PCM_OLD_HW_PARAMS_API
+#endif
 #include <alsa/asoundlib.h>
 #endif
 
