--- vkeybd/Makefile.old	2006-11-25 12:09:56.000000000 +0100
+++ vkeybd/Makefile	2006-11-25 12:10:41.000000000 +0100
@@ -84,7 +84,7 @@
 
 VKB_TCLFILE = $(VKBLIB_DIR)/vkeybd.tcl
 
-CFLAGS = -Wall -O -DVKB_TCLFILE=\"$(VKB_TCLFILE)\" \
+CFLAGS = -Wall -O $(EXTRACFLAGS) -DVKB_TCLFILE=\"$(VKB_TCLFILE)\" \
 	-DVKBLIB_DIR=\"$(VKBLIB_DIR)\"\
 	-DVERSION_STR=\"$(VERSION)\"\
 	$(DEVICES) $(XINC) $(TCLINC) $(TKINC) $(LADCCACFLAGS)
@@ -94,10 +94,10 @@
 all: $(TARGETS)
 
 vkeybd: vkb.o vkb_device.o $(DEVOBJS) $(EXTRAOBJS)
-	$(CC) -o $@ $^ $(TKLIB) $(TCLLIB) $(XLIB) $(EXTRALIB) -lm
+	$(CC) $(LDFLAGS) -o $@ $^ $(TKLIB) $(TCLLIB) $(XLIB) $(EXTRALIB) -lm
 
 sftovkb: sftovkb.o sffile.o malloc.o fskip.o
-	$(CC) -o $@ $^ -lm
+	$(CC) $(LDFLAGS) -o $@ $^ -lm
 
 install: $(TARGETS) vkeybd.tcl vkeybd.list vkeybdmap*
 	mkdir -p $(DESTDIR)$(BIN_DIR)
