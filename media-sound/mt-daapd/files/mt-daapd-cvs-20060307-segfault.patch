Index: mt-daapd-cvs-20060307/src/db-sql.c
===================================================================
--- mt-daapd-cvs-20060307.orig/src/db-sql.c
+++ mt-daapd-cvs-20060307/src/db-sql.c
@@ -150,7 +150,10 @@ int db_sql_fetch_row(char **pe, SQL_ROW 
 
     err=db_sql_enum_fetch_fn(pe, row);
     if(err != DB_E_SUCCESS) {
-        DPRINTF(E_SPAM,L_DB,"Error: enum_fetch failed: %s\n",*pe);
+        if ( ! pe )
+            DPRINTF(E_SPAM,L_DB,"Error: enum_fetch failed, and pe missing\n");
+        else
+            DPRINTF(E_SPAM,L_DB,"Error: enum_fetch failed: %s\n",*pe);
         db_sql_enum_end_fn(NULL);
         return err;
     }
Index: mt-daapd-cvs-20060307/src/main.c
===================================================================
--- mt-daapd-cvs-20060307.orig/src/main.c
+++ mt-daapd-cvs-20060307/src/main.c
@@ -394,7 +394,7 @@ int main(int argc, char *argv[]) {
     end_time=(int) time(NULL);
 
     err=db_get_song_count(&perr,&song_count);
-    if(err != DB_E_SUCCESS) {
+    if(err != DB_E_SUCCESS && perr && *perr) {
         DPRINTF(E_FATAL,L_MISC,"Error getting song count: %s\n",perr);
     }
 
