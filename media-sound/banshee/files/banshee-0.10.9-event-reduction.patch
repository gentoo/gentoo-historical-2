Reduce the number of events emitted by the playlistmodel

 PlaylistModel.cs |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)


Index: src/PlaylistModel.cs
===================================================================
RCS file: /cvs/gnome/banshee/src/PlaylistModel.cs,v
retrieving revision 1.37
diff -u -p -r1.37 PlaylistModel.cs
--- src/PlaylistModel.cs	10 Mar 2006 01:28:51 -0000	1.37
+++ src/PlaylistModel.cs	25 Mar 2006 21:28:40 -0000
@@ -89,7 +89,8 @@ namespace Banshee
             trackInfoQueueLocked = true;
                 
             foreach(TrackInfo ti in trackInfoQueue)
-                AddTrack(ti);
+                AddTrack(ti, false);
+            RaiseUpdated(this, new EventArgs());
 
             trackInfoQueue.Clear();
             trackInfoQueueLocked = false;
@@ -133,8 +134,9 @@ namespace Banshee
             ClearModel();
             
             foreach(TrackInfo track in SourceManager.ActiveSource.Tracks) {
-                AddTrack(track);
+                AddTrack(track, false);
             }
+            RaiseUpdated(this, new EventArgs());
         }
 
         // --- Helper Methods ---
