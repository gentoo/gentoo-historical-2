diff -ur riceplugin.orig/DaedalusGraphics.cpp riceplugin/DaedalusGraphics.cpp
--- riceplugin.orig/DaedalusGraphics.cpp	2003-09-19 01:22:36.335328472 -0400
+++ riceplugin/DaedalusGraphics.cpp	2003-09-19 01:22:36.470307952 -0400
@@ -18,6 +18,7 @@
 */
 #include "stdafx.h"
 #include "_BldNum.h"
+#include <assert.h>
 
 #ifndef _WIN32
 #include <unistd.h>
diff -ur riceplugin.orig/DecodedMux.cpp riceplugin/DecodedMux.cpp
--- riceplugin.orig/DecodedMux.cpp	2003-09-19 01:22:36.366323760 -0400
+++ riceplugin/DecodedMux.cpp	2003-09-19 01:22:48.379497480 -0400
@@ -760,7 +760,7 @@
 ShadeConstMergeMapType MergeShadeWithConstantsMaps[] =
 {
 	0,	SHADE_DO_NOTHING,
-	0x0007000600070006,	SHADE_MOD_ENV,		// SHADE * ENV
+	SHADE_DO_NOTHING,	SHADE_MOD_ENV,		// SHADE * ENV
 };
 
 // 0x05070501, 0x00070006		//(1 - PRIM) * ENV + PRIM
diff -ur riceplugin.orig/OGLCombinerTNT2.cpp riceplugin/OGLCombinerTNT2.cpp
--- riceplugin.orig/OGLCombinerTNT2.cpp	2003-09-19 01:22:36.340327712 -0400
+++ riceplugin/OGLCombinerTNT2.cpp	2003-09-19 01:25:36.859884568 -0400
@@ -120,22 +120,22 @@
 
 GLenum COGLColorCombinerTNT2::RGBArgsMap[] =
 {
-	{GL_ZERO,					},	//MUX_0
-	{GL_ZERO,					},	//MUX_1
-	{GL_PREVIOUS_EXT,			},	//MUX_COMBINED,
-	{GL_TEXTURE0_ARB,			},	//MUX_TEXEL0,
-	{GL_TEXTURE1_ARB,			},	//MUX_TEXEL1,
-	{GL_CONSTANT_EXT,			},	//MUX_PRIM,
-	{GL_PRIMARY_COLOR_EXT,		},	//MUX_SHADE,
-	{GL_CONSTANT_EXT,			},	//MUX_ENV,
-	{GL_PREVIOUS_EXT,			},	//MUX_COMBALPHA,
-	{GL_TEXTURE0_ARB,			},	//MUX_T0_ALPHA,
-	{GL_TEXTURE1_ARB,			},	//MUX_T1_ALPHA,
-	{GL_CONSTANT_EXT,			},	//MUX_PRIM_ALPHA,
-	{GL_PRIMARY_COLOR_EXT,		},	//MUX_SHADE_ALPHA,
-	{GL_CONSTANT_EXT,			},	//MUX_ENV_ALPHA,
-	{GL_CONSTANT_EXT,			},	//MUX_LODFRAC,
-	{GL_CONSTANT_EXT,			},	//MUX_PRIMLODFRAC,
+	GL_ZERO,
+	GL_ZERO,
+	GL_PREVIOUS_EXT,
+	GL_TEXTURE0_ARB,
+	GL_TEXTURE1_ARB,
+	GL_CONSTANT_EXT,
+	GL_PRIMARY_COLOR_EXT,
+	GL_CONSTANT_EXT,
+	GL_PREVIOUS_EXT,
+	GL_TEXTURE0_ARB,
+	GL_TEXTURE1_ARB,
+	GL_CONSTANT_EXT,
+	GL_PRIMARY_COLOR_EXT,
+	GL_CONSTANT_EXT,
+	GL_CONSTANT_EXT,
+	GL_CONSTANT_EXT,
 };
 
 
diff -ur riceplugin.orig/OGLExtCombiner.cpp riceplugin/OGLExtCombiner.cpp
--- riceplugin.orig/OGLExtCombiner.cpp	2003-09-19 01:22:36.371323000 -0400
+++ riceplugin/OGLExtCombiner.cpp	2003-09-19 01:24:56.994944960 -0400
@@ -474,22 +474,22 @@
 
 GLenum COGLExtColorCombiner::RGBArgsMap[] =
 {
-	{GL_PRIMARY_COLOR_ARB,		},	//MUX_0
-	{GL_PRIMARY_COLOR_ARB,		},	//MUX_1
-	{GL_PREVIOUS_ARB,			},	//MUX_COMBINED,
-	{GL_TEXTURE0_ARB,			},	//MUX_TEXEL0,
-	{GL_TEXTURE1_ARB,			},	//MUX_TEXEL1,
-	{GL_CONSTANT_ARB,			},	//MUX_PRIM,
-	{GL_PRIMARY_COLOR_ARB,		},	//MUX_SHADE,
-	{GL_CONSTANT_ARB,			},	//MUX_ENV,
-	{GL_PREVIOUS_ARB,			},	//MUX_COMBALPHA,
-	{GL_TEXTURE0_ARB,			},	//MUX_T0_ALPHA,
-	{GL_TEXTURE1_ARB,			},	//MUX_T1_ALPHA,
-	{GL_CONSTANT_ARB,			},	//MUX_PRIM_ALPHA,
-	{GL_PRIMARY_COLOR_ARB,		},	//MUX_SHADE_ALPHA,
-	{GL_CONSTANT_ARB,			},	//MUX_ENV_ALPHA,
-	{GL_CONSTANT_ARB,			},	//MUX_LODFRAC,
-	{GL_CONSTANT_ARB,			},	//MUX_PRIMLODFRAC,
+	GL_PRIMARY_COLOR_ARB,
+	GL_PRIMARY_COLOR_ARB,
+	GL_PREVIOUS_ARB,
+	GL_TEXTURE0_ARB,
+	GL_TEXTURE1_ARB,
+	GL_CONSTANT_ARB,
+	GL_PRIMARY_COLOR_ARB,
+	GL_CONSTANT_ARB,
+	GL_PREVIOUS_ARB,
+	GL_TEXTURE0_ARB,
+	GL_TEXTURE1_ARB,
+	GL_CONSTANT_ARB,
+	GL_PRIMARY_COLOR_ARB,
+	GL_CONSTANT_ARB,
+	GL_CONSTANT_ARB,
+	GL_CONSTANT_ARB,
 };
 
 
diff -ur riceplugin.orig/unique.h riceplugin/unique.h
--- riceplugin.orig/unique.h	2003-09-19 01:22:36.336328320 -0400
+++ riceplugin/unique.h	2003-09-19 01:22:36.473307496 -0400
@@ -39,6 +39,7 @@
 //
 //
 
+#include <assert.h>
 #ifdef _MSC_VER
 #include <crtdbg.h>
 #endif
