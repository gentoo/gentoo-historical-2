--- uae-0.8.25/src/gtkui.c.orig	2007-02-16 18:40:02.000000000 +0300
+++ uae-0.8.25/src/gtkui.c	2007-02-16 18:40:06.000000000 +0300
@@ -762,8 +762,8 @@
 	return;
 
     write_comm_pipe_int (&from_gui_pipe, 0, 0);
-    write_comm_pipe_int (&from_gui_pipe, (int)data, 1);
-    gtk_label_set_text (GTK_LABEL (disk_text_widget[(int)data]), "");
+    write_comm_pipe_int (&from_gui_pipe, GPOINTER_TO_INT(data), 1);
+    gtk_label_set_text (GTK_LABEL (disk_text_widget[GPOINTER_TO_INT(data)]), "");
 }
 
 static void pause_uae (void)
@@ -851,7 +851,7 @@
 
 static void did_insert (GtkWidget *w, gpointer data)
 {
-    int n = (int)data;
+    int n = GPOINTER_TO_INT(data);
     if (filesel_active != -1)
 	return;
     filesel_active = n;
@@ -1131,7 +1131,7 @@
     gdk_color_alloc (colormap, led_off + nr);
     led_widgets[nr] = thing;
     gtk_signal_connect (GTK_OBJECT (thing), "event",
-			(GtkSignalFunc) driveled_event, (gpointer) thing);
+			(GtkSignalFunc) driveled_event, GINT_TO_POINTER(thing));
     gtk_widget_show (thing);
 
     thing = gtk_preview_new (GTK_PREVIEW_COLOR);
@@ -1198,13 +1198,13 @@
 	gtk_box_pack_start (GTK_BOX (buttonbox), thing, FALSE, TRUE, 0);
 	gtk_widget_show (thing);
 	disk_eject_widget[i] = thing;
-	gtk_signal_connect (GTK_OBJECT (thing), "clicked", (GtkSignalFunc) did_eject, (gpointer) i);
+	gtk_signal_connect (GTK_OBJECT (thing), "clicked", (GtkSignalFunc) did_eject, GINT_TO_POINTER(i));
 
 	thing = gtk_button_new_with_label ("Insert");
 	gtk_box_pack_start (GTK_BOX (buttonbox), thing, FALSE, TRUE, 0);
 	gtk_widget_show (thing);
 	disk_insert_widget[i] = thing;
-	gtk_signal_connect (GTK_OBJECT (thing), "clicked", (GtkSignalFunc) did_insert, (gpointer) i);
+	gtk_signal_connect (GTK_OBJECT (thing), "clicked", (GtkSignalFunc) did_insert, GINT_TO_POINTER(i));
     }
 
     add_empty_vbox (vbox);
