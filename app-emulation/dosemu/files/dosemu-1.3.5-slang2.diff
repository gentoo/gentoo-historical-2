--- dosemu-1.3.5/configure.ac	2006-12-10 15:03:24.000000000 +0100
+++ dosemu-1.3.5-fix/configure.ac	2007-05-02 04:46:00.000000000 +0200
@@ -291,6 +291,8 @@
       SLANGINC="-I${prefix}/include/slang"
     elif test -d /usr/include/slang; then
       SLANGINC="-I/usr/include/slang"
+    elif test -d /usr/include/slang-2; then
+      SLANGINC="-I/usr/include/slang-2"
     fi
   fi
 else
@@ -313,13 +315,19 @@
 AC_MSG_RESULT($SLANGINC $SLANGLIB)
 have_slang="no"
 AC_CHECK_HEADER(slang.h,
+  AC_CHECK_LIB(slang-2, SLtt_get_terminfo,
+    AC_MSG_NOTICE(Compiling with S-Lang support...)
+    have_slang="yes"
+    AC_DEFINE(USE_SLANG)
+    SLANGLIB="$SLANGLIB -lslang-2 -lm",
+    [AC_MSG_WARN([No S-Lang library found.])]
+  ),
   AC_CHECK_LIB(slang, SLtt_get_terminfo,
     AC_MSG_NOTICE(Compiling with S-Lang support...)
     have_slang="yes"
     AC_DEFINE(USE_SLANG)
     SLANGLIB="$SLANGLIB -lslang -lm",
     [AC_MSG_WARN([No S-Lang library found.])]
-    $srcdir/mkpluginhooks enable term no
   ),
   [AC_MSG_WARN([No S-Lang header file found.])]
   $srcdir/mkpluginhooks enable term no
