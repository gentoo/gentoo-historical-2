--- Emulator_Src_3.4/BuildUnix/configure.in.orig	Thu Feb 21 23:06:38 2002
+++ Emulator_Src_3.4/BuildUnix/configure.in	Thu Feb 21 23:05:57 2002
@@ -321,6 +321,13 @@
 
 GLLIB=
 
+dnl When we go to FLTK 1.1 this will get easier: we will be able to ask
+dnl FLTK whether it needs GL via fltk-config
+
+AC_ARG_ENABLE(gl,
+	[  --disable-gl             use OpenGL (default yes)])
+
+if test x$enable_gl != xno; then
 AC_CHECK_HEADER(GL/gl.h,
 	AC_CHECK_LIB(GL, glXMakeCurrent, AC_DEFINE(HAVE_GL) GLLIB="-lGL", \
 		AC_CHECK_LIB(MesaGL, glXMakeCurrent, AC_DEFINE(HAVE_GL) GLLIB=" -lMesaGL",,\
@@ -337,6 +344,7 @@
 		GLLIB="-lMesaGLU $GLLIB"
 	fi
 )
+fi
 
 AC_SUBST(GLLIB)
 
