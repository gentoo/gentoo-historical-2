diff -Naur virt-viewer-0.2.0.orig/plugin/npshell.c virt-viewer-0.2.0/plugin/npshell.c
--- virt-viewer-0.2.0.orig/plugin/npshell.c	2009-08-03 16:31:59.413536402 +0200
+++ virt-viewer-0.2.0/plugin/npshell.c	2009-08-03 16:28:27.682285745 +0200
@@ -84,7 +84,7 @@
 #include <strings.h>
 
 #include <npapi.h>
-#include <npupp.h>
+#include <npfunctions.h>
 
 #include "virt-viewer-plugin.h"
 
diff -Naur virt-viewer-0.2.0.orig/plugin/npunix.c virt-viewer-0.2.0/plugin/npunix.c
--- virt-viewer-0.2.0.orig/plugin/npunix.c	2009-08-03 16:32:05.906537077 +0200
+++ virt-viewer-0.2.0/plugin/npunix.c	2009-08-03 16:27:53.100384815 +0200
@@ -57,7 +57,7 @@
 
 #include <stdio.h>
 #include <npapi.h>
-#include <npupp.h>
+#include <npfunctions.h>
 
 #include <glib.h>               /* just for G_GNUC_UNUSED */
 
