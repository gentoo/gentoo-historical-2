diff -ruN nsopenssl-3.0beta26.orig/Makefile nsopenssl-3.0beta26/Makefile
--- nsopenssl-3.0beta26.orig/Makefile	2005-02-25 17:34:44.000000000 +0000
+++ nsopenssl-3.0beta26/Makefile	2005-02-27 21:22:43.702754056 +0000
@@ -28,21 +28,7 @@
 # $Header: /var/cvsroot/gentoo-x86/www-misc/nsopenssl/files/Makefile-3.0_beta26.diff,v 1.1 2005/05/21 21:12:39 port001 Exp $
 #
 
-AOLSERVER ?= ../aolserver
-
-ifndef OPENSSL
-
-all:
-	@echo "** "
-	@echo "** OPENSSL variable not set."
-	@echo "** nsopenssl will not be built."
-	@echo "** "
-
-install: all
-
-clean:
-
-else
+AOLSERVER ?= ../
 
 #
 # Version number used in release tags. Valid VERs are "1.1c", "2.1", 
@@ -54,18 +40,18 @@
 
 LIB      = nsopenssl
 LIBOBJS  = sslcontext.o ssl.o tclcmds.o x509.o
-LIBLIBS  = -L$(OPENSSL)/lib -lssl -lcrypto 
+LIBLIBS  = -L$(OPENSSL_LIB) -lssl -lcrypto 
 
 MOD      = nsopenssl.so
 MODOBJS  = nsopenssl.o
 HDRS     = nsopenssl.h
-MODLIBS  = -L$(OPENSSL)/lib -lssl -lcrypto
+MODLIBS  = -L$(OPENSSL_LIB) -lssl -lcrypto
 
 TCLMOD   = https.tcl
 
 # Add static compilation ability, per grax3272
 ifeq ($(STATIC),1)
-	MODLIBS	= $(OPENSSL)/lib/libssl.a $(OPENSSL)/lib/libcrypto.a
+	MODLIBS	= $(OPENSSL_LIB)/libssl.a $(OPENSSL_LIB)/libcrypto.a
 endif
 
 #
@@ -75,21 +61,10 @@
 # *was not* compiled with Kerberos support.
 #
 
-CFLAGS   += -I$(OPENSSL)/include -I/usr/kerberos/include
-
-INSTALL	= install-https.tcl
+CFLAGS   += -I$(OPENSSL_INCLUDE) -I/usr/kerberos/include
 
 include  $(AOLSERVER)/include/Makefile.module
 
-##
-## Extra install targets.
-##
-
-install-https.tcl:
-	$(INSTALL_SH) $(TCLMOD) $(INSTTCL)
-
-.PHONY: install-https.tcl
-
 #
 # Help the poor developer
 #
@@ -127,5 +102,3 @@
 	cvs -d :pserver:anonymous@cvs.sf.net:/cvsroot/aolserver login
 	cd /tmp && cvs -d :pserver:anonymous@cvs.sf.net:/cvsroot/aolserver co -rv$(VER_) -d$(MODNAME)-$(VER) $(MODNAME) && tar cf - $(MODNAME)-$(VER) | gzip -c > $(MODNAME)-$(VER).tar.gz
 	echo "--- FILE RELEASE is: /tmp/$(MODNAME)-$(VER).tar.gz"
-
-endif
