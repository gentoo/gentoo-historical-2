diff -ur xfce4-panel-4.4.0.orig/plugins/actions/actions.c xfce4-panel-4.4.0/plugins/actions/actions.c
--- xfce4-panel-4.4.0.orig/plugins/actions/actions.c	2007-01-20 18:32:58.000000000 +0200
+++ xfce4-panel-4.4.0/plugins/actions/actions.c	2007-03-11 01:28:23.000000000 +0200
@@ -81,7 +81,7 @@
     {
         xfce_hvbox_set_orientation (XFCE_HVBOX (GTK_BIN (plugin)->child), 
                 (orientation == GTK_ORIENTATION_HORIZONTAL) ?
-                        GTK_ORIENTATION_VERTICAL : GTK_ORIENTATION_HORIZONTAL);
+                        GTK_ORIENTATION_HORIZONTAL : GTK_ORIENTATION_VERTICAL);
     }
 }
 
@@ -127,7 +127,7 @@
     switch (action->type)
     {
         case ACTION_QUIT_LOCK:
-            width = size / 2 - 2 * border;
+            width = MIN(size - border, MAX(16, size/2 - border));
             pb = actions_load_icon (ACTION_LOCK, width);
             gtk_image_set_from_pixbuf (GTK_IMAGE (action->image1), pb);
             g_object_unref (G_OBJECT (pb));
@@ -241,9 +241,8 @@
     {
         case ACTION_QUIT_LOCK:
             orientation = (xfce_panel_plugin_get_orientation (plugin) == 
-                           GTK_ORIENTATION_HORIZONTAL) ?
-                                GTK_ORIENTATION_VERTICAL : 
-                                GTK_ORIENTATION_HORIZONTAL;
+                           GTK_ORIENTATION_VERTICAL) ?
+			   GTK_ORIENTATION_VERTICAL : GTK_ORIENTATION_HORIZONTAL;
 
             box = xfce_hvbox_new (orientation, TRUE, 0);
             gtk_widget_show (box);
