diff -ur cl-portable-aserve-1.2.35+cvs.2004.08.04.orig/aserve/main.cl cl-portable-aserve-1.2.35+cvs.2004.08.04/aserve/main.cl
--- cl-portable-aserve-1.2.35+cvs.2004.08.04.orig/aserve/main.cl	2004-03-16 14:37:42.000000000 -0600
+++ cl-portable-aserve-1.2.35+cvs.2004.08.04/aserve/main.cl	2004-05-08 17:48:37.633431960 -0500
@@ -221,7 +221,10 @@
   (defun getpid () (sb-posix:getpid))
   (defun setuid (uid) (sb-posix:setuid uid))
   (defun setgid (gid) (sb-posix:setgid gid))
-  (defun unix-fork () (sb-unix:unix-fork)))
+  ;; the following does not work in SBCL 0.8.10 (it didn't work in
+  ;; SBCL prior to that either)
+  #+nil (defun unix-fork () (sb-unix:unix-fork))
+  (sb-alien:define-alien-routine ("fork" unix-fork) integer))
 
 
 
@@ -2943,5 +2946,3 @@
     (if* (null obj)
        then (push (setq obj (make-resp code "unknown code")) *responses*))
     obj))
-  
-

