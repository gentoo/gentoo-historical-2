 --- gc.lisp	28 Aug 2003 15:32:28 -0000	1.50
 +++ gc.lisp	28 Sep 2003 14:44:45 -0000
 @@ -244,16 +244,18 @@
        (let ((*already-in-gc* t))
  	(without-interrupts
  	 (gc-stop-the-world)
 +	 #+nil
  	 (dolist (h *before-gc-hooks*)
  	   (carefully-funcall h))
  	 (collect-garbage gen)
  	 (incf *n-bytes-freed-or-purified*
  	       (max 0 (- pre-gc-dynamic-usage (dynamic-usage))))
  	 (setf *need-to-collect-garbage* nil)
 -	 (dolist (h *after-gc-hooks*)
 -	   (carefully-funcall h))
 +
  	 (gc-start-the-world)))
 -      (scrub-control-stack)))
 +      (scrub-control-stack))
 +    (dolist (h *after-gc-hooks*)
 +      (carefully-funcall h)))
    (values))
