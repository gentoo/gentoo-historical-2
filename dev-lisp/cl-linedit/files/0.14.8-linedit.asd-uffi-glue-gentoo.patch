diff -urN linedit_0.14.8.original/linedit.asd linedit_0.14.8/linedit.asd
--- linedit_0.14.8.original/linedit.asd	2003-11-06 08:18:19.000000000 -0600
+++ linedit_0.14.8/linedit.asd	2004-02-15 03:42:33.710137680 -0600
@@ -23,30 +23,6 @@
 
 (in-package :asdf)
 
-(defvar *gcc* "/usr/bin/gcc")
-
-(defvar *gcc-options* '(#-darwin "-shared"
-			#+darwin "-bundle"
-			"-fPIC"))
-
-(defmethod output-files ((o compile-op) (c c-source-file))
-  (list (make-pathname :name (component-name c)
-		       :type "so"
-		       :defaults (component-pathname c))))
-
-(defmethod perform ((o load-op) (c c-source-file))
-  (let ((loader (intern "LOAD-FOREIGN-LIBRARY" :uffi)))
-    (dolist (f (input-files o c))
-      (funcall loader f))))
-
-(defmethod perform ((o compile-op) (c c-source-file))
-  (unless (zerop (run-shell-command "~A ~A ~{~A ~}-o ~A"
-				    *gcc*
-				    (namestring (component-pathname c))
-				    *gcc-options*
-				    (namestring (car (output-files o c)))))
-    (error 'operation-error :component c :operation o)))
-
 (defsystem :linedit
     :version "0.14.4"
     :depends-on (:uffi :terminfo)
@@ -57,10 +33,10 @@
    (:file "utility-functions" :depends-on ("packages"))
 
    ;; Backend
-   (:file "backend" :depends-on ("utility-macros"))
-   (:c-source-file "terminal_glue")
+   (:file "uffi-loader" :depends-on ("packages"))
+   (:file "backend" :depends-on ("utility-macros" "uffi-loader"))
    (:file "terminal-translations" :depends-on ("packages"))
-   (:file "terminal" :depends-on ("terminal-translations" "backend" "terminal_glue"))
+   (:file "terminal" :depends-on ("terminal-translations" "backend"))
    (:file "smart-terminal" :depends-on ("terminal"))
    (:file "dumb-terminal" :depends-on ("terminal"))
 
@@ -69,8 +45,7 @@
    (:file "line" :depends-on ("utility-macros"))
    (:file "buffer" :depends-on ("utility-macros"))
    (:file "command-keys" :depends-on ("packages"))
-   (:c-source-file "signals")
-   (:file "editor" :depends-on ("backend" "rewindable" "signals"
+   (:file "editor" :depends-on ("backend" "rewindable" 
 				"line" "buffer" "command-keys"))
    (:file "main" :depends-on ("editor"))
    (:file "complete" :depends-on ("utility-macros"))
diff -urN linedit_0.14.8.original/uffi-loader.lisp linedit_0.14.8/uffi-loader.lisp
--- linedit_0.14.8.original/uffi-loader.lisp	1969-12-31 18:00:00.000000000 -0600
+++ linedit_0.14.8/uffi-loader.lisp	2004-02-15 03:46:59.595716928 -0600
@@ -0,0 +1,7 @@
+;;;; -*- mode: lisp; syntax: common-lisp; indent-tabs-mode: nil; base: 10; package: linedit -*-
+
+(in-package :linedit)
+                                                              
+(uffi:load-foreign-library #p"/usr/lib/linedit/signals.so")
+(uffi:load-foreign-library #p"/usr/lib/linedit/terminal_glue.so")
+
