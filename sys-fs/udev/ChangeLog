# ChangeLog for sys-fs/udev
# Copyright 1999-2013 Gentoo Foundation; Distributed under the GPL v2
# $Header: /var/cvsroot/gentoo-x86/sys-fs/udev/ChangeLog,v 1.867 2013/03/23 00:44:50 williamh Exp $

*udev-198-r4 (23 Mar 2013)

  23 Mar 2013; William Hubbs <williamh@gentoo.org> +udev-198-r4.ebuild:
  rev bump for #462132.
  Also, this moves the systemd-udevd binary back to upstream's location. I
  spoke with robbat2 about this, and he agrees that if we want
  compatibility we should do that with symlinks and not by moving the
  binary. To that end, this ebuild provides a /sbin/udevd symbolic link.
  Also, the systemd units we install are set up to point to the correct
  binary.

  21 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> -udev-198-r1.ebuild,
  -udev-198-r2.ebuild:
  old

*udev-198-r3 (21 Mar 2013)

  21 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> +udev-198-r3.ebuild:
  Upstream patch for always setting selinux labels at "add" events wrt #462538
  by Amadeusz Sławiński

*udev-198-r2 (20 Mar 2013)

  20 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> +udev-198-r2.ebuild:
  Move builtins section before permissions section in
  /lib/udev/rules.d/50-udev-default.rules to fix eg. USB printing wrt #462346

  19 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> udev-198-r1.ebuild,
  udev-9999.ebuild, metadata.xml:
  Remove redudant QA_MULTILIB_PATHS since we install systemd-udevd as udevd in
  /sbin.
  Introduce USE="firmware-loader" for re-enabling the deprecated firmware
  loader for use with older kernels, see:
  http://cgit.freedesktop.org/systemd/systemd/commit/?id=a3bd8447be4ea2ce230eb8
  ae0e815c04d85fa15a

  15 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> +ChangeLog-2010,
  +ChangeLog-2011, +ChangeLog-2012:
  Split ChangeLog.

  13 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> udev-198-r1.ebuild,
  udev-9999.ebuild:
  Punt /etc/udev/rules.d/80-net-name-slot.rules but only if it's unmodified.

  11 Mar 2013; William Hubbs <williamh@gentoo.org> udev-198-r1.ebuild,
  udev-9999.ebuild:
  another typo fix

  11 Mar 2013; William Hubbs <williamh@gentoo.org> udev-198-r1.ebuild,
  udev-9999.ebuild:
  typo fix

  11 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> udev-198-r1.ebuild,
  udev-9999.ebuild:
  Missing <> in the example command.

  11 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> udev-198-r1.ebuild,
  udev-9999.ebuild:
  Synchronize the coding style with if, then, fi.

  11 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> udev-198-r1.ebuild,
  udev-9999.ebuild:
  Example udevadm command for determining the new interface name with the
  predictable scheme before booting.

  11 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> udev-198-r1.ebuild,
  udev-9999.ebuild:
  Create manpage .so link file from udevd(8) to systemd-udevd.service(8) to
  which udevd-systemd(8) is pointing too.

  10 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> udev-198-r1.ebuild,
  udev-9999.ebuild:
  Set KV_min for 9999 to 2.6.39 because we don't patch live version.

  10 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> -udev-198.ebuild:
  old

*udev-198-r1 (10 Mar 2013)

  10 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> +udev-198-r1.ebuild:
  Include accept4() patch for 198 because the function is only available for
  x86, x86_64, ia64, sparc and mips in Linux 2.6.32.60.

  10 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> udev-198.ebuild,
  udev-9999.ebuild:
  Run hwdb update only if sys-apps/hwids is installed.

  09 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> udev-198.ebuild,
  udev-9999.ebuild:
  Install udevadm bash-completion file.

  08 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> -udev-197-r9.ebuild:
  old

*udev-198 (08 Mar 2013)

  08 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> +udev-198.ebuild:
  Version bump.

  08 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> udev-9999.ebuild:
  Stop installing /etc/udev/rules.d/80-net-name-slot.rules and set values
  for INSTALL_DIRS to keep /etc/udev/{hwdb,rules}.d directories with the
  install-directories-hook target.
  Pass --without-python to avoid dev-python/sphinx.

  06 Mar 2013; Raúl Porcel <armin76@gentoo.org> udev-197-r8.ebuild:
  m68k/s390/sh/sparc stable wrt #457568

  02 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> -files/40-gentoo.rules,
  -udev-197-r4.ebuild:
  old

  02 Mar 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r8.ebuild,
  udev-197-r9.ebuild, udev-9999.ebuild:
  Ensure kernel is built with CONFIG_EPOLL=y wrt #459136 by Alan Mackenzie

  01 Mar 2013; Jeroen Roovers <jer@gentoo.org> udev-197-r8.ebuild:
  Stable for HPPA (bug #457568).

  23 Feb 2013; Agostino Sarubbo <ago@gentoo.org> udev-197-r8.ebuild:
  Stable for alpha, wrt bug #457568

  21 Feb 2013; Agostino Sarubbo <ago@gentoo.org> udev-197-r8.ebuild:
  Stable for ia64, wrt bug #457568

  20 Feb 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r8.ebuild:
  Backport patch for #457868 from -r9.

  19 Feb 2013; Agostino Sarubbo <ago@gentoo.org> udev-197-r8.ebuild:
  Stable for arm, wrt bug #457568

  18 Feb 2013; Agostino Sarubbo <ago@gentoo.org> udev-197-r8.ebuild:
  Stable for ppc64, wrt bug #457568

  18 Feb 2013; Agostino Sarubbo <ago@gentoo.org> udev-197-r8.ebuild:
  Stable for ppc, wrt bug #457568

  17 Feb 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r9.ebuild,
  udev-9999.ebuild:
  Use 40-gentoo.rules to update /dev/null, zero, full, random and urandom
  permissions for Linux 2.6.32 with partial DEVTMPFS support wrt #457868 by
  SpiderX

  15 Feb 2013; Agostino Sarubbo <ago@gentoo.org> udev-197-r8.ebuild:
  Stable for x86, wrt bug #457568

  15 Feb 2013; William Hubbs <williamh@gentoo.org> udev-197-r8.ebuild,
  udev-197-r9.ebuild, udev-9999.ebuild:
  remove the check for kallsyms for now; udev does not use the kallsyms
  functionality.

  15 Feb 2013; Agostino Sarubbo <ago@gentoo.org> udev-197-r8.ebuild:
  Stable for amd64, wrt bug #457568

*udev-197-r9 (14 Feb 2013)

  14 Feb 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r8.ebuild,
  +udev-197-r9.ebuild:
  Preparing for stabilization by moving -r8 to -r9 and editing -r8 to
  always copy 80-net-name-slot.rules like in current stable -r4.

  13 Feb 2013; Samuli Suominen <ssuominen@gentoo.org> udev-9999.ebuild:
  Update to use --disable-polkit flag, see:
  http://cgit.freedesktop.org/systemd/systemd/commit/?id=46ba8aae2b82bc5c87ba34
  7e6bf914ecd5e9d51e

  09 Feb 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r4.ebuild:
  arm/ppc64 stable wrt #452556

  09 Feb 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r8.ebuild,
  udev-9999.ebuild:
  Move hwids from DEPEND to PDEPEND and trust initial emerge of hwids to
  regenerate correct hwdb.bin for us.

  09 Feb 2013; Samuli Suominen <ssuominen@gentoo.org> -udev-197-r6.ebuild,
  -udev-197-r7.ebuild:
  old

  09 Feb 2013; Agostino Sarubbo <ago@gentoo.org> udev-197-r4.ebuild:
  Stable for ia64, wrt bug #452556

  08 Feb 2013; Jeroen Roovers <jer@gentoo.org> udev-197-r4.ebuild:
  Stable for HPPA (bug #452556).

  08 Feb 2013; Samuli Suominen <ssuominen@gentoo.org> udev-9999.ebuild:
  Remove multiple targets that installed systemd files since libudev and
  libgudev doesn't link against libsystemd-daemon anymore. Unfortunately
  this will mean content of /usr/lib/systemd/system/sysinit.target.wants/
  went away because the new target install-target-wants-hook would install
  too much of unrelated systemd files.
  Use --root switch for udevadm hwdb --update.

*udev-197-r8 (07 Feb 2013)

  07 Feb 2013; Samuli Suominen <ssuominen@gentoo.org> +udev-197-r8.ebuild:
  Support updating hwdb from an offset ${ROOT}. Thanks to Luca Barbato
  (lu_zero) for the patch, see:
  http://bugs.freedesktop.org/show_bug.cgi?id=60398
  http://github.com/lu-zero/eudev/commit/96da532526fec9bbfc9f53f2c5819520b971710c

  07 Feb 2013; William Hubbs <williamh@gentoo.org> ChangeLog:
  Require >=sys-libs/libselinux-2.1.9 for bug #455214.
  This applies to udev-197-r4.ebuild, udev-197-r6.ebuild,
  udev-197-r7.ebuild and udev-9999.ebuild.

*udev-197-r7 (07 Feb 2013)

  07 Feb 2013; Samuli Suominen <ssuominen@gentoo.org> +udev-197-r7.ebuild:
  Backport accept4() patch from sys-fs/eudev (and =sys-fs/udev-171-r10) to set
  KV_min back to 2.6.32. Despite that, you should be using at least 2.6.32.60
  since some arch's gained accept4() support in 2.6.32 series there.

  03 Feb 2013; Samuli Suominen <ssuominen@gentoo.org>
  files/80-net-name-slot.rules:
  Recommend copying the file from /lib/udev/rules.d/ to /etc/udev/rules.d/
  instead of deleting this dummy file because stable udev's ebuild will always
  put the file in place if it isn't there already.

  03 Feb 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r6.ebuild,
  udev-9999.ebuild:
  Check for CONFIG_KALLSYMS=y wrt #447042 by "erhard.furtner"

  02 Feb 2013; Fabian Groffen <grobian@gentoo.org> udev-171-r10.ebuild:
  Drop ~x86-linux, bug #452708

*udev-197-r6 (01 Feb 2013)

  01 Feb 2013; Samuli Suominen <ssuominen@gentoo.org> +udev-197-r6.ebuild,
  udev-9999.ebuild:
  Trim 40-gentoo.rules in favour of upstream 50-udev-default.rules; and
  write it using the ebuild.

  01 Feb 2013; Samuli Suominen <ssuominen@gentoo.org> -udev-197-r3.ebuild:
  old

  31 Jan 2013; Agostino Sarubbo <ago@gentoo.org> udev-197-r4.ebuild:
  Stable for ppc, wrt bug #452556

  31 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r4.ebuild,
  udev-197-r5.ebuild, udev-9999.ebuild:
  Backport kernel .config check from ebuild of 171; BLK_DEV_BSG, !IDE,
  INOTIFY_USER, !SYSFS_DEPRECATED, !SYSFS_DEPRECATED_V2, and SIGNALFD
  wrt #454614 by Alexandre Rostovtsev

  29 Jan 2013; Agostino Sarubbo <ago@gentoo.org> udev-197-r4.ebuild:
  Stable for x86, wrt bug #452556

  29 Jan 2013; Agostino Sarubbo <ago@gentoo.org> udev-197-r4.ebuild:
  Stable for amd64, wrt bug #452556

*udev-197-r5 (29 Jan 2013)

  29 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r4.ebuild,
  +udev-197-r5.ebuild:
  Install 80-net-name-slot.rules if the file isn't there yet for stabilization
  of -r4. This will make the new -r5 the old -r4.

  29 Jan 2013; Samuli Suominen <ssuominen@gentoo.org>
  files/80-net-name-slot.rules:
  Update link to Tracker wrt #454452 by Ian Abbott

  28 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r3.ebuild,
  udev-197-r4.ebuild, udev-9999.ebuild:
  Change KV_min to 3.3 for ia64 because accept4 support in the kernel came
  late. Thanks to ryao for noticing.

  28 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r3.ebuild,
  udev-197-r4.ebuild, udev-9999.ebuild:
  Change block <sys-fs/lvm2-2.02.45 to <sys-fs/lvm2-2.02.97-r1 because it's the
  first compatible version with this version of udev.

  27 Jan 2013; Agostino Sarubbo <ago@gentoo.org> udev-197-r3.ebuild:
  Stable for ppc, wrt bug #452556

  27 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r3.ebuild,
  udev-197-r4.ebuild, udev-9999.ebuild:
  Block old version of selinux-base because it's not compatible with
  >=sys-fs/udev-197 wrt #451128 by Hinnerk van Bruinehsen

  27 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r3.ebuild,
  udev-197-r4.ebuild, udev-9999.ebuild:
  Since libudev.so.0 was in /usr for a while; adjust the preserve_old_lib
  command by Zero_Chaos

  24 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r4.ebuild,
  udev-9999.ebuild:
  Set the net_rules variable outside of the copy_net_rules() function for later
  use in the postinst phase.

  24 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r4.ebuild,
  udev-9999.ebuild:
  Disable the new predictable network interface name scheme if
  sys-apps/biosdevname is installed.

  23 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r3.ebuild,
  udev-197-r4.ebuild, udev-9999.ebuild:
  Move a file install to pkg_postinst() from pkg_preinst() to use $ROOT
  instead of $FILESDIR for binpkg support wrt #453726 by Fabio Erculiani

  23 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r3.ebuild,
  udev-197-r4.ebuild, udev-9999.ebuild:
  Post install message about changed network interface renaming wrt #453494

  21 Jan 2013; Mike Gilbert <floppym@gentoo.org> udev-197-r3.ebuild,
  udev-197-r4.ebuild, udev-9999.ebuild:
  Another tweak for the fstab check.

  21 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r3.ebuild,
  udev-197-r4.ebuild, udev-9999.ebuild:
  Warn users only if fstype of /dev in /etc/fstab is not devtmpfs by WilliamH

  21 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r3.ebuild,
  udev-197-r4.ebuild, udev-9999.ebuild:
  Raise udev-init-scripts dependency to 19-r1 to avoid launching the symlink to
  udevd.

  21 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r3.ebuild,
  udev-197-r4.ebuild, udev-9999.ebuild:
  Warn users if they are mounting /dev from /etc/fstab wrt #453186 by "wbrana"

  21 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> -udev-171-r9.ebuild,
  -udev-196-r1.ebuild:
  old

  21 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-171-r10.ebuild:
  Stabilize for everyone because of one patch; restore support for 2.6.31.

  20 Jan 2013; Agostino Sarubbo <ago@gentoo.org> udev-197-r3.ebuild:
  Stable for x86, wrt bug #452556

  20 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r4.ebuild,
  udev-9999.ebuild:
  Optionalize dev-util/gperf dependency behind USE="keymap" wrt #452760 by Mike
  Frysinger

  19 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r3.ebuild,
  udev-197-r4.ebuild, udev-9999.ebuild:
  Install mans related to libsystemd-daemon wrt #452892 by Mike Gilbert. Block
  <sys-apps/systemd-${PV}.

  19 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r3.ebuild,
  udev-197-r4.ebuild, udev-9999.ebuild:
  Update PDEPEND of virtual/udev to 197.

  19 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r3.ebuild:
  amd64 stable wrt #452556

  19 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> -udev-197-r2.ebuild:
  old

*udev-197-r4 (19 Jan 2013)

  19 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r3.ebuild,
  +udev-197-r4.ebuild, udev-9999.ebuild:
  Move /lib/systemd/udevd to /sbin/udevd. Remove empty directory /lib/systemd.
  Symlink /sbin/udevd to /usr/lib/systemd/systemd-udevd. Point systemd .service
  files to /usr/lib/systemd/systemd-udevd. Closing bug #408891.
  Fix installation of sd-daemon.h include for libsystemd-daemon wrt #452892
  by Marien Zwart and Mike Gilbert.

  18 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r3.ebuild,
  udev-9999.ebuild:
  Pass --disable-silent-rules wrt #429886 by Julian Ospald

  17 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> +udev-196-r1.ebuild:
  Put 196-r1 back in tree for sys-apps/systemd. If you don't use systemd, you
  shouldn't be emerging this package because it has wrong udevdir= in udev.pc.

  17 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r3.ebuild,
  udev-9999.ebuild:
  Remove one more use of secure_getenv() from src/shared/missing.h when
  required.

  17 Jan 2013; William Hubbs <williamh@gentoo.org> udev-197-r2.ebuild,
  udev-197-r3.ebuild, udev-9999.ebuild:
  adjust gtk-doc dependency for bug #452668

  17 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r3.ebuild,
  udev-9999.ebuild:
  Restore support for uClibc head by disabling usage of secure_getenv() in
  logs. Use maintainer safe kludge when building from git to avoid missing 
  other uses. Thanks to Mike Frysinger in bug #443030, Comment #5.
  Fix building without dev-util/intltool and sys-devel/gettext wrt #443028,
  Comment #3 by Mike Frysinger.

  17 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-171-r10.ebuild:
  Change KV_min and KV_reliable from 2.6.32 to 2.6.31 because it was 
  backported from sys-fs/eudev, see http://github.com/gentoo/eudev/issues/7

  17 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> -udev-141-r1.ebuild,
  -udev-146-r1.ebuild, -udev-149.ebuild, -udev-151-r4.ebuild,
  -udev-164-r2.ebuild, -udev-196-r1.ebuild, metadata.xml:
  old; if you need support for older kernels use sys-fs/eudev or
  local overlay:
  http://sources.gentoo.org/cgi-bin/viewvc.cgi/gentoo-x86/sys-fs/udev/?hideattic=0

  17 Jan 2013; William Hubbs <williamh@gentoo.org> udev-197-r2.ebuild,
  udev-197-r3.ebuild, udev-9999.ebuild:
  make separate /usr warning message more verbose. Udev will not always fail
  without an initramfs, but the failures you get will be difficult to
  troubleshoot.

*udev-197-r3 (16 Jan 2013)

  16 Jan 2013; Samuli Suominen <ssuominen@gentoo.org> udev-197-r2.ebuild,
  +udev-197-r3.ebuild, udev-9999.ebuild:
  Edit -r2 to install 80-net-name-slot.rules if the file isn't there yet; this
  is for stable. This will make current -r2 as -r3 with a safe kludge to avoid
  overwriting the file; this is for ~arch.

  15 Jan 2013; William Hubbs <williamh@gentoo.org> udev-9999.ebuild:
  sync live ebuild

  15 Jan 2013; William Hubbs <williamh@gentoo.org> udev-197-r2.ebuild:
  add toolchain-funcs to inherit call since we use gcc-version

  15 Jan 2013; William Hubbs <williamh@gentoo.org> udev-197-r2.ebuild:
  Allow udev to compile correctly with gcc 4.5 and >=glibc-2.16 for bug #451110,
  thanks to vapier.

  14 Jan 2013; William Hubbs <williamh@gentoo.org> udev-197-r2.ebuild:
  update the emerge procedure for udev consumers to use qfile. Thanks to Paul
  Varner for explaining why this is the better option.

  14 Jan 2013; William Hubbs <williamh@gentoo.org> udev-197-r2.ebuild:
  Add an example of the command needed to re-emerge packages with files in
  /usr/lib/udev for bug #451266.

  13 Jan 2013; William Hubbs <williamh@gentoo.org> udev-197-r2.ebuild,
  udev-9999.ebuild:
  Fix udev-init-scripts dependencies per poly-c and move udevadm to /bin. If
  someone wants a revbump I will do so.

  13 Jan 2013; William Hubbs <williamh@gentoo.org> -udev-197-r1.ebuild:
  remove old version

  12 Jan 2013; William Hubbs <williamh@gentoo.org> udev-197-r2.ebuild,
  udev-9999.ebuild:
  add -j1 to the make install phase for bug #451500

*udev-197-r2 (12 Jan 2013)

  12 Jan 2013; William Hubbs <williamh@gentoo.org> +udev-197-r2.ebuild,
  udev-9999.ebuild:
  This is the last of the revisions to move everything back to / and fix
  rootlibdir, thanks to Dave Reisner on the #systemd irc channel for his
  assistance.

  11 Jan 2013; William Hubbs <williamh@gentoo.org> -udev-195.ebuild,
  -udev-197.ebuild:
  remove old versions

*udev-197-r1 (11 Jan 2013)

  11 Jan 2013; William Hubbs <williamh@gentoo.org> +udev-197-r1.ebuild,
  udev-9999.ebuild:
  use systemd eclass for bug #451152, thanks to Mike Gilbert for the patch.

  09 Jan 2013; William Hubbs <williamh@gentoo.org> udev-197.ebuild,
  udev-9999.ebuild:
  I was told that the fix I mentioned in the previous commit is incorrect
  because systemd already generates the man pages in their tarball.

*udev-197 (09 Jan 2013)

  09 Jan 2013; William Hubbs <williamh@gentoo.org>
  +files/80-net-name-slot.rules, +udev-197.ebuild, udev-9999.ebuild:
  version bump and fix #446702

