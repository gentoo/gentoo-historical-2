--- ntfsprogs/Makefile.in	2003-09-10 05:57:10.000000000 +0000
+++ ntfsprogs/Makefile.in.patched	2003-09-10 05:57:37.000000000 +0000
@@ -88,8 +88,8 @@
 VERSION = @VERSION@
 all_includes = @all_includes@
 all_libraries = @all_libraries@
-@DEBUG_TRUE@AM_CFLAGS = @DEBUG_TRUE@-D_FILE_OFFSET_BITS=64 -Wall -g -DDEBUG
-@DEBUG_FALSE@AM_CFLAGS = @DEBUG_FALSE@-D_FILE_OFFSET_BITS=64 -Wall
+@DEBUG_TRUE@AM_CFLAGS = @DEBUG_TRUE@-D_FILE_OFFSET_BITS=64 -Wall -g -DDEBUG -fms-extensions
+@DEBUG_FALSE@AM_CFLAGS = @DEBUG_FALSE@-D_FILE_OFFSET_BITS=64 -Wall -fms-extensions
 @REALLYSTATIC_TRUE@AM_LIBS = @REALLYSTATIC_TRUE@$(top_srcdir)/libntfs/.libs/libntfs.a
 @REALLYSTATIC_FALSE@AM_LIBS = @REALLYSTATIC_FALSE@$(top_srcdir)/libntfs/libntfs.la
 @REALLYSTATIC_TRUE@AM_LFLAGS = @REALLYSTATIC_TRUE@-static
--- libntfs/Makefile.in	2003-09-10 05:57:45.000000000 +0000
+++ libntfs/Makefile.in.patched	2003-09-10 05:58:05.000000000 +0000
@@ -115,8 +115,8 @@
 all_libraries = @all_libraries@
 
 LTVERSION = 4:0:0
-@DEBUG_TRUE@AM_CFLAGS = @DEBUG_TRUE@-D_FILE_OFFSET_BITS=64 -Wall -g -DDEBUG
-@DEBUG_FALSE@AM_CFLAGS = @DEBUG_FALSE@-D_FILE_OFFSET_BITS=64 -Wall
+@DEBUG_TRUE@AM_CFLAGS = @DEBUG_TRUE@-D_FILE_OFFSET_BITS=64 -Wall -g -DDEBUG -fms-extensions
+@DEBUG_FALSE@AM_CFLAGS = @DEBUG_FALSE@-D_FILE_OFFSET_BITS=64 -Wall -fms-extensions
 
 linux_ntfsincludedir = -I$(top_srcdir)/include
 lib_LTLIBRARIES = libntfs.la
--- libntfs/lcnalloc.c	2003-02-06 15:24:56.000000000 +0000
+++ libntfs/lcnalloc.c.patched	2003-09-10 06:00:08.000000000 +0000
@@ -101,8 +101,8 @@
 	int err = 0, rlpos, rlsize, buf_size;
 	u8 pass, done_zones, search_zone, need_writeback, bit;
 
-	Dprintf("%s(): Entering with count = 0x%Lx, start_lcn = 0x%Lx,
-			zone = %s_ZONE.\n", (long long)count,
+	Dprintf("%s(): Entering with count = 0x%Lx, start_lcn = 0x%Lx, "
+			"zone = %s_ZONE.\n", (long long)count,
 			(long long)start_lcn,
 			zone == MFT_ZONE ? "MFT" : "DATA");
 	if (!vol || count < 0 || start_lcn < -1 || !vol->lcnbmp_na ||
