diff -Naur kazehakase-0.5.3.orig/macros/gecko.m4 kazehakase-0.5.3/macros/gecko.m4
--- kazehakase-0.5.3.orig/macros/gecko.m4	2008-02-29 22:49:26.000000000 +0900
+++ kazehakase-0.5.3/macros/gecko.m4	2008-03-01 00:18:17.000000000 +0900
@@ -30,7 +30,7 @@
     AM_CXXFLAGS=$_SAVE_AM_CXXFLAGS
 fi
 
-CPPFLAGS="-I$MOZILLA_INCLUDE_ROOT -I$MOZILLA_INCLUDE_ROOT/widget -I$MOZILLA_INCLUDE_ROOT/layout -I$MOZILLA_INCLUDE_ROOT/helperAppDlg -I$MOZILLA_INCLUDE_ROOT/dom -I$MOZILLA_INCLUDE_ROOT/exthandler -I$MOZILLA_INCLUDE_ROOT/pipnss -I$MOZILLA_INCLUDE_ROOT/necko -I$MOZILLA_INCLUDE_ROOT/gfx -I$MOZILLA_INCLUDE_ROOT/content -I$MOZILLA_INCLUDE_ROOT/locale -I$MOZILLA_INCLUDE_ROOT/docshell -I$MOZILLA_INCLUDE_ROOT/mimetype -I$MOZILLA_INCLUDE_ROOT/nkcache `$PKG_CONFIG --cflags-only-I $GECKO_MODULE` -Wconversion -Wsign-compare -Werror"
+CPPFLAGS="-I$MOZILLA_INCLUDE_ROOT -I$MOZILLA_INCLUDE_ROOT/widget -I$MOZILLA_INCLUDE_ROOT/layout -I$MOZILLA_INCLUDE_ROOT/helperAppDlg -I$MOZILLA_INCLUDE_ROOT/dom -I$MOZILLA_INCLUDE_ROOT/exthandler -I$MOZILLA_INCLUDE_ROOT/pipnss -I$MOZILLA_INCLUDE_ROOT/necko -I$MOZILLA_INCLUDE_ROOT/gfx -I$MOZILLA_INCLUDE_ROOT/content -I$MOZILLA_INCLUDE_ROOT/locale -I$MOZILLA_INCLUDE_ROOT/docshell -I$MOZILLA_INCLUDE_ROOT/mimetype -I$MOZILLA_INCLUDE_ROOT/nkcache `$PKG_CONFIG --cflags-only-I $GECKO_MODULE`"
 CXXFLAGS="$AM_CXXFLAGS `$PKG_CONFIG --cflags-only-other $GECKO_MODULE`"
 if test "x$GCC" = "xyes"; then
   gxx_version=`g++ -dumpversion`
@@ -158,9 +158,11 @@
 
 AC_COMPILE_IFELSE(
 	[AC_LANG_PROGRAM(
-		[[#include <nsIHelperAppLauncherDialog.h>]],
+		[[#include <nsIHelperAppLauncherDialog.h>
+		  class convert { private: operator PRUint32(); public: operator PRBool(); };]],
 		[[nsIHelperAppLauncherDialog *p;
-		  p->Show (nsnull, nsnull, -1);]]
+		  convert *c;
+		  p->Show(nsnull, nsnull, *c);]]
 	)],
 	[AC_DEFINE([MOZ_NSIHELPERAPPLAUNCHERDIALOG_NSPRBOOL_],[1],[Define if nsIHelperAppLauncharDialog uses PRBool]) result=yes],
 	[result=no])
