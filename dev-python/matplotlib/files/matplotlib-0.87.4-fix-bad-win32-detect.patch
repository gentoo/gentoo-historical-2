--- setupext.py~	2006-07-10 18:55:59.000000000 +0100
+++ setupext.py	2006-07-17 16:47:19.000000000 +0100
@@ -116,7 +116,8 @@
             return 'mingw32'
     return 'msvc'
 win32_compiler = get_win32_compiler()
-if win32_compiler == 'msvc':
+
+if sys.platform == 'win32' and win32_compiler == 'msvc':
     std_libs = []
 else:
     std_libs = ['stdc++', 'm']
