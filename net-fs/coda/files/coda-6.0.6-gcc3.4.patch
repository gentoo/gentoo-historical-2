diff -Naur coda-6.0.6.old/coda-src/kerndep/pioctl.h coda-6.0.6/coda-src/kerndep/pioctl.h
--- coda-6.0.6.old/coda-src/kerndep/pioctl.h	2003-05-23 20:26:31.000000000 +0200
+++ coda-6.0.6/coda-src/kerndep/pioctl.h	2004-05-10 15:28:51.172684560 +0200
@@ -100,7 +100,8 @@
 
 
 /* people who understand ioctling probably know why this is useful... */
-#define _VICEIOCTL(id)  (_IOW('V', id, struct ViceIoctl))
+//#define _VICEIOCTL(id)  (_IOW('V', id, struct ViceIoctl))
+#define _VICEIOCTL(id) (_IOC(_IOC_WRITE,'V',id,sizeof(struct ViceIoctl)))
 #define _VALIDVICEIOCTL(com) (com >= _VICEIOCTL(0) && com <= _VICEIOCTL(255))
 
 
diff -Naur coda-6.0.6.old/coda-src/venus/comm.cc coda-6.0.6/coda-src/venus/comm.cc
--- coda-6.0.6.old/coda-src/venus/comm.cc	2004-02-02 20:32:34.000000000 +0100
+++ coda-6.0.6/coda-src/venus/comm.cc	2004-05-10 14:52:08.982468360 +0200
@@ -173,7 +173,7 @@
     sei.AckPoint = sftp_ackpoint;
     sei.PacketSize = sftp_packetsize;
     sei.EnforceQuota = 1;
-    sei.Port.Tag = (enum PortTag)0;
+    sei.Port.Tag = (PortTag)0;
     SFTP_Activate(&sei);
 
     /* RPC2 initialization. */
diff -Naur coda-6.0.6.old/coda-src/venus/fso.h coda-6.0.6/coda-src/venus/fso.h
--- coda-6.0.6.old/coda-src/venus/fso.h	2004-03-05 22:15:53.000000000 +0100
+++ coda-6.0.6/coda-src/venus/fso.h	2004-05-10 14:49:23.400640624 +0200
@@ -539,7 +539,7 @@
     void DetachHdbBindings();
     void DetachHdbBinding(binding *, int =0);
     int PredetermineFetchState(int, int);
-    void SetFetchAllowed(enum HoardFetchState new_state)
+    void SetFetchAllowed(HoardFetchState new_state)
         { FetchAllowed = new_state; }
     int IsFetchAllowed()
         { if (FetchAllowed == HF_Fetch) 
@@ -547,7 +547,7 @@
           else 
               return 0; 
         }
-    void SetAskingAllowed(enum HoardAskState new_state)
+    void SetAskingAllowed(HoardAskState new_state)
         { AskingAllowed = new_state; }
     int IsAskingAllowed()
         { if (AskingAllowed == HA_Ask)
