--- src/util.c	Mon Feb 14 14:00:31 2005
+++ src/util.c.new	Mon Feb 14 14:01:32 2005
@@ -1918,7 +1918,7 @@
 char **gq_ldap_explode_dn(const char *dn, int dummy)
 {
      int i, rc;
-     LDAPDN *parts;
+     LDAPDN parts;
      char **v = 0; 
      
      rc = ldap_str2dn(dn, &parts, LDAP_DN_FORMAT_LDAPV3);
@@ -1930,7 +1930,7 @@
      v = (char **) calloc((i + 2), sizeof(char*));
 
      for( i = 0 ; parts[i] ; i++ ) {
-	  ldap_rdn2str(parts[0][i], &v[i],
+	  ldap_rdn2str(parts[i], &v[i],
 		       LDAP_DN_FORMAT_LDAPV3 | LDAP_DN_PRETTY );
      } 
      return v;