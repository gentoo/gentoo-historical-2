--- configure.ac	2011/04/30 16:00:36	1.67
+++ configure.ac	2011/05/03 17:43:06	1.68
@@ -277,7 +277,7 @@
 		     have_dga="true"
 		     AC_DEFINE(HAVE_LIBXXF86DGA,1, [libxf86dga is present]),
 		     have_dga="false",
-		     $X_LIBS $X_PRE_LIBS -lXext -lX11 $X_EXTRA_LIBS)
+		     $X_LIBS $X_PRE_LIBS -lXext $X_EXTRA_LIBS)
 fi
 AM_CONDITIONAL(HAVE_LIBXXF86DGA, test x$have_dga = xtrue)
 
--- lavtools/Makefile.am	2010/03/07 11:42:13	1.122
+++ lavtools/Makefile.am	2011/05/03 17:50:28	1.123
@@ -59,7 +59,10 @@
 liblavplay_la_LDFLAGS = $(LAV_ALL_LIB_OPTS)
 liblavplay_la_LIBADD = liblavfile.la $(SDL_LIBS) liblavjpeg.la $(LIBDV_LIBS) $(LIBMJPEGUTILS)
 if HAVE_V4L
-   liblavplay_la_LIBADD += ${X_LIBS} -lX11
+   liblavplay_la_LIBADD += ${X_LIBS} 
+endif
+if HAVE_SDL
+   liblavplay_la_LIBADD += -lX11
 endif
 liblavplay_la_DEPENDENCIES = liblavfile.la liblavjpeg.la
 
