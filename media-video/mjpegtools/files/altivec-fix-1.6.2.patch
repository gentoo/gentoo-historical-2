--- configure.in.orig	2004-06-14 22:03:42.109367120 +0200
+++ configure.in	2004-06-14 22:04:49.835071248 +0200
@@ -502,15 +502,15 @@
     ALTIVEC_CFLAGS=""
     if $CC -o conftest conftest.c >/dev/null 2>&1; then
       have_altivec=true
-    elif $CC -faltivec -o conftest conftest.c >/dev/null 2>&1; then
+    elif $CC $CFLAGS -faltivec -o conftest conftest.c >/dev/null 2>&1; then
       # Mac OS X style
       have_altivec=true
       ALTIVEC_CFLAGS="-faltivec"
-    elif $CC -fvec -o conftest conftest.c >/dev/null 2>&1; then
+    elif $CC $CFLAGS -fvec -o conftest conftest.c >/dev/null 2>&1; then
       # Motorola style
       have_altivec=true
       ALTIVEC_CFLAGS="-fvec"
-    elif $CC -DHAVE_ALTIVEC_H=1 -maltivec -mabi=altivec -o conftest conftest.c >/dev/null 2>&1; then
+    elif $CC $CFLAGS -DHAVE_ALTIVEC_H=1 -maltivec -mabi=altivec -o conftest conftest.c >/dev/null 2>&1; then
       # gcc 3.1 style
       have_altivec=true
       ALTIVEC_CFLAGS="-DHAVE_ALTIVEC_H=1 -maltivec -mabi=altivec"
