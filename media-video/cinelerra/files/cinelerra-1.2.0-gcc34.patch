--- cinelerra-1.2.0/guicast/arraylist.h.orig	2004-06-10 14:49:01.139700744 +0200
+++ cinelerra-1.2.0/guicast/arraylist.h	2004-06-10 14:47:51.215330864 +0200
@@ -1,6 +1,8 @@
 #ifndef ARRAYLIST_H
 #define ARRAYLIST_H
 
+#include <stdio.h>
+
 // designed for lists of track numbers
 
 template<class TYPE>
--- cinelerra-1.2.0/cinelerra/floatautos.C.orig	2004-06-10 15:29:51.105249368 +0200
+++ cinelerra-1.2.0/cinelerra/floatautos.C	2004-06-10 15:30:08.127661568 +0200
@@ -249,8 +249,8 @@
 	float y0, y1, y2, y3;
  	float t;
 
-	previous = (FloatAuto*)get_prev_auto(position, direction, (Auto*)previous, 0);
-	next = (FloatAuto*)get_next_auto(position, direction, (Auto*)next, 0);
+	previous = (FloatAuto*)get_prev_auto(position, direction, (Auto*&)previous, 0);
+	next = (FloatAuto*)get_next_auto(position, direction, (Auto*&)next, 0);
 
 // Constant
 	if(!next && !previous)
--- cinelerra-1.2.0/cinelerra/recordmonitor.C.orig	2004-06-10 15:38:34.777639064 +0200
+++ cinelerra-1.2.0/cinelerra/recordmonitor.C	2004-06-10 15:43:29.064900600 +0200
@@ -1004,7 +1004,7 @@
 
 int RecVideoDVThread::start_rendering()
 {
-	((dv_t*)dv) = dv_new();
+	dv = (void*)dv_new();
 	return 0;
 }
 
--- cinelerra-1.2.0/cinelerra/panautos.C.orig	2004-06-10 16:01:26.943038216 +0200
+++ cinelerra-1.2.0/cinelerra/panautos.C	2004-06-10 16:02:04.583316024 +0200
@@ -24,8 +24,8 @@
 		PanAuto* &previous,
 		PanAuto* &next)
 {
-	previous = (PanAuto*)get_prev_auto(position, direction, (Auto*)previous);
-	next = (PanAuto*)get_next_auto(position, direction, (Auto*)next);
+	previous = (PanAuto*)get_prev_auto(position, direction, (Auto*&)previous);
+	next = (PanAuto*)get_next_auto(position, direction, (Auto*&)next);
 
 // Constant
 	if(previous->handle_x == next->handle_x &&
--- cinelerra-1.2.0/cinelerra/tracks.C.orig	2004-06-10 23:00:14.882010848 +0200
+++ cinelerra-1.2.0/cinelerra/tracks.C	2004-06-10 23:00:32.904271048 +0200
@@ -295,7 +295,7 @@
 		mute_keyframe = (IntAuto*)current->automation->mute_autos->get_prev_auto(
 			unit_start, 
 			PLAY_FORWARD,
-			(Auto*)mute_keyframe);
+			(Auto*&)mute_keyframe);
 
 		result += 
 			(current->play && type == PLAY) ||
--- cinelerra-1.2.0/cinelerra/virtualnode.C.orig	2004-06-10 23:01:42.411704312 +0200
+++ cinelerra-1.2.0/cinelerra/virtualnode.C	2004-06-10 23:02:07.916826944 +0200
@@ -472,8 +472,8 @@
 
 	IntAuto *prev_keyframe = 0;
 	IntAuto *next_keyframe = 0;
-	prev_keyframe = (IntAuto*)autos->get_prev_auto(input_position, direction, (Auto*)prev_keyframe);
-	next_keyframe = (IntAuto*)autos->get_next_auto(input_position, direction, (Auto*)next_keyframe);
+	prev_keyframe = (IntAuto*)autos->get_prev_auto(input_position, direction, (Auto*&)prev_keyframe);
+	next_keyframe = (IntAuto*)autos->get_next_auto(input_position, direction, (Auto*&)next_keyframe);
 
 	if(direction == PLAY_FORWARD)
 	{
--- cinelerra-1.2.0/cinelerra/virtualanode.C.orig	2004-06-10 23:03:35.860457480 +0200
+++ cinelerra-1.2.0/cinelerra/virtualanode.C	2004-06-10 23:03:54.723589848 +0200
@@ -492,8 +492,8 @@
 
 	PanAuto *prev_keyframe = 0;
 	PanAuto *next_keyframe = 0;
-	prev_keyframe = (PanAuto*)autos->get_prev_auto(input_position, direction, (Auto*)prev_keyframe);
-	next_keyframe = (PanAuto*)autos->get_next_auto(input_position, direction, (Auto*)next_keyframe);
+	prev_keyframe = (PanAuto*)autos->get_prev_auto(input_position, direction, (Auto*&)prev_keyframe);
+	next_keyframe = (PanAuto*)autos->get_next_auto(input_position, direction, (Auto*&)next_keyframe);
 	
 	if(direction == PLAY_FORWARD)
 	{
--- cinelerra-1.2.0/cinelerra/virtualvnode.C.orig	2004-06-10 23:04:43.955105520 +0200
+++ cinelerra-1.2.0/cinelerra/virtualvnode.C	2004-06-10 23:05:20.700519368 +0200
@@ -315,7 +315,7 @@
 					(IntAuto*)track->automation->mode_autos->get_prev_auto(
 						start_position_project, 
 						direction,
-						(Auto*)mode_keyframe);
+						(Auto*&)mode_keyframe);
 
 				int mode = mode_keyframe->value;
 
--- cinelerra-1.2.0/cinelerra/videodevice.h.orig	2004-06-10 23:57:01.857071912 +0200
+++ cinelerra-1.2.0/cinelerra/videodevice.h	2004-06-10 23:54:45.938734640 +0200
@@ -1,6 +1,7 @@
 #ifndef VIDEODEVICE_H
 #define VIDEODEVICE_H
 
+#include "../hvirtual_config.h"
 #include "asset.inc"
 #include "assets.inc"
 #include "audio1394.inc"
--- cinelerra-1.2.0/mplexhi/multplex.c.orig	2003-10-14 09:54:14.000000000 +0200
+++ cinelerra-1.2.0/mplexhi/multplex.c	2004-06-11 00:30:56.083822440 +0200
@@ -340,7 +340,7 @@
 		bytepos_timecode ( bytes_output, current_SCR);
 		break;
 
-		default:
+		default: ;
 	}
 
 }
