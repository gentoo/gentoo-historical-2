--- MPlayer-0.90pre8/libmpdemux/audio_in.c.orig	2002-10-09 03:51:08.000000000 -0700
+++ MPlayer-0.90pre8/libmpdemux/audio_in.c	2002-10-09 03:20:54.000000000 -0700
@@ -30,10 +30,12 @@
 	ai->alsa.device = strdup("default");
 	return 0;
 #endif
+#ifdef USE_OSS_AUDIO
     case AUDIO_IN_OSS:
 	ai->oss.audio_fd = -1;
 	ai->oss.device = strdup("/dev/dsp");
 	return 0;
+#endif
     default:
 	return -1;
     }
@@ -50,10 +52,12 @@
 	ai->setup = 1;
 	return 0;
 #endif
+#ifdef USE_OSS_AUDIO
     case AUDIO_IN_OSS:
 	if (ai_oss_init(ai) < 0) return -1;
 	ai->setup = 1;
 	return 0;
+#endif
     default:
 	return -1;
     }
@@ -69,11 +73,13 @@
 	if (ai_alsa_setup(ai) < 0) return -1;
 	return ai->samplerate;
 #endif
+#ifdef USE_OSS_AUDIO
     case AUDIO_IN_OSS:
 	ai->req_samplerate = rate;
 	if (!ai->setup) return 0;
 	if (ai_oss_set_samplerate(ai) < 0) return -1;
 	return ai->samplerate;
+#endif
     default:
 	return -1;
     }
@@ -89,11 +95,13 @@
 	if (ai_alsa_setup(ai) < 0) return -1;
 	return ai->channels;
 #endif
+#ifdef USE_OSS_AUDIO
     case AUDIO_IN_OSS:
 	ai->req_channels = channels;
 	if (!ai->setup) return 0;
 	if (ai_oss_set_channels(ai) < 0) return -1;
 	return ai->channels;
+#endif
     default:
 	return -1;
     }
@@ -114,10 +122,12 @@
 	}
 	return 0;
 #endif
+#ifdef USE_OSS_AUDIO
     case AUDIO_IN_OSS:
 	if (ai->oss.device) free(ai->oss.device);
 	ai->oss.device = strdup(device);
 	return 0;
+#endif
     default:
 	return -1;
     }
@@ -137,10 +147,12 @@
 	    ai->setup = 0;
 	    return 0;
 #endif
+#ifdef USE_OSS_AUDIO
 	case AUDIO_IN_OSS:
 	    close(ai->oss.audio_fd);
 	    ai->setup = 0;
 	    return 0;
+#endif
 	default:
 	    return -1;
 	}
@@ -154,8 +166,10 @@
     case AUDIO_IN_ALSA:
 	return snd_pcm_start(ai->alsa.handle);
 #endif
+#ifdef USE_OSS_AUDIO
     case AUDIO_IN_OSS:
 	return 0;
+#endif
     default:
 	return -1;
     }
@@ -179,6 +193,7 @@
 	}
 	return ret;
 #endif
+#ifdef USE_OSS_AUDIO
     case AUDIO_IN_OSS:
 	ret = read(ai->oss.audio_fd, buffer, ai->blocksize);
 	if (ret != ai->blocksize) {
@@ -190,6 +205,7 @@
 	    return -1;
 	}
 	return ret;
+#endif
     default:
 	return -1;
     }
