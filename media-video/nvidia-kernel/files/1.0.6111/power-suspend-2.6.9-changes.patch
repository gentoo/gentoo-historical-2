--- usr/src/nv/nv.c.orig	2004-08-28 02:48:36.393223808 +1000
+++ usr/src/nv/nv.c	2004-08-28 02:50:36.354986848 +1000
@@ -3692,9 +3692,16 @@
         return -1;
     }
 
+    // Fix up problems with PM_SAVE_STATE being removed from 2.6.9
+    #ifdef PM_SAVE_STATE
+      #define PM_TMP PM_SAVE_STATE
+    #else
+      #define PM_TMP PM_SUSPEND
+    #endif
+    
     switch (state)
     {
-        case PM_SAVE_STATE:
+        case PM_TMP:
             nv_printf(NV_DBG_INFO, "NVRM: ACPI: received standby event\n");
             status = rm_power_management(nv, 0, NV_PM_ACPI_STANDBY);
             break;
