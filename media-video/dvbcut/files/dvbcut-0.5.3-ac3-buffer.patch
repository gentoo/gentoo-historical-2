--- dvbcut-0.5.3_orig/src/mpgfile.cpp	2005-12-14 22:32:55.000000000 +0100
+++ dvbcut-0.5.3_fixed/src/mpgfile.cpp	2006-11-25 19:47:07.000000000 +0100
@@ -232,8 +232,8 @@
   if (avcodec_open(S->avcc, S->dec))
     return;
 
-  int16_t samples[4096];
-  int frame_size=4096;
+  int16_t samples[6*1536];	// must be enough for 6 AC-3 channels --mr
+  int frame_size=sizeof(samples);//the initial state is ignored anyway, but initialize it
   avcodec_decode_audio(S->avcc,samples,&frame_size,(uint8_t*) sd->getdata(),sd->inbytes());
   avcodec_close(S->avcc);
   }
