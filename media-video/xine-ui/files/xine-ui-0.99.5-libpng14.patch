--- xine-ui-0.99.5/src/xitk/Imlib-light/load.c	Mon Jul 14 22:44:10 2003
+++ xine-ui-0.99.5-new/src/xitk/Imlib-light/load.c	Sat Jan 30 04:37:54 2010
@@ -193,7 +193,7 @@
     return 0;
   fread(buf, 1, 8, f);
   rewind(f);
-  return (int)png_check_sig(buf, 8);
+  return (int) !png_sig_cmp(buf, 0, 8);
 }
 
 ImlibImage * Imlib_load_image(ImlibData * id, char *file) {
