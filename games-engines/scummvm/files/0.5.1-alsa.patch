--- backends/midi/alsa.cpp	2003-07-06 20:19:54.000000000 +0000
+++ backends/midi/alsa.cpp.patched	2004-01-02 17:13:45.268397592 +0000
@@ -37,6 +37,11 @@
  *                                      (you really rox, you know?)
  */
 
+#if SND_LIB_MAJOR >= 1
+#define snd_seq_flush_output(x) snd_seq_drain_output(x)
+#define snd_seq_set_client_group(x,name)        /*nop */
+#define my_snd_seq_open(seqp) snd_seq_open(seqp, "hw", SND_SEQ_OPEN_OUTPUT, 0)
+#else
 #if SND_LIB_MINOR >= 6
 #define snd_seq_flush_output(x) snd_seq_drain_output(x)
 #define snd_seq_set_client_group(x,name)	/*nop */
@@ -45,6 +50,7 @@
 /* SND_SEQ_OPEN_OUT causes oops on early version of ALSA */
 #define my_snd_seq_open(seqp) snd_seq_open(seqp, SND_SEQ_OPEN)
 #endif
+#endif
 
 /*
  * parse address string
