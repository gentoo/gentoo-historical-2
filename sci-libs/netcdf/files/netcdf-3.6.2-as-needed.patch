--- ./cxx/Makefile.am.orig	2007-12-06 17:12:03.352615935 +0000
+++ ./cxx/Makefile.am	2007-12-06 17:12:41.830808682 +0000
@@ -88,6 +88,7 @@
 
 # Library source.
 libnetcdf_c___la_SOURCES = netcdf.cpp ncvalues.cpp
+libnetcdf_c___la_LIBADD = $(top_builddir)/libsrc/libnetcdf.la
 
 test: check
 
--- ./fortran/Makefile.am.orig	2007-12-06 17:11:59.140375893 +0000
+++ ./fortran/Makefile.am	2007-12-06 17:13:18.480897252 +0000
@@ -35,6 +35,7 @@
 # (it's generated by the configure script from nfconfig.in), or if
 # netcdf.inc has changed.
 libnetcdff_la_DEPENDENCIES = nfconfig.inc netcdf.inc 
+libnetcdff_la_LIBADD = $(top_builddir)/libsrc/libnetcdf.la
 
 # Is the user building netCDF-4?
 if USE_NETCDF4
@@ -71,7 +72,7 @@
 
 # If F90 is built, include it's convenience library.
 if BUILD_F90
-libnetcdff_la_LIBADD = ../f90/libnetcdff90.la
+libnetcdff_la_LIBADD += ../f90/libnetcdff90.la
 endif
 
 # If we are building the dll (under MinGW) then set the correct flags.
--- ./Makefile.am.orig	2007-12-06 17:11:55.140147933 +0000
+++ ./Makefile.am	2007-12-06 17:12:41.830808682 +0000
@@ -57,7 +57,7 @@
 # This is the list of subdirs for which Makefiles will be constructed
 # and run. ncgen must come before ncdump and cxx, because their tests
 # depend on it. nf_test depends upon ncgen as well.
-SUBDIRS = $(F90_DIR) $(F77_DIR) libsrc $(V2_TEST) $(NCGEN) $(NCDUMP)	\
+SUBDIRS = libsrc $(F90_DIR) $(F77_DIR) $(V2_TEST) $(NCGEN) $(NCDUMP)	\
 $(F77_TEST) ${CXX_DIR} nc_test $(MAN) $(EXAMPLES)
 
 # make test should do the same as make check.
