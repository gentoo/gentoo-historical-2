diff -ur eclipse.orig/plugins/org.eclipse.core.resources.linux/build.xml eclipse.fix/plugins/org.eclipse.core.resources.linux/build.xml
--- eclipse.orig/plugins/org.eclipse.core.resources.linux/build.xml	2005-05-13 21:34:52.000000000 +0300
+++ eclipse.fix/plugins/org.eclipse.core.resources.linux/build.xml	2005-05-23 21:43:30.000000000 +0300
@@ -57,10 +57,15 @@
 
 	<target name="gather.bin.parts" depends="init" if="destination.temp.folder">
 		<mkdir dir="${destination.temp.folder}/org.eclipse.core.resources.linux_3.1.0"/>
+          <exec dir="./src" executable="make">
+          </exec>
+	  <copy todir="os/linux/${basearch}" failonerror="true" overwrite="false">
+        	<fileset dir="src" includes="*.so"/>
+          </copy>
 		<copy todir="${destination.temp.folder}/org.eclipse.core.resources.linux_3.1.0" failonerror="true" overwrite="false">
 			<fileset dir="${basedir}" includes="os/,META-INF/,about.html"			/>
 		</copy>
-		<chmod perm="755" dir="${destination.temp.folder}/org.eclipse.core.resources.linux_3.1.0" includes="os/linux/x86/*.so" /> 
+		<chmod perm="755" dir="${destination.temp.folder}/org.eclipse.core.resources.linux_3.1.0" includes="os/linux/${basearch}/*.so" /> 
 	</target>
 
 	<target name="build.zips" depends="init">
diff -ur eclipse.orig/plugins/org.eclipse.update.core.linux/src/build.xml eclipse.fix/plugins/org.eclipse.update.core.linux/src/build.xml
--- eclipse.orig/plugins/org.eclipse.update.core.linux/src/build.xml	2005-05-13 21:37:28.000000000 +0300
+++ eclipse.fix/plugins/org.eclipse.update.core.linux/src/build.xml	2005-05-23 21:43:30.000000000 +0300
@@ -5,7 +5,7 @@
   <!-- Set a meaningful default value for when it is not. -->
   <property name="eclipse-home" value="${basedir}/../.."/>
   <property name="jdk-path" value="${java.home}"/>  
-  <property name="destination" value="${eclipse-home}/org.eclipse.update.core.linux/os/linux/x86/"/>
+  <property name="destination" value="${eclipse-home}/org.eclipse.update.core.linux/os/linux/${arch}/"/>
   <property name="obj-path" value="${eclipse-home}/org.eclipse.update.core.linux/src/"/>
   <property name="src-path" value="${eclipse-home}/org.eclipse.update.core.linux/src/"/>  
   
@@ -47,17 +47,17 @@
     <property name="header-path" value="${jdk-path}/../include"/>
     <property name="header-linux-path" value="${header-path}/linux" />
 
-	<echo message="gcc -o  ${library-file} -shared -I${src-path} -I${header-linux-path} ${library-file} -static -lc"/>
+	<echo message="gcc -o  ${library-file} -shared -fPIC -I${src-path} -I${header-linux-path} ${library-file} -lc"/>
 
     <apply executable="gcc" dest="${eclipse-home}/" parallel="false">
       <arg value="-o"/>
       <arg value="${library-file}"/>
       <arg value="-shared"/>
+      <arg value="-fPIC"/>
       <arg value="-I${src-path}"/>
       <arg value="-I${header-path}"/>      
       <arg value="-I${header-linux-path}"/>  
 	  <srcfile/>
-	  <arg value="-static"/>           
       <arg value="-lc"/>	  
       <fileset dir="${src-path}" includes="*.c"/>
       <mapper type="glob" from="*.c" to="*.o"/>
diff -ur eclipse.orig/plugins/org.eclipse.swt/Eclipse SWT PI/gtk/library/build.sh eclipse.fix/plugins/org.eclipse.swt/Eclipse SWT PI/gtk/library/build.sh
--- eclipse.orig/plugins/org.eclipse.swt/Eclipse SWT PI/gtk/library/build.sh	2005-06-27 23:46:32.000000000 +0300
+++ eclipse.fix./plugins/org.eclipse.swt/Eclipse SWT PI/gtk/library/build.sh	2005-06-27 23:51:09.000000000 +0300
@@ -30,7 +30,9 @@
 				if [ "${JAVA_HOME}" = "" ]; then
 					JAVA_HOME=/bluebird/teamswt/swt-builddir/jdk1.5.0
 				fi
-				AWT_LIB_PATH=$JAVA_HOME/jre/lib/amd64
+				if [ "${AWT_LIB_PATH}" = "" ]; then
+				    AWT_LIB_PATH=$JAVA_HOME/jre/lib/amd64
+				fi
 				XTEST_LIB_PATH=/usr/X11R6/lib64
 				if [ "${GECKO_SDK}" = "" ]; then
 					GECKO_SDK=/mozilla/mozilla/1.7/amd64/gtk2/mozilla/dist/sdk
@@ -48,7 +50,9 @@
 				if [ "${JAVA_HOME}" = "" ]; then
 					JAVA_HOME=/bluebird/teamswt/swt-builddir/IBMJava2-141
 				fi
-				AWT_LIB_PATH=$JAVA_HOME/jre/bin
+				if [ "${AWT_LIB_PATH}" = "" ]; then
+				    AWT_LIB_PATH=$JAVA_HOME/jre/bin
+				fi
 				XTEST_LIB_PATH=/usr/X11R6/lib
 				if [ "${GECKO_SDK}" = "" ]; then
 					GECKO_SDK=/mozilla/mozilla/1.4/linux_gtk2/mozilla/dist/sdk
--- eclipse-sdk-3.1/plugins/org.eclipse.help.webapp/build.xml.orig	2005-07-02 23:53:29.888012464 +0000
+++ eclipse-sdk-3.1/plugins/org.eclipse.help.webapp/build.xml	2005-07-02 23:53:42.596080544 +0000
@@ -165,7 +165,7 @@
 		<java
 			classname="org.apache.jasper.JspC"
 			fork="true"
-			failonerror="false"
+			failonerror="true"
 			classpathref="jasper.classpath"
 			output="${temp.folder}/WEB-INF/lib/jsp.jar.bin.log">
 			<arg value="-v3" />
