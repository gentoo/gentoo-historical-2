--- configure.orig	2003-11-26 16:31:43.000000000 -0800
+++ configure	2004-01-16 21:06:22.000000000 -0800
@@ -65,7 +65,7 @@
   fi
 
   case "$ac_option" in
-  -*=*) ac_optarg=`echo "$ac_option" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
+  -*=*) ac_optarg=`echo "$ac_option" | sed 's/[-_[:alnum:]]*=//'` ;;
   *) ac_optarg= ;;
   esac
 
@@ -99,7 +99,7 @@
   -disable-* | --disable-*)
     ac_feature=`echo $ac_option|sed -e 's/-*disable-//'`
     # Reject names that are not valid shell variable names.
-    if test -n "`echo $ac_feature| sed 's/[-a-zA-Z0-9_]//g'`"; then
+    if test -n "`echo $ac_feature| sed 's/[-[:alnum:]_]//g'`"; then
       { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
     fi
     ac_feature=`echo $ac_feature| sed 's/-/_/g'`
@@ -108,7 +108,7 @@
   -enable-* | --enable-*)
     ac_feature=`echo $ac_option|sed -e 's/-*enable-//' -e 's/=.*//'`
     # Reject names that are not valid shell variable names.
-    if test -n "`echo $ac_feature| sed 's/[-_a-zA-Z0-9]//g'`"; then
+    if test -n "`echo $ac_feature| sed 's/[-_[:alnum:]]//g'`"; then
       { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
     fi
     ac_feature=`echo $ac_feature| sed 's/-/_/g'`
@@ -359,7 +359,7 @@
   -with-* | --with-*)
     ac_package=`echo $ac_option|sed -e 's/-*with-//' -e 's/=.*//'`
     # Reject names that are not valid shell variable names.
-    if test -n "`echo $ac_package| sed 's/[-_a-zA-Z0-9]//g'`"; then
+    if test -n "`echo $ac_package| sed 's/[-_[:alnum:]]//g'`"; then
       { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
     fi
     ac_package=`echo $ac_package| sed 's/-/_/g'`
@@ -372,7 +372,7 @@
   -without-* | --without-*)
     ac_package=`echo $ac_option|sed -e 's/-*without-//'`
     # Reject names that are not valid shell variable names.
-    if test -n "`echo $ac_package| sed 's/[-a-zA-Z0-9_]//g'`"; then
+    if test -n "`echo $ac_package| sed 's/[-[:alnum:]_]//g'`"; then
       { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
     fi
     ac_package=`echo $ac_package| sed 's/-/_/g'`
@@ -400,7 +400,7 @@
     ;;
 
   *)
-    if test -n "`echo $ac_option| sed 's/[-a-z0-9.]//g'`"; then
+    if test -n "`echo $ac_option| sed 's/[-[:lower:][:digit:].]//g'`"; then
       echo "configure: warning: $ac_option: invalid host type" 1>&2
     fi
     if test "x$nonopt" != xNONE; then
@@ -571,7 +571,7 @@
 	.)
 		{ echo "configure: error: missing patch-date $VERSION_PATCH" 1>&2; exit 1; }
 		;;
-	.[0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9])
+	.[[:digit:]][[:digit:]][[:digit:]][[:digit:]][[:digit:]][[:digit:]][[:digit:]][[:digit:]])
 		;;
 	*)
 		{ echo "configure: error: illegal patch-date $VERSION_PATCH" 1>&2; exit 1; }
@@ -1809,7 +1809,7 @@
 if test "$GCC" = yes ; then
 	echo $ac_n "checking version of $CC""... $ac_c" 1>&6
 echo "configure:1812: checking version of $CC" >&5
-	GCC_VERSION="`${CC} --version|sed -e '2,$d' -e 's/^[^0-9.]*//' -e 's/[^0-9.].*//'`"
+	GCC_VERSION="`${CC} --version|sed -e '2,$d' -e 's/^[^[:digit:].]*//' -e 's/[^[:digit:].].*//'`"
 	test -z "$GCC_VERSION" && GCC_VERSION=unknown
 	echo "$ac_t""$GCC_VERSION" 1>&6
 fi
@@ -2104,7 +2104,7 @@
 #endif
 EOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  egrep "(^|[^a-zA-Z_0-9])off_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
+  egrep "(^|[^[:alpha:]_[:digit:]])off_t[^[:alpha:]_[:digit:]]" >/dev/null 2>&1; then
   rm -rf conftest*
   ac_cv_type_off_t=yes
 else
@@ -2137,7 +2137,7 @@
 #endif
 EOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  egrep "(^|[^a-zA-Z_0-9])size_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
+  egrep "(^|[^[:alpha:]_[:digit:]])size_t[^[:alpha:]_[:digit:]]" >/dev/null 2>&1; then
   rm -rf conftest*
   ac_cv_type_size_t=yes
 else
@@ -3526,10 +3526,10 @@
     else
             echo $ac_n "checking version of bison""... $ac_c" 1>&6
 echo "configure:3529: checking version of bison" >&5
-      ac_prog_version=`$INTLBISON --version 2>&1 | sed -n 's/^.*GNU Bison.* \([0-9]*\.[0-9.]*\).*$/\1/p'`
+      ac_prog_version=`$INTLBISON --version 2>&1 | sed -n 's/^.*GNU Bison.* \([[:digit:]]*\.[[:digit:].]*\).*$/\1/p'`
       case $ac_prog_version in
         '') ac_prog_version="v. ?.??, bad"; ac_verc_fail=yes;;
-        1.2[6-9]* | 1.[3-9][0-9]* | [2-9].*)
+        1.2[6-9]* | 1.[3-9][[:digit:]]* | [2-9].*)
            ac_prog_version="$ac_prog_version, ok"; ac_verc_fail=no;;
         *) ac_prog_version="$ac_prog_version, bad"; ac_verc_fail=yes;;
       esac
@@ -3843,7 +3843,7 @@
 fi
 if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
   echo "$ac_t""yes" 1>&6
-    ac_tr_lib=HAVE_LIB`echo dbmalloc | sed -e 's/[^a-zA-Z0-9_]/_/g' \
+    ac_tr_lib=HAVE_LIB`echo dbmalloc | sed -e 's/[^[:alnum:]_]/_/g' \
     -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
   cat >> confdefs.h <<EOF
 #define $ac_tr_lib 1
@@ -3906,7 +3906,7 @@
 fi
 if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
   echo "$ac_t""yes" 1>&6
-    ac_tr_lib=HAVE_LIB`echo dmalloc | sed -e 's/[^a-zA-Z0-9_]/_/g' \
+    ac_tr_lib=HAVE_LIB`echo dmalloc | sed -e 's/[^[:alnum:]_]/_/g' \
     -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
   cat >> confdefs.h <<EOF
 #define $ac_tr_lib 1
@@ -3957,7 +3957,7 @@
   ;;
 ..|./*|.\\*) #(vi
   ;;
-.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
+.[[:alpha:]]:[\\/]*) #(vi OS/2 EMX
   ;;
 .\${*prefix}*) #(vi
   eval with_libtool="$with_libtool"
@@ -4034,7 +4034,7 @@
 	# Save the version in a cache variable - this is not entirely a good
 	# thing, but the version string from libtool is very ugly, and for
 	# bug reports it might be useful to have the original string.
-	cf_cv_libtool_version=`$LIBTOOL --version 2>&1 | sed -e '2,$d' -e 's/^[^1-9]*//' -e 's/[^0-9.].*//'`
+	cf_cv_libtool_version=`$LIBTOOL --version 2>&1 | sed -e '2,$d' -e 's/^[^1-9]*//' -e 's/[^[:digit:].].*//'`
 	echo "$ac_t""$cf_cv_libtool_version" 1>&6
 	if test -z "$cf_cv_libtool_version" ; then
 		{ echo "configure: error: This is not libtool" 1>&2; exit 1; }
@@ -4167,7 +4167,7 @@
   ;;
 ..|./*|.\\*) #(vi
   ;;
-.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
+.[[:alpha:]]:[\\/]*) #(vi OS/2 EMX
   ;;
 .\${*prefix}*) #(vi
   eval withval="$withval"
@@ -6748,11 +6748,11 @@
     # turns \\\\ into \\, and sed turns \\ into \).
     sed -n \
       -e "s/'/'\\\\''/g" \
-      -e "s/^\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\)=\\(.*\\)/\\1=\${\\1='\\2'}/p"
+      -e "s/^\\([[:alnum:]_]*_cv_[[:alnum:]_]*\\)=\\(.*\\)/\\1=\${\\1='\\2'}/p"
     ;;
   *)
     # `set' quotes correctly as required by POSIX, so do not add quotes.
-    sed -n -e 's/^\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\)=\(.*\)/\1=${\1=\2}/p'
+    sed -n -e 's/^\([[:alnum:]_]*_cv_[[:alnum:]_]*\)=\(.*\)/\1=${\1=\2}/p'
     ;;
   esac >> confcache
 if cmp -s $cache_file confcache; then
