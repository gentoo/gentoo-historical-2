--- valgrind-3.0.1-hacked/work/valgrind-3.0.1-old/addrcheck/Makefile.am	2005-08-24 21:37:08.000000000 +0200
+++ valgrind-3.0.1/addrcheck/Makefile.am	2005-10-31 22:57:24.000000000 +0100
@@ -6,6 +6,7 @@ AM_CPPFLAGS += -I$(top_srcdir)/memcheck
 val_PROGRAMS = vgtool_addrcheck.so vgpreload_addrcheck.so
 
 vgtool_addrcheck_so_SOURCES = ac_main.c
+vgtool_addrcheck_so_CFLAGS = -fpic
 vgtool_addrcheck_so_LDFLAGS = -shared
 vgtool_addrcheck_so_LDADD = \
 	../memcheck/mac_leakcheck.o \
@@ -13,6 +14,7 @@ vgtool_addrcheck_so_LDADD = \
 	../memcheck/mac_shared.o
 
 vgpreload_addrcheck_so_SOURCES = 
+vgpreload_addrcheck_so_CFLAGS = -fpic
 vgpreload_addrcheck_so_LDADD = \
 	../memcheck/mac_replace_strmem.o
 vgpreload_addrcheck_so_DEPENDENCIES = \
--- valgrind-3.0.1-hacked/work/valgrind-3.0.1-old/cachegrind/Makefile.am	2005-08-10 17:28:20.000000000 +0200
+++ valgrind-3.0.1/cachegrind/Makefile.am	2005-10-31 23:10:08.000000000 +0100
@@ -14,5 +14,6 @@ val_PROGRAMS = vgtool_cachegrind.so
 vgtool_cachegrind_so_SOURCES = \
 	cg_main.c \
 	cg-@VG_ARCH@.c
+vgtool_cachegrind_so_CFLAGS = -fpic
 vgtool_cachegrind_so_LDFLAGS = -shared
 
--- valgrind-3.0.1-hacked/work/valgrind-3.0.1-old/helgrind/Makefile.am	2005-08-10 17:27:51.000000000 +0200
+++ valgrind-3.0.1/helgrind/Makefile.am	2005-10-31 23:11:55.000000000 +0100
@@ -3,11 +3,13 @@ include $(top_srcdir)/Makefile.tool.am
 val_PROGRAMS = vgtool_helgrind.so vgpreload_helgrind.so
 
 vgtool_helgrind_so_SOURCES = hg_main.c
+vgtool_helgrind_so_CFLAGS = -fpic
 vgtool_helgrind_so_LDFLAGS = -shared
 
 vgpreload_helgrind_so_SOURCES = 
 vgpreload_helgrind_so_DEPENDENCIES = \
 	$(LIBREPLACEMALLOC)
+vgpreload_helgrind_so_CFLAGS = -fpic
 vgpreload_helgrind_so_LDFLAGS = -shared -Wl,-z,interpose,-z,initfirst \
 	-Wl,--whole-archive \
 	$(LIBREPLACEMALLOC) \
--- valgrind-3.0.1-hacked/work/valgrind-3.0.1-old/lackey/Makefile.am	2005-08-10 17:28:36.000000000 +0200
+++ valgrind-3.0.1/lackey/Makefile.am	2005-10-31 23:09:49.000000000 +0100
@@ -3,5 +3,6 @@ include $(top_srcdir)/Makefile.tool.am
 val_PROGRAMS = vgtool_lackey.so
 
 vgtool_lackey_so_SOURCES = lk_main.c
+vgtool_lackey_so_CFLAGS = -fpic
 vgtool_lackey_so_LDFLAGS = -shared
 
--- valgrind-3.0.1-hacked/work/valgrind-3.0.1-old/massif/Makefile.am	2005-08-10 17:28:11.000000000 +0200
+++ valgrind-3.0.1/massif/Makefile.am	2005-10-31 23:11:32.000000000 +0100
@@ -5,11 +5,13 @@ SUBDIRS += hp2ps
 val_PROGRAMS = vgtool_massif.so vgpreload_massif.so
 
 vgtool_massif_so_SOURCES = ms_main.c
+vgtool_massif_so_CFLAGS = -fpic
 vgtool_massif_so_LDFLAGS = -shared
 
 vgpreload_massif_so_SOURCES = 
 vgpreload_massif_so_DEPENDENCIES = \
 	$(LIBREPLACEMALLOC)
+vgpreload_massif_so_CFLAGS = -fpic
 vgpreload_massif_so_LDFLAGS = -shared -Wl,-z,interpose,-z,initfirst \
 	-Wl,--whole-archive \
 	$(LIBREPLACEMALLOC) \
--- valgrind-3.0.1-hacked/work/valgrind-3.0.1-old/memcheck/Makefile.am	2005-08-10 17:28:08.000000000 +0200
+++ valgrind-3.0.1/memcheck/Makefile.am	2005-10-31 23:23:19.000000000 +0100
@@ -1,7 +1,7 @@
 include $(top_srcdir)/Makefile.tool.am
 
 ## Build Memcheck at a higher optimisation level
-AM_CFLAGS += -O2
+AM_CFLAGS += -O2 -fpic
 
 val_PROGRAMS = vgtool_memcheck.so vgpreload_memcheck.so
 
--- valgrind-3.0.1-hacked/work/valgrind-3.0.1-old/none/Makefile.am	2005-08-10 17:28:34.000000000 +0200
+++ valgrind-3.0.1/none/Makefile.am	2005-10-31 23:11:09.000000000 +0100
@@ -3,5 +3,6 @@ include $(top_srcdir)/Makefile.tool.am
 val_PROGRAMS = vgtool_none.so
 
 vgtool_none_so_SOURCES 	 = nl_main.c
+vgtool_none_so_CFLAGS   = -fpic
 vgtool_none_so_LDFLAGS   = -shared
 
