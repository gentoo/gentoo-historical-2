--- diffstat-1.29/diffstat.old	2003-10-21 22:44:18.325067400 -0700
+++ diffstat-1.29/diffstat.c	2003-10-21 22:46:30.279007352 -0700
@@ -528,6 +528,12 @@
 			&& !version_num(fname)
 			&& !contain_any(fname, "*")
 			&& !edit_range(fname))
+		    || (sscanf(buffer,
+			       "*** %[^\t ]\t%d-%d-%d %d:%d:%d",
+			       fname,
+			       &year, &month, &day,
+			       &hour, &minute, &second) == 7
+			&& !version_num(fname))
 		    ) {
 		    s = merge_name(that, fname);
 		    that = new_data(s);
