--- diffstat-1.34/diffstat.c.orig	2004-02-15 12:03:37.000000000 +0100
+++ diffstat-1.34/diffstat.c	2004-02-15 12:04:47.000000000 +0100
@@ -725,6 +725,12 @@
 			&& !version_num(b_fname)
 			&& !contain_any(b_fname, "*")
 			&& !edit_range(b_fname))
+		    || (sscanf(buffer,
+		    	       "*** %[^\t ]\t%d-%d-%d %d:%d:%d",
+			       b_fname,
+			       &year, &month, &day,
+			       &hour, &minute, &second) == 7
+			&& !version_num(b_fname))
 		    ) {
 		    s = do_merging(that, b_fname);
 		    that = new_data(s);

