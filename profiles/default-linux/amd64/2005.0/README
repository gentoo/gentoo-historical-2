HOWTO upgrade from 2004.3 and 2004.3/lib64 to 2005.0

 1) emerge -v '>=sys-apps/portage-2.0.51-r9'
 2) emerge unmerge linux26-headers
 3) emerge -v linux-headers
 4) emerge unmerge emul-linux-x86-glibc
 5) rm /lib32 /usr/lib32 /usr/X11R6/lib32
 6) mkdir /lib32 /usr/lib32 /usr/X11R6/lib32
 7) cp /emul/linux/x86/lib32/libsandbox.so /lib32
 8) rm /etc/make.profile
 9) ln -s /usr/portage/profiles/default-linux/amd64/2005.0 /etc/make.profile
-- If you want to use eradicator's prebuilt glibc --
10a) mkdir /usr/tmp/All
10b) cd /usr/tmp/All
10c) wget http://dev.gentoo.org/~eradicator/grp/amd64/2005.0/glibc-2.3.4.20040808-r1.tbz2
10d) PKGDIR=/usr/tmp emerge -vk glibc
-- If you prefer to make it yourself --
10) emerge -v glibc
--
11) emerge -upv system
12) emerge -uv system

Notes:
The order is VERY important.

You MUST do every step even if you already have that version (or later) 
installed.  The newer version of glibc is currently masked on 2005.0 
because it hasn't been updated yet to build both 32bit and 64bit libs.  
I hope to get this done in the next few days, but no promises yet.

Emerging glibc the second time is optional if you don't want to use my 
options.  It was made with gcc-3.4.3-r1:
CFLAGS="-O2 -pipe -fomit-frame-pointer"
USE: -build -debug +emul-linux-x86 -erandom -hardened +multilib +nls +nptl +pic -userlocales

linux-headers is masked in the main package.mask still, so unmask it 
yourself. linux26-headers-2.6.8.1-r3 will probably work, but I noticed 
it doesn't get the headers in asm-i386/mach-*/, but my updated 
multilib.eclass method does for linux-headers.

USE=multilib is now required.  If you don't have it set, you won't be 
able to emerge anything, so please remove -multilib from your USE if you 
had it set.

You can remove /usr/tmp/All once you're done with it.
