diff -Naur virtual-server.orig/virtual-server-lib.pl virtual-server/virtual-server-lib.pl
--- virtual-server.orig/virtual-server-lib.pl	2004-10-11 21:30:51.000000000 -0700
+++ virtual-server/virtual-server-lib.pl	2004-11-17 22:22:52.997058167 -0800
@@ -1563,7 +1563,12 @@
 	$vmax = $b->{'virtual'}
 		if ($b->{'name'} eq $iface->{'name'} &&
 		    $b->{'virtual'} > $vmax);
+
+	if($b->{'address'} eq $_[0]->{'ip'}) {
+		print "IP address is already active.<p>\n";
+		return;
 	}
+}
 local $virt = { 'address' => $_[0]->{'ip'},
 		'netmask' => $net::virtual_netmask || $iface->{'netmask'},
 		'broadcast' =>
