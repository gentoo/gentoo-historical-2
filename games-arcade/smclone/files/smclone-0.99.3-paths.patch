--- src/core/main.cpp
+++ src/core/main.cpp
@@ -35,9 +35,7 @@
 #include "../input/keyboard.h"
 
 // for linux directory creation
-#ifdef POSIX
 	#include <sys/stat.h>
-#endif
 
 /* *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** */
 
@@ -107,11 +105,12 @@
 	srand( (unsigned int)time( NULL ) );
 
 	// get linux user data dir ( home directory )
-#ifdef POSIX
 	user_data_dir = (string)getenv( "HOME" ) + "/.smc/";
 
-	mkdir( user_data_dir, S_IRWXU );
-#endif
+	mkdir( user_data_dir.c_str(), S_IRWXU );
+	chdir( user_data_dir.c_str() );
+	mkdir( SAVE_DIR, S_IRWXU );
+	mkdir( SCREENSHOT_DIR, S_IRWXU );
 
 	pCamera = new cCamera();
 	pVideo = new cVideo();
