--- brag	Tue Feb 11 04:05:10 2003
+++ brag-1.2.9-gentoo	Mon Feb 10 02:09:12 2003
@@ -458,6 +458,7 @@
     variable combine
     variable combineServers
     variable total
+    variable max
     variable getSingle
     variable threads
     variable decoders
@@ -536,6 +537,10 @@
 		incr i
 		set threads [lindex $argList $i]
 	    }
+	    "-m" {
+		incr i
+		set max [lindex $argList $i]
+	    }
  	    default {
 		usage
 	    }
@@ -686,7 +691,7 @@
     if {$lastSaved > $first} {
 	set first $lastSaved
     }
-    set total [expr {$last - $first + 1}]
+
 
     print "Server: $server"
     print "Group: $group"
@@ -695,7 +700,12 @@
     print "Accept: [list $accept]"
     print "Reject: [list $reject]"
     print "First: $first"
-    print "Last: $last"
+    print "Last Message Found: $last"
+    if {[info exists max] && [expr {$last - $first}] > $max} {
+	set last [expr $first + $max - 1]
+	print "Last (max limited): $last"
+    }
+    set total [expr {$last - $first + 1}]
 
     if {$first > $last} {
 	exit 0
