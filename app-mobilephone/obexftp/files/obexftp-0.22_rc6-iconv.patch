diff -Nru obexftp-0.22.orig/config.h.in obexftp-0.22/config.h.in
--- obexftp-0.22.orig/config.h.in	2007-09-05 10:54:58.000000000 +0300
+++ obexftp-0.22/config.h.in	2007-09-05 11:06:20.000000000 +0300
@@ -34,6 +34,9 @@
 /* Define to 1 if you have the <netinet/in.h> header file. */
 #undef HAVE_NETINET_IN_H
 
+/* Define if system has iconv library */
+#undef HAVE_ICONV
+
 /* Define if system supports Bluetooth SDP */
 #undef HAVE_SDPLIB
 
diff -Nru obexftp-0.22.orig/configure.in obexftp-0.22/configure.in
--- obexftp-0.22.orig/configure.in	2007-09-05 10:57:41.000000000 +0300
+++ obexftp-0.22/configure.in	2007-09-05 11:05:10.000000000 +0300
@@ -29,7 +29,19 @@
 # Checks for libraries.
 PKG_CHECK_MODULES(OPENOBEX,openobex)
 
-AM_ICONV
+AC_ARG_ENABLE([iconv],
+              [AC_HELP_STRING([--disable-iconv],
+                              [Disables usage of iconv conversion library])],
+              [ac_iconv_enabled=$enableval], [ac_iconv_enabled=yes])
+if test "$ac_iconv_enabled" = yes; then
+	AM_ICONV
+else
+	LIBICONV=
+	LTLIBICONV=
+	AC_SUBST(LIBICONV)
+	AC_SUBST(LTLIBICONV)
+fi
+
 dnl IRDA_CHECK
 BLUETOOTH_CHECK
 if test "${bluez_found}" = "yes"; then
