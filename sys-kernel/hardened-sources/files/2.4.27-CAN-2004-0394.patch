diff -urN linux-2.4.26-hardened/kernel/panic.c linux-2.4.26-can/kernel/panic.c
--- linux-2.4.26-hardened/kernel/panic.c	2003-11-28 19:26:21.000000000 +0100
+++ linux-2.4.26-can/kernel/panic.c	2004-06-22 22:40:11.000000000 +0200
@@ -59,7 +59,7 @@
 	
 	bust_spinlocks(1);
 	va_start(args, fmt);
-	vsprintf(buf, fmt, args);
+	vsnprintf(buf, sizeof(buf), fmt, args);
 	va_end(args);
 	printk(KERN_EMERG "Kernel panic: %s\n",buf);
 	if (in_interrupt())
