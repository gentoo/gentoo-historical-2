# ChangeLog for sys-kernel/lolo-sources
# Copyright 2002-2003 Gentoo Technologies, Inc.; Distributed under the GPL v2
# $Header: /var/cvsroot/gentoo-x86/sys-kernel/lolo-sources/ChangeLog,v 1.43 2003/03/01 19:55:02 lostlogic Exp $

  TODO:
  * Update NTFS
  * Check EVMS version
  * Keep grabbing hardware stuff from xfs-sources
  * Look into the new IDE core for this set maybe
  * Update iptables a few more times (just for good measure)
  * Maybe:
    Look into updating ACPI although CK recommends against it
    RSBAC
    Win4Lin
    Optional RMAP
    Re-add XFS

*lolo-sources-2.4.20.2_pre3 (28 Feb 2003)

  Changes from _pre2:
  * Update -ck patches:
    supermount (having random hangs with supermount? fixed.)
    aavm
  * Update some iptables stuff and switch some patches in the iptables
  * A few other minor changes.

*lolo-sources-2.4.20.2_pre2 (17 Feb 2003)

  Changes from _pre1:
  * Fix stupid dumb forgot #ifdef problem in grsecurity

*lolo-sources-2.4.20.2_pre1 (16 Feb 2003)

  This patchset should resolve a bunch of random stuff,
  including some supermount issues, some hardware support
  issues, problems related to rmapvm, and some of the
  problems related to iptables.  Test it hard, and let
  me know what you find.  

  Changes from 2.4.20.1:
  * Update base to the latest from -ck
  * Switch to aavm from rmap
  * Drop XFS for the moment
  * Add a collection of patches from xfs-sources
  * Update grsecurity
  * Update iptables patches (this may require 
    recompiling of iptables again)
  * Renumber things... may need to go to 3 digits
  * Not in this set, but started working on merge of win4lin

*lolo-sources-2.4.20.1 (10 Jan 2003)
  Doing things a littl different this time... people can just
  keep following lolo-sources and will get the identical
  as gentoo-sources from the final versions of lolo-sources, 
  except for documentation updates.

  Changes from _rc3:
  * Got a bunch of testing.  Apparently some SCSI+Firewire
    issues, but I'm not sure if they are isolated to this
    patchset or if they are 2.4.20 generic problems.
  * Ext3 data=journal fix.
  * Add an update for the aic7xx controller
  * Resync with iptables again.
  * Add one big defconfig patch to make a nicer default for
    gentoo users.
  * Drop all defconfig changes from i386 in patches

*lolo-sources-2.4.20.1_rc3 (07 Jan 2003)

  Changes from _rc2:
  * Late breaking ebuild changes, drop gcc-3.1 patch if not on
    gcc3... also make prettier output for the USE var stuff.
  * Drop scheduler-hints it might have caused some instability
    so I added this and smptimers hoping for performance help
    and I got instability instead...
  * Change encrypted loop back from loop-hvr to loop-jari
  * Update all iptables modules from iptables CVS
    A note about this:  To take advantage of some of the
    modules included in the iptables patches we have here
    you will need to build an iptables from CVS.  I'm
    working on getting a CVS snapshot stability tested so
    we can include it in portage.
  * KT400 pci.ids thanks to viz
  * AFAIK we are as close to having all the hardware
    support of xfs-sources as this one is going to get
  * Make rmap not change pte_offset to pte_offset_kernel
    so that things built externally can build right
    against this kernel

*lolo-sources-2.4.20.1_rc2 (02 Jan 2003)

  Changes from _rc1:
  * Drop smptimers makes this thing die under load
  * Make XFS an optional useflag with a warning about JFS

  I'd like to give Joel Hill (Hillster on IRC) a huge
  thanks with this one, because without him I would have
  never been able to load test it properly and found the
  cause of random deadness on SMP boxes.

*lolo-sources-2.4.20.1_rc1 (31 Dec 2002)

  02 Jan 2003; Brandon Low <lostlogic@gentoo.org>:
  Mark unstable, cuz it is.

  Well we've finally made it to an _rc kernel here... at this point 
  it is bug fixes and tiny hardware modules ONLY

  Changes from _pre9:
  * Drop the elevator.c change, it makes things worse in many situations
  * Add support for the ECC driver
  * Add TIOCGDEV support back in
  * Add xfs+quota-v2+kdb support many thanks to dragon for this.
  * Fix 2 users of current->nice !works

*lolo-sources-2.4.20.1_pre9 (30 Dec 2002)

  30 Dec 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.20.1_pre9.ebuild :
  Marking this one stable cuz I want it used and tested widely.

  Changes from _pre8:
  * Fix the __br_lock_usage_bug() so it doesn't still break
  * Fix compile problem with do_zap_page_range with gcc-2
  * Add scheduler-hints
  * Add smptimers

*lolo-sources-2.4.20.1_pre8 (24 Dec 2002)

  24 Dec 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.20.1_pre8.ebuild :
  Changes from _pre7:
  * Officially drop the iptables-ROUTE
  * fix NTFS modular and highmem support (I hope)
  * Fix the FreeS/WAN patch so it doesn't make ~ files
  * add i2c-2.7.0

*lolo-sources-2.4.20.1_pre7 (24 Dec 2002)

  24 Dec 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.20.1_pre7.ebuild :
  Changed last minute:
  * Drop iptables-ROUTE it breaks everything.

  Changes from _pre6:
  * MPPE support
  * Some more iptables patches including pptp support
  * Tekram SCSI Support
  * Add Free S/WAN
  * Switch to Super FreeS/WAN
  * Revert to older elevator.c for better IDE latencies
  * Fix the __br_unlock_usage_bug issue
  * Did some testing

*lolo-sources-2.4.20.1_pre6 (20 Dec 2002)

  20 Dec 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.20.1_pre6.ebuild:
  Changes from _pre5:
  * Upgrade EVMS to 1.2.1
  * Fix the iptables patches I had and add a bunch more
  * Start documenting this bloody thing
  * add CryptoAPI and encrypted loop support
  * move around some of the quickfixes so they only apply when needed

*lolo-sources-2.4.20.1_pre5 (19 Dec 2002)

  19 Dec 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.20.1_pre5.ebuild:
  You ever get the feeling that the world is out to get you?  Well it is...
  I scrapped everything and started over based HEAVILY on Con Kolivas kernel from
  http://kernel.kolivas.net.  I think this will do much better at serving us all
  than where we were headed before.

  17 Dec 2002; Brandon Low <lostlogic@gentoo.org>:
  Make all kernel-sources SLOT="${KV}"

  06 Dec 2002; Rodney Rees <manson@gentoo.org> : changed sparc ~sparc keywords
 
*lolo-sources-2.4.20.1_pre4 (07 Dec 2002)

  07 Dec 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.20.1_pre4.ebuild:

  Tons of changes this time...  Merged with mjc-sources got a bunch of
  nice patches from aa-sources (cuz Andrea Archangeli is a god of code)
  I'll hopefully have all the new patches in patches.txt soon.  Also
  changed to linux-2.4.20-ac1 as the base of the kernel, I hope you all
  enjoy this.  Please report all bugs on bugzilla so I can have a neat
  organized way of tracking them.  Thanks.

  Big todo:  Need to check on the ext3 data=journalled patch

  Other todo:  Testing, snag patches out of bugzilla that people want
  included

*lolo-sources-2.4.20.1_pre3 (14 Nov 2002)

  14 Nov 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.20.1_pre3.ebuild:

  This is mostly to get things moving again... much of the old todos
  from _pre1 and _pre2 will still be getting done.

  Changes from _pre2:
  - Update to another new gentoo-fb logo patch
  - update to latest acpi version
  - update to -rc1-ac1 as the base

*lolo-sources-2.4.20.1_pre2 (23 Oct 2002)

  23 Oct 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.20.1_pre2.ebuild:

  Changes from _pre1:
  - Update gentoo FB logos from seemant's sparc stuff
  - Sort out some of the docs for patches.txt
  - update grsecurity to 1.9.7d
  - Fix the grsecurity security issue.
  - Fix EVMS compilation
  - I actually test compiled this one with a "all" configuration... only
    a few problems in mostly unused drivers, please test this one.

  Additional todo:
  - Stuff from -aa and other sources from http://ohdarn.net/gentoo/used
    thanks to MJC
  - Figure out why the heck this thing breaks my VM like mad when using
    accelerated nvidia-kernel drivers...
  - <mjc> lostlogic: one of andreas patches adds CMPXCHG8 to the
    processor stuff in config.in
  - <mjc> the gcc31 options need it too
  - <mjc>    define_bool CONFIG_X86_CMPXCHG8 y
  - Anything in the from-aa file in the patches dir
  - IMQ
  - MPPE

*lolo-sources-2.4.20.1_pre1 (16 Oct 2002)

  16 Oct 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.20.1_pre1.ebuild:

  The long awaited of the 2.4.20 series of stuff, this one is still missing stuff.

  Changes from gentoo-sources-2.4.19-r10:
  - Switch to a base of linux-2.4.20-pre10-ac2
  - Update grsecurity, preempt, jiffies, acpi, etc.

  Random known todo:
  - Fix grsecurity VM_STACK_FLAGS stuff (per-arch VM_DATA_DEFAULT,
    possibly upstreamable)

  Patches added:
  - 06_O_STREAMING-2.4.20-pre9-1
  - 32_v4l2-api-2.4.20-pre2

  Patches dropped, merged in mainline:
  - 17_htb3.6_2.4.17
  - 31_p4-xeon-detection

  Patches dropped, merged in -ac:
  - 06-vm-strict-overcommit-2.4.19-pre7-rmap-1
  - 15_sis-740-961
  - 27_jfs-1.0.23-xattr
  - 28_jfs-1.0.23-acl
  - 33_nfs-update
  - 34_nfs-over-tcp
  - 35_iptables-patch-o-matic
  - 97_ide_taskfile_config

  Patches waiting for merging:
  - 03_xattr+acl-0.8.51
  - 12_cdda-dma
  - 43_VIA-fixes
  - 44_VIA-northbridge-fixup
  - XFS
  - 80_loop-jari
  - 81_freeswan-1.98b
  - 82_patch-int

*lolo-sources-2.4.19.10_pre6 (03 Oct 2002)

  03 Oct 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.19.10_pre6.ebuild:

  Ok so I lied, here is another pre.

  New in this release:
  - Update EVMS
  - Update JFS
  - Fix for unresolved symbols due to lack of grsecurity ifdefs

  Before -r10:
  - Test Test Test
  - Defconfig
  - Check out Trance's pcmcia problems

*lolo-sources-2.4.19.10_pre5 (01 Oct 2002)

  01 Oct 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.19.10_pre5.ebuild:

  Ok, this is the last pre... call it an rc, nothing else changing before
  -r10 because it is time to start on a new series for 2.4.20.

  New in this release:
  - Fix for grsecurity compilation
  - Fix for supermount from -jp
  - Update patches.txt documentation and kernel.eclass (makes older
    a little funky, but is more forward working)
  - Fix lvcool to be available when it should
  - Fix processor type options to show gcc>31 rather than gcc31

  Before -r10:
  - Test Test Test
  - defconfig

*lolo-sources-2.4.19.10_pre4 (24 Sep 2002)

  24 Sep 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.19.10_pre4.ebuild:

  While testing this kerenl I ran into very bad crashing behavior with 
  the USE="acpi4linux" option enabled... just a warning.  But for you
  laptopers it is still there.

  Well I dug up about 3-4 hours of time and merged xfs into this kernel
  so everyone who has been asking for it finally gets their way because
  I hate being unpopular.  I hope you all enjoy XFS, it is enabled by a
  hidden useflag so set USE="xfs" to turn it on for this kernel.  Please
  let me know your results.

*lolo-sources-2.4.19.10_pre3 (21 Sep 2002)

  21 Sep 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.19.10_pre3.ebuild:

  New this version:
  - Add futexes support
  - Add imon support
  - Optional ACPI patch just set USE="acpi4linux"
  - Redone ebuild setup now we have an eclass for these things
  - Add support for KERNEL_EXCLUDE
  - Rename some patches to better names for use with KERNEL_EXCLUDE

  Coming before gentoo-sources-2.4.19-r10:
  - Documentation documentation documentation
  - Testing Testing Testing Testing Testing

*lolo-sources-2.4.19.10_pre2 (21 Sep 2002)

  21 Sep 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.19.10_pre2.ebuild:

  Due to difficulties in getting updates, we had to drop the planned
  fixes for amd74xx (amd760mpx), hpt366 (hpt370+), and radeonfb...

  I also haven't been having luck finding fixes for sim710.c or i810_dma.c

  However, I think that the other things that have gone into this kernel
  warrant it's release as -r10 with only the additional work noted below.

  New this version:
  - Add and re-arrange VIA bugfixes
  - LVcool AMD Athlon/Duron Cooling
  - Update grsecurity
  - Switch to latest release IPSEC Free S/WAN
  - Add usbdnet support for Zaurus handhelds
  - Change versioning again, now I can use a consistant method to create
    versions for all the kernels that I do the ebuilds for.  This kernel
    is now 2.4.19-lolo-r10_pre2

  Coming before gentoo-sources-2.4.19-r10:
  - Add a method for users to turn off patches with a shell var
  - updated defconfig patch with better defaults for i386
  - updated and improved patches.txt documentation
  - incorporate ACPI from acpi.sourceforge.net (this is now debatible,
    mjc says that it can still physically break machines, this may
    become an optional patch maybe I'll do the merge and leave it to
    users to use it if they want to.)

*lolo-sources-2.4.19.10_pre1 (19 Sep 2002)

  19 Sep 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.19.10_pre1.ebuild:

  Fix kernel version to not confuse mozilla any more, this kernel's
  designation is officially linux-2.4.19-r10-lolo_pre1, and no I don't
  care if you hate my naming scheme... it clearly attaches my 
  pre-release kernels to their appropriate gentoo-sources releases, etc.

  Updated all patches with known updates to their latest
  (JFS, preempt, rmap, nfs, nfs-over-tcp)

  Add xattr and acl patches and include the JFS patches for them.

  Add supermount patches.

  Incorportate the small fixes done to gentoo-sources-2.4.19-r9 into
  the main patchball.

  Coming before gentoo-sources-2.4.19-r10:
  - updated grsecurity, pending upstream release
  - updated defconfig patch with better defaults for i386
  - updated and improved patches.txt documentation
  - backports for AMD74xx, radeonfb, and HPT366 driverd from -ac
    done by Michael Cohen <mjc@gentoo.org>
  - incorporate ACPI from acpi.sourceforge.net
  - Possibly other, depending on stability, timing, and how much I get
    harrassed about things :)
  - Fix compilation issues with sim710 and i810dma (I hope)
  - Change up which VIA bugfixes we use
  - Lvcool by Cardoe

*lolo-sources-2.4.19.9_rc2 (02 Sep 2002)

  02 Sep 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.19.9_rc2.ebuild:

  Removed lock-break, contains known races against 2.4.19.

  Fix grsecurity/Config.in for badness.

  Add some things from iptables-patch-o-matic thanks to Azarah.

  Put back missing IDE Taskfile IO option in config.

*lolo-sources-2.4.19.9_rc1 (01 Sep 2002)

  01 Sep 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.19.9_rc1.ebuild:

  Thanks to Doug Goldstein <cardoe@gentoo.org> for all his testing to pin down
  a problem in the lvcool patch and then fixing it.  (even though the patch
  didn't end up in this kernel)

*lolo-sources-2.4.19.9_pre2 (01 Sep 2002)

  01 Sep 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.19.9_pre2.ebuild:

  Added default config patch, fixed alsa-driver compilation against this kernel, 
  fixed version setting issues with the ebuild (with any luck).

*lolo-sources-2.4.19.9_pre1 (01 Sep 2002)

  01 Sep 2002; Brandon Low <lostlogic@gentoo.org> lolo-sources-2.4.19.9_pre1.ebuild:

  First release of the lolo-sources, please test these and let me know what you get.
