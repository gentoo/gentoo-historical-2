diff -Naur linux-2.4.26-pegasos.orig/kernel/panic.c linux-2.4.26-pegasos/kernel/panic.c
--- linux-2.4.26-pegasos.orig/kernel/panic.c	2004-06-04 22:55:36.000000000 +0000
+++ linux-2.4.26-pegasos/kernel/panic.c	2004-06-04 22:59:21.000000000 +0000
@@ -63,7 +63,7 @@
 	
 	bust_spinlocks(1);
 	va_start(args, fmt);
-	vsprintf(buf, fmt, args);
+	vsnprintf(buf, sizeof(buf), fmt, args);
 	va_end(args);
 	printk(KERN_EMERG "Kernel panic: %s\n",buf);
 	if (in_interrupt())
