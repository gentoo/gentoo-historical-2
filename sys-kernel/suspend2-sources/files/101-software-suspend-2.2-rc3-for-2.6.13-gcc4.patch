diff -urp software-suspend-2.2-rc3-for-2.6.13/include/asm-i386/suspend2.h software-suspend-2.2-rc3-for-2.6.13-gcc4/include/asm-i386/suspend2.h
--- software-suspend-2.2-rc3-for-2.6.13/include/asm-i386/suspend2.h	2005-08-29 17:16:06.000000000 +0200
+++ software-suspend-2.2-rc3-for-2.6.13-gcc4/include/asm-i386/suspend2.h	2005-08-29 17:16:33.000000000 +0200
@@ -233,8 +233,8 @@ static inline void restore_processor_con
 
 	/* tell gcc that we clobbered all the registers... 
 	 * otherwise it might keep some addresses there. */
-	//asm volatile ("" : : : "esp", "eax", "ebx", "ecx", "edx", "esi", "edi");
-	asm volatile ("" : : : "esp", "ebp", "eax", "ebx", "ecx", "edx", "esi", "edi");
+	asm volatile ("" : : : "esp", "eax", "ebx", "ecx", "edx", "esi", "edi");
+	//asm volatile ("" : : : "esp", "ebp", "eax", "ebx", "ecx", "edx", "esi", "edi");
 	
 	fix_processor_context();
 
