diff -ur linux-2.4.26-gentoo-r5/include/freeswan/ipsec_rcv.h linux-2.4.26-gentoo-r6/include/freeswan/ipsec_rcv.h
--- linux-2.4.26-gentoo-r5/include/freeswan/ipsec_rcv.h	2004-07-13 17:41:55.589176744 +0100
+++ linux-2.4.26-gentoo-r6/include/freeswan/ipsec_rcv.h	2004-07-13 17:40:32.749770248 +0100
@@ -134,8 +134,10 @@
 
 #ifdef CONFIG_IPSEC_DEBUG
 extern int debug_rcv;
+#define ipsec_rcv_dmp(_x,_y, _z) if (debug_rcv && sysctl_ipsec_debug_verbose) ipsec_dmp(_x,_y,_z)
+#else
+#define ipsec_rcv_dmp(_x,_y, _z) {}
 #endif /* CONFIG_IPSEC_DEBUG */
-#define ipsec_rcv_dmp(_x,_y, _z) if (debug_rcv && sysctl_ipsec_debug_verbose) ipsec_dmp(_x,_y,_z)
 
 extern int sysctl_ipsec_inbound_policy_check;
 #endif /* __KERNEL__ */
diff -ur linux-2.4.26-gentoo-r5/include/freeswan/ipsec_xmit.h linux-2.4.26-gentoo-r6/include/freeswan/ipsec_xmit.h
--- linux-2.4.26-gentoo-r5/include/freeswan/ipsec_xmit.h	2004-07-09 15:56:33.000000000 +0100
+++ linux-2.4.26-gentoo-r6/include/freeswan/ipsec_xmit.h	2004-07-13 17:16:15.614288512 +0100
@@ -127,11 +127,11 @@
 #ifdef CONFIG_IPSEC_DEBUG
 extern int debug_tunnel;
 extern int sysctl_ipsec_debug_verbose;
-#endif /* CONFIG_IPSEC_DEBUG */
-
 #define debug_xmit debug_tunnel
-
 #define ipsec_xmit_dmp(_x,_y, _z) if (debug_xmit && sysctl_ipsec_debug_verbose) ipsec_dmp(_x,_y,_z)
+#else
+#define ipsec_xmit_dmp(_x,_y, _z) {}
+#endif /* CONFIG_IPSEC_DEBUG */
 
 extern int sysctl_ipsec_icmp;
 extern int sysctl_ipsec_tos;
