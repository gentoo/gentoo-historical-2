diff -u -r linux-2.4.20-gentoo-r6/arch/arm/mach-integrator/pci_v3.c linux-2.4.20-gentoo-r7/arch/arm/mach-integrator/pci_v3.c
--- linux-2.4.20-gentoo-r6/arch/arm/mach-integrator/pci_v3.c	2003-09-10 23:36:03.000000000 +0100
+++ linux-2.4.20-gentoo-r7/arch/arm/mach-integrator/pci_v3.c	2003-09-11 17:32:50.000000000 +0100
@@ -629,7 +629,6 @@
 #if 0
 	ret = request_irq(IRQ_LBUSTIMEOUT, lb_timeout, 0, "bus timeout", NULL);
 	if (ret)
-		printk(KERN_ERR "PCI: unable to grab local bus timeout ".
-		       "interrupt: %d\n", ret);
+		printk(KERN_ERR "PCI: unable to grab local bus timeout interrupt: %d\n", ret);
 #endif
 }
diff -u -r linux-2.4.20-gentoo-r6/drivers/atm/zatm.c linux-2.4.20-gentoo-r7/drivers/atm/zatm.c
--- linux-2.4.20-gentoo-r6/drivers/atm/zatm.c	2003-09-10 23:36:03.000000000 +0100
+++ linux-2.4.20-gentoo-r7/drivers/atm/zatm.c	2003-09-11 17:32:50.000000000 +0100
@@ -1430,8 +1430,7 @@
 	zout(uPD98401_GMR_ONE | uPD98401_BURST8 | uPD98401_BURST4 |
 	    uPD98401_BURST2 | uPD98401_GMR_PM | uPD98401_GMR_DR,GMR);
 	/* TODO: should shrink allocation now */
-	printk("mem=%dkB,%s (",zatm_dev->mem >> 10,zatm_dev->copper ? "UTP" :
-	    "MMF");
+	printk("mem=%dkB,%s (",zatm_dev->mem >> 10,zatm_dev->copper ? "UTP" : "MMF");
 	for (i = 0; i < ESI_LEN; i++)
 		printk("%02X%s",dev->esi[i],i == ESI_LEN-1 ? ")\n" : "-");
 	do {
diff -u -r linux-2.4.20-gentoo-r6/drivers/char/h8.c linux-2.4.20-gentoo-r7/drivers/char/h8.c
--- linux-2.4.20-gentoo-r6/drivers/char/h8.c	2003-09-10 23:36:03.000000000 +0100
+++ linux-2.4.20-gentoo-r7/drivers/char/h8.c	2003-09-11 17:32:50.000000000 +0100
@@ -574,8 +574,7 @@
         }
 
         if (intrbuf.word & H8_POWER_BUTTON) {
-                printk(KERN_CRIT "Power switch pressed - please wait - preparing to power 
-off\n");
+                printk(KERN_CRIT "Power switch pressed - please wait - preparing to power off\n");
                 h8_set_event_mask(H8_POWER_BUTTON);
                 wake_up(&h8_monitor_wait);
         }
diff -u -r linux-2.4.20-gentoo-r6/drivers/ide/ide-cd.h linux-2.4.20-gentoo-r7/drivers/ide/ide-cd.h
--- linux-2.4.20-gentoo-r6/drivers/ide/ide-cd.h	2003-09-10 23:36:03.000000000 +0100
+++ linux-2.4.20-gentoo-r7/drivers/ide/ide-cd.h	2003-09-11 17:32:50.000000000 +0100
@@ -437,7 +437,7 @@
 
 	byte     curlba[3];
 	byte     nslots;
-	__u8 short slot_tablelen;
+	__u16 slot_tablelen;
 };
  
  
diff -u -r linux-2.4.20-gentoo-r6/drivers/scsi/sun3_NCR5380.c linux-2.4.20-gentoo-r7/drivers/scsi/sun3_NCR5380.c
--- linux-2.4.20-gentoo-r6/drivers/scsi/sun3_NCR5380.c	2003-09-10 23:36:03.000000000 +0100
+++ linux-2.4.20-gentoo-r7/drivers/scsi/sun3_NCR5380.c	2003-09-11 17:32:50.000000000 +0100
@@ -1226,8 +1226,7 @@
 					    BASR_ACK)) ==
        (BASR_PHASE_MATCH | BASR_ACK)) {
 	    printk("scsi%d: BASR %02x\n", HOSTNO, NCR5380_read(BUS_AND_STATUS_REG));
-	    printk("scsi%d: bus stuck in data phase -- probably a
- single byte overrun!\n", HOSTNO); 
+	    printk("scsi%d: bus stuck in data phase -- probably a single byte overrun!\n", HOSTNO); 
 	    printk("not prepared for this error!\n");
 	    printk("please e-mail sammy@sammy.net with a description of how this\n");
 	    printk("error was produced.\n");
diff -u -r linux-2.4.20-gentoo-r6/fs/imon/imon.c linux-2.4.20-gentoo-r7/fs/imon/imon.c
--- linux-2.4.20-gentoo-r6/fs/imon/imon.c	2003-09-10 23:36:03.000000000 +0100
+++ linux-2.4.20-gentoo-r7/fs/imon/imon.c	2003-09-11 17:32:50.000000000 +0100
@@ -1310,8 +1310,7 @@
        wr += sprintf(bf + wr, "\tdprobes:\t%lu\n",   m.im_dprobes);
        wr += sprintf(bf + wr, "\tdmoves:\t\t%lu\n",  m.im_dmoves);
 #else
-       wr += sprintf(bf + wr, "no metering data; rebuild imon.o with METER_ON s
-et.\n");
+       wr += sprintf(bf + wr, "no metering data; rebuild imon.o with METER_ON set.\n");
 #endif /* METER_ON */
 
        return wr;
diff -u -r linux-2.4.20-gentoo-r6/net/core/rtnetlink.c linux-2.4.20-gentoo-r7/net/core/rtnetlink.c
--- linux-2.4.20-gentoo-r6/net/core/rtnetlink.c	2003-09-10 23:36:03.000000000 +0100
+++ linux-2.4.20-gentoo-r7/net/core/rtnetlink.c	2003-09-11 17:32:50.000000000 +0100
@@ -394,7 +394,7 @@
  * Malformed skbs with wrong lengths of messages are discarded silently.
  */
 
-extern __inline__ int rtnetlink_rcv_skb(struct sk_buff *skb)
+__inline__ int rtnetlink_rcv_skb(struct sk_buff *skb)
 {
 	int err;
 	struct nlmsghdr * nlh;
diff -u -r linux-2.4.20-gentoo-r6/net/decnet/dn_table.c linux-2.4.20-gentoo-r7/net/decnet/dn_table.c
--- linux-2.4.20-gentoo-r6/net/decnet/dn_table.c	2003-09-10 23:36:03.000000000 +0100
+++ linux-2.4.20-gentoo-r7/net/decnet/dn_table.c	2003-09-11 17:32:50.000000000 +0100
@@ -836,8 +836,7 @@
                 return NULL;
 
         if (in_interrupt() && net_ratelimit()) {
-                printk(KERN_DEBUG "DECnet: BUG! Attempt to create routing table 
-from interrupt\n"); 
+                printk(KERN_DEBUG "DECnet: BUG! Attempt to create routing table from interrupt\n"); 
                 return NULL;
         }
         if ((t = kmalloc(sizeof(struct dn_fib_table), GFP_KERNEL)) == NULL)

diff -u -r linux-2.4.20-gentoo-r6/drivers/net/fealnx.c linux-2.4.20-gentoo-r7/drivers/net/fealnx.c
--- linux-2.4.20-gentoo-r6/drivers/net/fealnx.c	2003-09-08 19:50:27.000000000 -0700
+++ linux-2.4.20-gentoo-r7/drivers/net/fealnx.c	2003-06-13 07:51:34.000000000 -0700
@@ -937,7 +937,7 @@
 // 89/9/1 modify,
 //   np->bcrvalue=0x38;
 	np->bcrvalue = 0x10;
-	np->cralue = 0xe00;	/* rx 128 burst length */
+	np->crvalue = 0xe00;	/* rx 128 burst length */
 #warning Processor architecture undefined!
 #endif
 // 89/12/29 add,
@@ -1198,7 +1198,6 @@
 		printk("\n");
 	}
 
-	   + dev->if_port = np->default_port;
 	/* Reinit. Gross */
 
 	/* Reset the chip's Tx and Rx processes. */
diff -u -r linux-2.4.20-gentoo-r6/arch/i386/math-emu/poly.h linux-2.4.20-gentoo-r7/arch/i386/math-emu/poly.h
--- linux-2.4.20-gentoo-r6/arch/i386/math-emu/poly.h	2003-09-08 19:52:14.000000000 -0700
+++ linux-2.4.20-gentoo-r7/arch/i386/math-emu/poly.h	2003-09-08 19:45:38.000000000 -0700
@@ -75,11 +75,11 @@
 /* Add the 12 byte Xsig x2 to Xsig dest, with no checks for overflow. */
 static inline void add_Xsig_Xsig(Xsig *dest, const Xsig *x2)
 {
-  asm volatile ("movl %1,%%edi; movl %2,%%esi;
-                 movl (%%esi),%%eax; addl %%eax,(%%edi);
-                 movl 4(%%esi),%%eax; adcl %%eax,4(%%edi);
-                 movl 8(%%esi),%%eax; adcl %%eax,8(%%edi);"
-                 :"=g" (*dest):"g" (dest), "g" (x2)
+  asm volatile ("movl %1,%%edi; movl %2,%%esi; " \
+                  "movl (%%esi),%%eax; addl %%eax,(%%edi); " \
+                  "movl 4(%%esi),%%eax; adcl %%eax,4(%%edi); " \
+                  "movl 8(%%esi),%%eax; adcl %%eax,8(%%edi); " \ 
+                 :"=g" (*dest):"g" (dest), "g" (x2) \
                  :"ax","si","di");
 }
 
@@ -90,18 +90,18 @@
    problem, but keep fingers crossed! */
 static inline void add_two_Xsig(Xsig *dest, const Xsig *x2, long int *exp)
 {
-  asm volatile ("movl %2,%%ecx; movl %3,%%esi;
-                 movl (%%esi),%%eax; addl %%eax,(%%ecx);
-                 movl 4(%%esi),%%eax; adcl %%eax,4(%%ecx);
-                 movl 8(%%esi),%%eax; adcl %%eax,8(%%ecx);
-                 jnc 0f;
-		 rcrl 8(%%ecx); rcrl 4(%%ecx); rcrl (%%ecx)
-                 movl %4,%%ecx; incl (%%ecx)
-                 movl $1,%%eax; jmp 1f;
-                 0: xorl %%eax,%%eax;
-                 1:"
-		:"=g" (*exp), "=g" (*dest)
-		:"g" (dest), "g" (x2), "g" (exp)
+  asm volatile ("movl %2,%%ecx; movl %3,%%esi; " \
+                  "movl (%%esi),%%eax; addl %%eax,(%%ecx); " \
+                  "movl 4(%%esi),%%eax; adcl %%eax,4(%%ecx); " \
+                  "movl 8(%%esi),%%eax; adcl %%eax,8(%%ecx); " \
+                  "jnc 0f; " \
+		  "rcrl 8(%%ecx); rcrl 4(%%ecx); rcrl (%%ecx); " \
+                  "movl %4,%%ecx; incl (%%ecx); " \
+                  "movl $1,%%eax; jmp 1f; " \
+                  "0: xorl %%eax,%%eax; " \
+                  "1: " \
+		:"=g" (*exp), "=g" (*dest) \
+		:"g" (dest), "g" (x2), "g" (exp) \
 		:"cx","si","ax");
 }

diff -u -r linux-2.4.19/arch/i386/kernel/semaphore.c linux-2.4.19-gentoo-r19/i386/kernel/semaphore.c
--- linux-2.4.19/arch/i386/kernel/semaphore.c	2004-06-24 14:53:47.874139392 +0100
+++ linux-2.4.19-gentoo-r19/i386/kernel/semaphore.c	2004-06-24 14:52:36.694960272 +0100
@@ -262,7 +262,6 @@
  */
 #if defined(CONFIG_SMP)
 asm(
-"
 .align	4
 .globl	__write_lock_failed
 __write_lock_failed:
@@ -287,6 +286,5 @@
 	lock ; decl	(%eax)
 	js	__read_lock_failed
 	ret
-"
 );
 #endif
