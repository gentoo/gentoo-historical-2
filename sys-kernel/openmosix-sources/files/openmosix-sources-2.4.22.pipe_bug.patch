--- mm/filemap.c	2004-06-14 23:15:29.000000000 +0400
+++ mm/filemap.c.fixed	2004-06-16 10:48:32.000000000 +0400
@@ -3226,7 +3226,7 @@
 	err = written ? written : status;
 out:
 
-	up(&inode->i_sem);
+//	up(&inode->i_sem); <- it's a pipe-bug
 	return err;
 fail_write:
 	status = -EFAULT;
