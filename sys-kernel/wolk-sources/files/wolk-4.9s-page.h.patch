--- include/asm-i386/page.h.orig	2003-09-03 18:37:01.000000000 +0200
+++ include/asm-i386/page.h	2003-09-03 20:12:28.000000000 +0200
@@ -85,13 +85,14 @@
  * as well as fixmap mappings.
  */
 #define __VMALLOC_RESERVE_MIN		(32 << 20)
-#define __VMALLOC_RESERVE_DEFAULT	(128 << 20)
-#define __VMALLOC_RESERVE_MAX		(480 << 20)
+#define __VMALLOC_RESERVE_DEFAULT	(192 << 20)
+#define __VMALLOC_RESERVE_MAX		(800 << 20)
 #define __RESERVED_AREA			(10 << 20)
 
-
 #ifndef __ASSEMBLY__
 
+extern unsigned long vmalloc_reserve;
+
 /*
  * Tell the user there is some problem. Beep too, so we can
  * see^H^H^Hhear bugs in early bootup as well!
