--- linux-2.4.22/fs/jfs/jfs_logmgr.c.jfs-sec	2004-03-23 12:30:35.000000000 -0700
+++ linux-2.4.22/fs/jfs/jfs_logmgr.c	2004-03-23 13:01:51.000000000 -0700
@@ -1693,7 +1693,7 @@
 		if (lbuf == 0)
 			goto error;
 		lbuf->l_bh.b_data = lbuf->l_ldata =
-		    (char *) __get_free_page(GFP_KERNEL);
+		    (char *) get_zeroed_page(GFP_KERNEL);
 		if (lbuf->l_ldata == 0) {
 			kfree(lbuf);
 			goto error;
--- linux-2.4.20/fs/jfs/jfs_metapage.c	2002-11-28 23:53:15.000000000 +0000
+++ linux-2.4.20/fs/jfs/jfs_metapage.c.plasmaroo	2004-05-29 13:36:44.575503152 +0100
@@ -379,6 +379,10 @@
 		}
 		mp->data = kmap(mp->page) + page_offset;
 	}
+
+	if(new)
+		memset(mp->data, 0, PSIZE);
+
 	jFYI(1, ("__get_metapage: returning = 0x%p\n", mp));
 	return mp;
 
--- linux-2.4.20/fs/jfs/super.c	2002-11-28 23:53:15.000000000 +0000
+++ linux-2.4.20/fs/jfs/super.c.plasmaroo	2004-05-29 13:39:36.898306104 +0100
@@ -373,6 +373,7 @@
 
 	if ((flags & (SLAB_CTOR_VERIFY | SLAB_CTOR_CONSTRUCTOR)) ==
 	    SLAB_CTOR_CONSTRUCTOR) {
+		memset(jfs_ip, 0, sizeof(struct jfs_inode_info));
 		INIT_LIST_HEAD(&jfs_ip->anon_inode_list);
 		INIT_LIST_HEAD(&jfs_ip->mp_list);
 		init_rwsem(&jfs_ip->rdwrlock);
