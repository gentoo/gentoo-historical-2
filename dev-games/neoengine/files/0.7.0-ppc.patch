diff -Naur neoengine-0.7.0.orig/neoengine/core.cpp neoengine-0.7.0/neoengine/core.cpp
--- neoengine-0.7.0.orig/neoengine/core.cpp	2004-01-22 21:53:18.000000000 +0100
+++ neoengine-0.7.0/neoengine/core.cpp	2004-03-22 10:55:49.000000000 +0100
@@ -55,11 +55,11 @@
 #  include <windows.h>
 #  include <winsock2.h>
 #  undef ERROR
-#elif defined(POSIX) || defined(__APPLE__)
+#elif defined(POSIX) || defined(ARCH_PPC)
 #  include <sys/time.h>
 #endif
 
-#ifdef __APPLE__
+#ifdef ARCH_PPC
 #  include <sys/sysctl.h>
 #endif
 
@@ -102,7 +102,7 @@
 
 
 Core::Core() :
-#ifdef __APPLE__
+#ifdef ARCH_PPC
 	m_iHasAltiVec( 0 ),
 #endif
 
@@ -142,7 +142,7 @@
 #ifdef WIN32
 	QueryPerformanceCounter( (LARGE_INTEGER*)&Timer::s_uliOldHeartbeatClock );
 	QueryPerformanceFrequency( (LARGE_INTEGER*)&Timer::s_uliDivisor );
-#elif defined(POSIX) || defined(__APPLE__)
+#elif defined(POSIX) || defined(ARCH_PPC)
 	timeval tv;
 
 	gettimeofday( &tv, 0 );
@@ -287,7 +287,7 @@
 	       << ( m_iHas3DNow ? "3DNow " : "" )
 	       << ( m_iHas3DNowEx ? "3DNowEx " : "" ) << endl;
 
-#elif defined(ARCH_PPC)
+#elif defined(__APPLE__)
 
 	int aiSel[2]    = { CTL_HW, HW_VECTORUNIT };
 	int iHasVecUnit = 0;
@@ -356,7 +356,7 @@
 			neolog << LogLevel( DEBUG ) << "  ... setting working directory to [" << strPath << "]" << endl;
 #ifdef WIN32
 			SetCurrentDirectory( strPath.c_str() );
-#elif defined(POSIX) || defined(__APPLE__)
+#elif defined(POSIX) || defined(ARCH_PPC)
 			chdir( strPath.c_str() );
 #endif
 		}
diff -Naur neoengine-0.7.0.orig/neoengine/core.h neoengine-0.7.0/neoengine/core.h
--- neoengine-0.7.0.orig/neoengine/core.h	2004-01-21 09:40:51.000000000 +0100
+++ neoengine-0.7.0/neoengine/core.h	2004-03-22 10:55:15.000000000 +0100
@@ -121,7 +121,7 @@
 #endif
 
 
-#ifdef __APPLE__
+#ifdef ARCH_PPC
 
 		/*! Flag indicating AltiVec support in CPU */
 		int                                           m_iHasAltiVec;
