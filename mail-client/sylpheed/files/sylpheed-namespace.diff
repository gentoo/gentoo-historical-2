diff -urN sylpheed-0.9.11.orig/src/imap.c sylpheed-0.9.11/src/imap.c
--- sylpheed-0.9.11.orig/src/imap.c	2004-02-16 17:27:14.000000000 +0900
+++ sylpheed-0.9.11/src/imap.c	2004-05-30 13:30:39.716248703 +0900
@@ -2328,6 +2328,11 @@
 	    folder->ns_shared   != NULL)
 		return;
 
+	if (!imap_has_capability(session, "NAMESPACE")) {
+		imap_get_namespace_by_list(session, folder);
+		return;
+	}
+
 	if (imap_cmd_namespace(session, &ns_str) != IMAP_SUCCESS) {
 		log_warning(_("can't get namespace\n"));
 		imap_get_namespace_by_list(session, folder);
