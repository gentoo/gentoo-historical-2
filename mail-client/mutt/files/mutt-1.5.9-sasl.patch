--- mutt-1.5.9/configure.in.sasl	2005-08-11 19:39:15.000000000 -0400
+++ mutt-1.5.9/configure.in	2005-08-11 19:39:41.499356683 -0400
@@ -645,13 +645,13 @@
 
 AC_ARG_WITH(sasl, AC_HELP_STRING([--with-sasl[=PFX]], [Use Cyrus SASL library for POP/IMAP authentication]),
         [
-        if test "$need_socket" != "yes"
-        then
-          AC_MSG_ERROR([SASL support is only useful with POP or IMAP support])
-        fi
-
         if test "$with_sasl" != "no"
         then
+          if test "$need_socket" != "yes"
+          then
+            AC_MSG_ERROR([SASL support is only useful with POP or IMAP support])
+          fi
+
           if test "$with_sasl" != "yes"
           then
             CPPFLAGS="$CPPFLAGS -I$with_sasl/include"
@@ -675,13 +675,13 @@
 
 AC_ARG_WITH(sasl2, AC_HELP_STRING([--with-sasl2[=PFX]], [Use Cyrus SASL library version 2 for POP/IMAP authentication]),
         [
-        if test "$need_socket" != "yes"
-        then
-          AC_MSG_ERROR([SASL support is only useful with POP or IMAP support])
-        fi
-
         if test "$with_sasl2" != "no"
         then
+          if test "$need_socket" != "yes"
+          then
+            AC_MSG_ERROR([SASL support is only useful with POP or IMAP support])
+          fi
+
           if test "$with_sasl2" != "yes"
           then
             CPPFLAGS="$CPPFLAGS -I$with_sasl2/include"
