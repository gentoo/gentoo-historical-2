diff -urN slmdm-2.7.14-old/Makefile slmdm-2.7.14/Makefile
--- slmdm-2.7.14-old/Makefile	2003-10-28 21:03:26.000000000 -0500
+++ slmdm-2.7.14/Makefile	2003-10-28 21:03:37.000000000 -0500
@@ -15,7 +15,7 @@
 
 
 # Tools
-CC      := gcc
+CC      := ${CC}
 LD      := ld
 INSTALL := install
 DEPMOD  := /sbin/depmod
@@ -32,6 +32,7 @@
 -include debug.mk
 
 # Definitions
+prefix_dir = ${D}
 MODULES_DIR  = /lib/modules/$(shell ./kernel-ver)/misc
 MODEM_DEV   := ttySL0
 MODEM_LINK  := modem
@@ -50,7 +51,7 @@
 
 
 # C FLAGS
-CFLAGS:= -Wall -O3 -fomit-frame-pointer -D__KERNEL__ -DMODULE -DEXPORT_SYMTAB $(INCLUDES) $(MODVERSIONS_FLAGS)
+CFLAGS:= ${CFLAGS} -D__KERNEL__ -DMODULE -DEXPORT_SYMTAB $(INCLUDES) $(MODVERSIONS_FLAGS)
 #CFLAGS:= -Wall -O3 -fomit-frame-pointer -DMODEM_DEBUG=$(DEBUG) -D__KERNEL__ -DMODULE -DEXPORT_SYMTAB $(INCLUDES) $(MODVERSIONS_FLAGS)
 ifdef DEBUG
 CFLAGS += -DMODEM_DEBUG=$(DEBUG)
@@ -101,10 +102,10 @@
 	$(INSTALL) -D -m 644 slamrmo.o $(prefix_dir)/$(MODULES_DIR)/slamrmo.o
 	$(INSTALL) -D -m 644 slusb.o $(prefix_dir)/$(MODULES_DIR)/slusb.o
 	$(INSTALL) -D -m 755 country.dat $(prefix_dir)/etc/country.dat
-	$(INSTALL) -d $(prefix_dir)/dev
-	$(RM) -f $(prefix_dir)/dev/$(MODEM_DEV)
-	$(MKNOD) -m 666  $(prefix_dir)/dev/$(MODEM_DEV) c 212 0
-	$(LN) -sf ./$(MODEM_DEV)  $(prefix_dir)/dev/$(MODEM_LINK)
+#	$(INSTALL) -d $(prefix_dir)/dev
+#	$(RM) -f $(prefix_dir)/dev/$(MODEM_DEV)
+#	$(MKNOD) -m 666  $(prefix_dir)/dev/$(MODEM_DEV) c 212 0
+#	$(LN) -sf ./$(MODEM_DEV)  $(prefix_dir)/dev/$(MODEM_LINK)
 
 uninstall: kernel-ver cleanup-config unload-modules
 	$(RM) -f $(prefix_dir)/$(MODULES_DIR)/slmdm.o
