diff -Nru modem.orig/Makefile modem/Makefile
--- modem.orig/Makefile	2005-11-01 17:33:34.000000000 +0200
+++ modem/Makefile	2006-04-22 14:26:58.693947250 +0300
@@ -16,7 +16,7 @@
 CC:= gcc
 RM:= rm -f
 
-CFLAGS+= -Wall -g -O -I. -DCONFIG_DEBUG_MODEM
+CFLAGS+= -Wall -g -I. -DCONFIG_DEBUG_MODEM
 
 
 modem-objs:= \
@@ -33,13 +33,13 @@
 
 #SUPPORT_ALSA:=1
 ifdef SUPPORT_ALSA
-slmodemd: -lasound
+
 CFLAGS+= -DSUPPORT_ALSA=1
-LFLAGS+= -lasound
+LDLIBS+= -lasound
 endif
 
 slmodemd modem_test:
-	$(CC) $(LFLAGS) -o $@ $^
+	$(CC) $(LDFLAGS) -o $@ $^ $(LDLIBS)
 
 clean:
 	$(RM) slmodemd modem_test modem_main.o modem_cmdline.o modem_test.o $(modem-objs) $(dp-objs) $(sysdep-objs)
