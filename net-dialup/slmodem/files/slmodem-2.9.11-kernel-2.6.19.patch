diff -Nru work.orig/slmodem-2.9.11-20061021/drivers/amrmo_init.c work/slmodem-2.9.11-20061021/drivers/amrmo_init.c
--- work.orig/slmodem-2.9.11-20061021/drivers/amrmo_init.c	2006-12-20 20:26:38.000000000 +0200
+++ work/slmodem-2.9.11-20061021/drivers/amrmo_init.c	2006-12-20 20:28:01.000000000 +0200
@@ -43,9 +43,11 @@
 
 /*****************************************************************************/
 
-#include <linux/config.h>
-#include <linux/module.h>
 #include <linux/version.h>
+#if LINUX_VERSION_CODE <= KERNEL_VERSION(2,6,18)
+#	include <linux/config.h>
+#endif
+#include <linux/module.h>
 #include <linux/init.h>
 #include <linux/pci.h>
 #include <linux/kernel.h>
diff -Nru work.orig/ungrab-winmodem/ungrab-winmodem.c work/ungrab-winmodem/ungrab-winmodem.c
--- work.orig/ungrab-winmodem/ungrab-winmodem.c	2006-12-20 20:26:38.000000000 +0200
+++ work/ungrab-winmodem/ungrab-winmodem.c	2006-12-20 20:28:19.000000000 +0200
@@ -11,9 +11,11 @@
  *
  */
 
-#include <linux/config.h>
-#include <linux/module.h>
 #include <linux/version.h>
+#if LINUX_VERSION_CODE <= KERNEL_VERSION(2,6,18)
+#	include <linux/config.h>
+#endif
+#include <linux/module.h>
 #include <linux/init.h>
 #include <linux/pci.h>
 #include <linux/kernel.h>
