--- pppd/tty.c.	Wed Jul 31 15:26:47 2002
+++ pppd/tty.c	Wed Jul 31 15:27:04 2002
@@ -745,7 +745,7 @@
 	if (tty_mode != (mode_t) -1) {
 		if (fchmod(real_ttyfd, tty_mode) != 0) {
 			/* XXX if devnam is a symlink, this will change the link */
-			chmod(devnam, tty_mode);
+			fchmod(ttyfd, tty_mode);
 		}
 	}
 
