diff -Nuar ppp-2.4.3_old/chat/Makefile.linux ppp-2.4.3/chat/Makefile.linux
--- ppp-2.4.3_old/chat/Makefile.linux	2004-11-03 12:51:47.000000000 +0100
+++ ppp-2.4.3/chat/Makefile.linux	2004-11-24 00:01:06.606425768 +0100
@@ -10,7 +10,6 @@
 CDEF4=	-DFNDELAY=O_NDELAY		# Old name value
 CDEFS=	$(CDEF1) $(CDEF2) $(CDEF3) $(CDEF4)
 
-COPTS=	-O2 -g -pipe
 CFLAGS=	$(COPTS) $(CDEFS)
 
 INSTALL= install
diff -Nuar ppp-2.4.3_old/pppd/Makefile.linux ppp-2.4.3/pppd/Makefile.linux
--- ppp-2.4.3_old/pppd/Makefile.linux	2004-11-24 00:00:00.255512640 +0100
+++ ppp-2.4.3/pppd/Makefile.linux	2004-11-24 00:01:07.017363296 +0100
@@ -32,7 +32,7 @@
 
 # CC = gcc
 #
-COPTS = -O2 -pipe -Wall -g
+COPTS+= -Wall
 LIBS =
 
 # Uncomment the next 2 lines to include support for Microsoft's
diff -Nuar ppp-2.4.3_old/pppd/plugins/Makefile.linux ppp-2.4.3/pppd/plugins/Makefile.linux
--- ppp-2.4.3_old/pppd/plugins/Makefile.linux	2004-11-14 08:57:35.000000000 +0100
+++ ppp-2.4.3/pppd/plugins/Makefile.linux	2004-11-24 00:01:06.618423944 +0100
@@ -1,5 +1,4 @@
 CC	= gcc
-COPTS	= -O2 -g
 CFLAGS	= $(COPTS) -I.. -I../../include -fPIC
 LDFLAGS	= -shared
 INSTALL	= install
diff -Nuar ppp-2.4.3_old/pppd/plugins/pppoatm/Makefile.linux ppp-2.4.3/pppd/plugins/pppoatm/Makefile.linux
--- ppp-2.4.3_old/pppd/plugins/pppoatm/Makefile.linux	2004-11-14 02:12:10.000000000 +0100
+++ ppp-2.4.3/pppd/plugins/pppoatm/Makefile.linux	2004-11-24 00:01:06.961371808 +0100
@@ -1,5 +1,4 @@
 CC	= gcc
-COPTS	= -O2 -g
 CFLAGS	= $(COPTS) -I../.. -I../../../include -fPIC
 LDFLAGS	= -shared
 INSTALL	= install
@@ -33,7 +32,7 @@
 all: $(PLUGIN)
 
 $(PLUGIN): $(PLUGIN_OBJS)
-	$(CC) $(CFLAGS) -o $@ -shared $^ $(LIBS)
+	$(CC) $(LDFLAGS) $(CFLAGS) -o $@ -shared $^ $(LIBS)
 
 install: all
 	$(INSTALL) -d -m 755 $(LIBDIR)
diff -Nuar ppp-2.4.3_old/pppd/plugins/radius/Makefile.linux ppp-2.4.3/pppd/plugins/radius/Makefile.linux
--- ppp-2.4.3_old/pppd/plugins/radius/Makefile.linux	2004-11-14 08:02:31.000000000 +0100
+++ ppp-2.4.3/pppd/plugins/radius/Makefile.linux	2004-11-24 00:01:06.623423184 +0100
@@ -12,7 +12,7 @@
 INSTALL	= install
 
 PLUGIN=radius.so radattr.so radrealms.so
-CFLAGS=-I. -I../.. -I../../../include -O2 -fPIC -DRC_LOG_FACILITY=LOG_DAEMON
+CFLAGS=$(COPTS) -I. -I../.. -I../../../include -fPIC -DRC_LOG_FACILITY=LOG_DAEMON
 
 # Uncomment the next line to include support for Microsoft's
 # MS-CHAP authentication protocol.
diff -Nuar ppp-2.4.3_old/pppd/plugins/rp-pppoe/Makefile.linux ppp-2.4.3/pppd/plugins/rp-pppoe/Makefile.linux
--- ppp-2.4.3_old/pppd/plugins/rp-pppoe/Makefile.linux	2004-11-14 08:58:37.000000000 +0100
+++ ppp-2.4.3/pppd/plugins/rp-pppoe/Makefile.linux	2004-11-24 00:01:06.963371504 +0100
@@ -24,7 +24,6 @@
 # Version is set ONLY IN THE MAKEFILE!  Don't delete this!
 VERSION=3.3
 
-COPTS=-O2 -g
 CFLAGS=$(COPTS) -I../../../include/linux
 all: rp-pppoe.so pppoe-discovery
 
@@ -35,7 +34,7 @@
 	$(CC) $(CFLAGS) '-DVERSION="$(VERSION)"' -c -o pppoe-discovery.o pppoe-discovery.c
 
 rp-pppoe.so: libplugin.a plugin.o
-	$(CC) -o rp-pppoe.so -shared plugin.o libplugin.a
+	$(CC) $(LDFLAGS) -o rp-pppoe.so -shared plugin.o libplugin.a
 
 install: all
 	$(INSTALL) -d -m 755 $(LIBDIR)
diff -Nuar ppp-2.4.3_old/pppdump/Makefile.linux ppp-2.4.3/pppdump/Makefile.linux
--- ppp-2.4.3_old/pppdump/Makefile.linux	2004-10-31 02:36:52.000000000 +0200
+++ ppp-2.4.3/pppdump/Makefile.linux	2004-11-24 00:05:01.100777208 +0100
@@ -2,7 +2,7 @@
 BINDIR = $(DESTDIR)/sbin
 MANDIR = $(DESTDIR)/share/man/man8
 
-CFLAGS= -O -I../include/net
+CFLAGS=$(COPTS) -I../include/net
 OBJS = pppdump.o bsd-comp.o deflate.o zlib.o
 
 INSTALL= install
@@ -10,7 +10,7 @@
 all:	pppdump
 
 pppdump: $(OBJS)
-	$(CC) -o pppdump $(OBJS)
+	$(CC) $(LDFLAGS) -o pppdump $(OBJS)
 
 clean:
 	rm -f pppdump $(OBJS) *~
diff -Nuar ppp-2.4.3_old/pppstats/Makefile.linux ppp-2.4.3/pppstats/Makefile.linux
--- ppp-2.4.3_old/pppstats/Makefile.linux	2004-10-31 23:09:03.000000000 +0100
+++ ppp-2.4.3/pppstats/Makefile.linux	2004-11-24 00:04:01.848784880 +0100
@@ -10,7 +10,6 @@
 PPPSTATOBJS = pppstats.o
 
 #CC = gcc
-COPTS = -O
 COMPILE_FLAGS = -I../include
 LIBS =
 
@@ -26,7 +25,7 @@
 	$(INSTALL) -c -m 444 pppstats.8 $(MANDIR)
 
 pppstats: $(PPPSTATSRCS)
-	$(CC) $(CFLAGS) -o pppstats pppstats.c $(LIBS)
+	$(CC) $(CFLAGS) $(LDFLAGS) -o pppstats pppstats.c $(LIBS)
 
 clean:
 	rm -f pppstats *~ #* core
