diff -ruN wvdial-1.54.0/Makefile wvdial-1.54.0.makefile/Makefile
--- wvdial-1.54.0/Makefile	2003-11-14 14:46:13.000000000 -0500
+++ wvdial-1.54.0.makefile/Makefile	2004-02-14 04:28:20.754534496 -0500
@@ -1,15 +1,13 @@
-ifeq ($(TOPDIR),)
-  TOPDIR=.
-  PKGINC=/usr/include/wvstreams /usr/local/include/wvstreams
-  LIBS := $(LIBS) \
+TOPDIR=.
+PKGINC=/usr/include/wvstreams /usr/local/include/wvstreams
+LIBS := $(LIBS) \
 		$(shell $(CC) -lsupc++ 2>&1 | grep -q "undefined reference" \
 			&& echo " -lsupc++")
-endif
 
-PREFIX=/usr/local
+PREFIX=${DESTDIR}/usr
 BINDIR=${PREFIX}/bin
 MANDIR=${PREFIX}/share/man
-PPPDIR=/etc/ppp/peers
+PPPDIR=${DESTDIR}/etc/ppp/peers
 
 include $(TOPDIR)/wvrules.mk
 
@@ -21,7 +19,7 @@
 wvdial.a: wvdialer.o wvdialtext.o wvmodemscan.o wvpapchap.o wvdialbrain.o \
 	wvdialmon.o
 
-LIBS += -L../wvstreams -lwvutils -lwvstreams
+LIBS += -L../wvstreams -lwvutils -lwvstreams -ldb
 
 wvdial wvdialconf papchaptest pppmon: wvdial.a
