diff -ur Makefile.in Makefile.in
--- Makefile.in	2003-11-28 02:29:42.000000000 +1300
+++ Makefile.in	2003-11-28 02:47:26.000000000 +1300
@@ -132,7 +132,7 @@
 target_alias = @target_alias@
 spooldir = @localstatedir@/spool/capisuite
 pkgsysconfdir = @sysconfdir@/capisuite
-doc_DATA = COPYING NEWS README
+doc_DATA =
 EXTRA_DIST = rc.capisuite.in capisuite.cronin cronjob.conf
 
 SUBDIRS = src scripts docs
diff -ur docs/Makefile.in docs/Makefile.in
--- docs/Makefile.in	2003-11-28 02:29:42.000000000 +1300
+++ docs/Makefile.in	2003-11-28 02:38:06.000000000 +1300
@@ -322,9 +322,6 @@
 		$(mkinstalldirs) $(DESTDIR)$(docdir) ; \
 		cp -r manual $(DESTDIR)$(docdir)/ ; \
 	fi
-	if test -f manual.pdf; then \
-		cp manual.pdf $(DESTDIR)$(docdir)/ ; \
-	fi
 
 uninstall-local:
 	rm -rf $(DESTDIR)$(docdir) 
diff -ur scripts/Makefile.in scripts/Makefile.in
--- scripts/Makefile.in	2003-11-28 02:29:42.000000000 +1300
+++ scripts/Makefile.in	2003-11-28 02:48:43.000000000 +1300
@@ -133,7 +133,7 @@
 spooldir = @localstatedir@/spool/capisuite
 pkgsysconfdir = @sysconfdir@/capisuite
 
-dist_pkglib_DATA = idle.py incoming.py README
+dist_pkglib_DATA = idle.py incoming.py
 python_module_DATA = cs_helpers.py
 EXTRA_DIST = cs_helpers.pyin fax.confin answering_machine.confin capisuitefax.in
 
diff -ur scripts/waves/Makefile.in scripts/waves/Makefile.in
--- scripts/waves/Makefile.in	2003-11-28 02:29:42.000000000 +1300
+++ scripts/waves/Makefile.in	2003-11-28 04:09:31.000000000 +1300
@@ -138,7 +138,7 @@
 	bitte-neue-ansage-komplett.la neue-ansage-lautet.la wenn-einverstanden-1.la \
 	bitte-neue-ansage-kurz.la ansage-gespeichert.la und.la ein.la 10.la 11.la \
 	12.la 13.la 14.la 15.la 16.la 17.la 18.la 19.la 20.la 30.la 40.la 50.la 60.la \
-	70.la 80.la 90.la fernabfrage-aktiv.la unbekannt.la +.la README
+	70.la 80.la 90.la fernabfrage-aktiv.la unbekannt.la +.la
 
 subdir = scripts/waves
 mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs

diff -ur acinclude.m4 acinclude.m4
--- acinclude.m4      2003-11-28 02:29:42.000000000 +1300
+++ acinclude.m4       2004-08-11 00:04:41.152302480 +0200
@@ -39,6 +39,19 @@
 )
 ]) dnl CS_TEST_GCC

+AC_DEFUN([CS_TEST_CAPI4LINUX],
+[AC_MSG_CHECKING([for new ALERT_REQ signature in capiutils.h])
+AC_TRY_COMPILE([#include <capiutils.h>],
+  [ALERT_REQ (NULL, 0, 0, 0, NULL, NULL, NULL, NULL, NULL);],
+  [
+    AC_DEFINE([HAVE_NEW_CAPI4LINUX],1,[we have new ALERT_REQ implementation])
+    AC_MSG_RESULT([yes])
+  ],
+  AC_MSG_RESULT([no])
+)
+]) dnl CS_TEST_CAPI4LINUX
+
+
 # PGAC_CHECK_PYTHON_DIRS
 # -----------------------
 # Determine the name of various directory of a given Python installation.

diff -ur configure.in configure.in
--- configure.in      2003-11-28 02:29:42.000000000 +1300
+++ configure.in       2004-08-11 00:04:41.152302480 +0200
@@ -16,6 +16,7 @@
 AC_HEADER_TIME

 CS_TEST_GCC3
+CS_TEST_CAPI4LINUX

 CS_SET_DOCDIR

--- src/backend/capi.cpp	2003-11-06 19:32:15.000000000 +0100
+++ src/backend/capi.cpp	2004-08-11 00:07:42.672707184 +0200
@@ -19,6 +19,7 @@
 #include "connection.h"
 #include "applicationinterface.h"
 #include "capi.h"
+#include "../../config.h"
 
 void* capi_exec_handler(void* arg)
 {
@@ -117,7 +118,12 @@
 	if (debug_level >= 2) {
 	    	debug << prefix() << ">ALERT_REQ: ApplId 0x" << hex << applId << ", MsgNr 0x" << messageNumber << ", PLCI 0x" << plci << endl;
 	}
-	unsigned info=ALERT_REQ(&CMSG, applId, messageNumber++, plci, NULL, NULL, NULL, NULL);
+	unsigned info=ALERT_REQ(&CMSG, applId, messageNumber++, plci,
+		NULL, NULL, NULL, NULL
+	#ifdef HAVE_NEW_CAPI4LINUX
+		, NULL
+	#endif
+		);
 	if (debug_level >= 2) {
 	    	debug << prefix() << "info: " << info << endl;
 	}
