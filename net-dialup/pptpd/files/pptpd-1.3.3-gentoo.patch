diff -Nru pptpd-1.3.3.orig/Makefile.am pptpd-1.3.3/Makefile.am
--- pptpd-1.3.3.orig/Makefile.am	2006-08-03 05:00:50.000000000 +0300
+++ pptpd-1.3.3/Makefile.am	2006-09-07 13:08:44.000000000 +0300
@@ -11,7 +11,7 @@
 ##  warning with -Wmissing-prototypes).
 ## -Wmissing-prototypes removed (eg, Linux 2.2.6 headers
 ##  aren't up to it).
-CFLAGS = -O2 -fno-builtin -Wall -DSBINDIR='"$(sbindir)"'
+CFLAGS += -fno-builtin -Wall -DSBINDIR='"$(sbindir)"'
 #CFLAGS = -O2 -fno-builtin -Wall -ansi -DSBINDIR='"$(sbindir)"'
 #CFLAGS = -O2 -fno-builtin -Wall -ansi -pedantic -Wmissing-prototypes -Werror -DSBINDIR='"$(sbindir)"'
 
diff -Nru pptpd-1.3.3.orig/plugins/Makefile pptpd-1.3.3/plugins/Makefile
--- pptpd-1.3.3.orig/plugins/Makefile	2006-08-03 05:02:01.000000000 +0300
+++ pptpd-1.3.3/plugins/Makefile	2006-09-07 13:08:44.000000000 +0300
@@ -1,6 +1,5 @@
 CC	= gcc
-COPTS	= -O2 -g
-CFLAGS	= $(COPTS) -I.. -I../../include -fPIC
+CFLAGS	+= -I.. -I../../include -fPIC
 LDFLAGS	= -shared
 LDADD   = -lutil
 INSTALL	= install -o root
diff -Nru pptpd-1.3.3.orig/pptpgre.c pptpd-1.3.3/pptpgre.c
--- pptpd-1.3.3.orig/pptpgre.c	2006-03-28 00:39:05.000000000 +0300
+++ pptpd-1.3.3/pptpgre.c	2006-09-07 13:08:02.000000000 +0300
@@ -405,9 +405,11 @@
 		}
 		/* check for out-of-order sequence number */
 		if (seq_greater(seq, gre.seq_recv)) {
+#ifdef LOG_DEBUG_GRE_ACCEPTING_PACKET
 			if (pptpctrl_debug)
 				syslog(LOG_DEBUG, "GRE: accepting packet #%d", 
 				       seq);
+#endif
 			stats.rx_accepted++;
 			gre.seq_recv = seq;
 			return cb(cl, buffer + ip_len + headersize, payload_len);
diff -Nru pptpd-1.3.3.orig/pqueue.c pptpd-1.3.3/pqueue.c
--- pptpd-1.3.3.orig/pqueue.c	2005-08-03 11:53:22.000000000 +0300
+++ pptpd-1.3.3/pqueue.c	2006-09-07 13:28:02.000000000 +0300
@@ -7,13 +7,11 @@
 #include "pqueue.h"
 
 #ifdef DEBUG_PQUEUE
-#define DEBUG_ON 1
+#	define DEBUG_CMD(_a) { _a }
 #else
-#define DEBUG_ON 0
+#	define DEBUG_CMD(_a)
 #endif
 
-#define DEBUG_CMD(_a) if (DEBUG_ON) { _a }
-
 #define MIN_CAPACITY 128 /* min allocated buffer for a packet */
 
 static int pqueue_alloc (int seq, unsigned char *packet, int packlen, pqueue_t **new);
