diff -Nur xchat-gnome-0.9.orig/configure.ac xchat-gnome-0.9/configure.ac
--- xchat-gnome-0.9.orig/configure.ac	2006-01-19 22:54:01.000000000 +0000
+++ xchat-gnome-0.9/configure.ac	2006-02-19 17:57:55.394803381 +0000
@@ -104,21 +104,42 @@
 
 AM_CONDITIONAL([ENABLE_DBUS],[test "x$dbus" = "xyes"])
 
+AC_ARG_ENABLE([libsexy],
+	AS_HELP_STRING([--enable-libsexy],[Enable libsexy support]),
+	[enable_libsexy=$enableval libsexy=$enableval],
+	[enable_libsexy=no libsexy=no])
+
 # libsexy soft dependency
-PKG_CHECK_MODULES([LIBSEXY], [libsexy >= $LIBSEXY_REQUIRED], libsexy=yes, libsexy=no)
-AC_SUBST([LIBSEXY_CFLAGS])
-AC_SUBST([LIBSEXY_LIBS])
+if test "x$enable_libsexy" = "xyes"; then
+	PKG_CHECK_MODULES([LIBSEXY], [libsexy >= $LIBSEXY_REQUIRED], libsexy=yes, libsexy=no)
+	AC_SUBST([LIBSEXY_CFLAGS])
+	AC_SUBST([LIBSEXY_LIBS])
+fi
+
 AM_CONDITIONAL([ENABLE_LIBSEXY],[test "x$libsexy" = "xyes"])
-if test "x$libsexy" = xyes; then
-	AC_DEFINE(HAVE_LIBSEXY, 1, [Enable libsexy])
+
+if test "x$enable_libsexy" = "xyes" && test "x$libsexy" != "xyes"; then
+	AC_MSG_ERROR([libsexy not found])
 fi
 
+AC_ARG_ENABLE([libnotify],
+	AS_HELP_STRING([--enable-libnotify],[Enable libnotify support]),
+	[enable_libnotify=$enableval libnotify=$enableval],
+	[enable_libnotify=no libnotify=no])
+
 # libnotify soft dependency
-PKG_CHECK_MODULES([LIBNOTIFY], [libnotify >= $LIBNOTIFY_REQUIRED], libnotify=yes, libnotify=no)
-AC_SUBST([LIBNOTIFY_CFLAGS])
-AC_SUBST([LIBNOTIFY_LIBS])
+if test "x$enable_libnotify" = "xyes"; then
+	PKG_CHECK_MODULES([LIBNOTIFY], [libnotify >= $LIBNOTIFY_REQUIRED], libnotify=yes, libnotify=no)
+	AC_SUBST([LIBNOTIFY_CFLAGS])
+	AC_SUBST([LIBNOTIFY_LIBS])
+fi
+
 AM_CONDITIONAL([ENABLE_LIBNOTIFY],[test "x$libnotify" = "xyes"])
 
+if test "x$enable_libnotify" = "xyes" && test "x$libnotify" != "xyes"; then
+	AC_MSG_ERROR([libnotify not found])
+fi
+
 # GConf
 AM_GCONF_SOURCE_2
 AC_PATH_PROG(GCONFTOOL, gconftool-2, no)
