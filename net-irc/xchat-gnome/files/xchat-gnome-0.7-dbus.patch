--- plugins/dbus/dbus-plugin.c	2005-11-05 16:30:37.000000000 +0000
+++ plugins/dbus/dbus-plugin.c	2005-12-09 19:31:39.000000000 +0000
@@ -19,17 +19,22 @@
  * x_claessens@skynet.be
  */
 
+#include <config.h>
 #include <dbus/dbus-glib.h>
 #include "xchat-plugin.h"
 #include <glib/gi18n.h>
 
 
-#define PNAME "xchat remote access"
-#define PDESC "plugin for remote access using DBUS";
+#define PNAME _("XChat-GNOME remote access")
+#define PDESC _("plugin for remote access using DBUS")
 #define PVERSION "0.5"
 
-#define DBUS_SERVICE "org.xchat.service"
-#define DBUS_OBJECT "/org/xchat/RemoteObject"
+#define DBUS_SERVICE "org.xchatgnome.service"
+#define DBUS_OBJECT "/org/xchatgnome/RemoteObject"
+
+void xchat_plugin_get_info(char **name, char **desc, char **version, void **reserved);
+int  xchat_plugin_deinit(void);
+int  xchat_plugin_init(xchat_plugin *plugin_handle, char **plugin_name, char **plugin_desc, char **plugin_version, char *arg);
 
 typedef struct RemoteObject RemoteObject;
 typedef struct RemoteObjectClass RemoteObjectClass;
@@ -274,7 +279,7 @@
 
   if (!dbus_g_proxy_call (bus_proxy, "RequestName", &error,
                           G_TYPE_STRING, DBUS_SERVICE,
-                          G_TYPE_UINT, DBUS_NAME_FLAG_PROHIBIT_REPLACEMENT,
+                          G_TYPE_UINT, 0,
                           G_TYPE_INVALID,
                           G_TYPE_UINT, &request_name_result,
                           G_TYPE_INVALID))
@@ -300,7 +305,7 @@
 }
 
 int
-xchat_plugin_deinit()
+xchat_plugin_deinit(void)
 {
   g_hash_table_destroy (hook_hash_table);
   /* TODO: Close all D-BUS stuff */
