diff -ur ray.orig/src/hd/Rmakefile ray/src/hd/Rmakefile
--- ray.orig/src/hd/Rmakefile	2003-12-15 16:52:34.000000000 +1300
+++ ray/src/hd/Rmakefile	2003-12-15 18:12:48.000000000 +1300
@@ -24,7 +24,7 @@
 
 all:	$(PROGS)
 
-install:	all $(DEVS) $(SPECIAL)
+install:	all $(SPECIAL)
 	cp $(PROGS) $(INSTDIR)
 
 clean:
@@ -74,7 +74,7 @@
 	rm -f $(DEVDIR)/x11h.hdi
 	ln $(DEVDIR)/x11.hdi $(DEVDIR)/x11h.hdi
 
-$(DEVDIR)/x11.hdi:	rhdisp.o rhdisp2.o viewbeams.o rhd_x11.o rhd_qtree.o \
+$(DEVDIR)/x11.hdi:	rhdisp.o rhdisp2.o viewbeams.o rhd_qtree.o \
 rhd_qtree2r.o rhd_ctab.o holo.o
 	$(CC) $(CFLAGS) -o $(DEVDIR)/x11.hdi rhdisp.o rhdisp2.o viewbeams.o \
 rhd_x11.o rhd_qtree.o rhd_qtree2r.o rhd_ctab.o holo.o -lrt -lX11 -lm
diff -ur ray.orig/src/meta/Rmakefile ray/src/meta/Rmakefile
--- ray.orig/src/meta/Rmakefile	2003-12-15 16:52:35.000000000 +1300
+++ ray/src/meta/Rmakefile	2003-12-15 18:02:14.000000000 +1300
@@ -32,7 +32,7 @@
 
 general:	$(INSTDIR)/meta2tga $(INSTDIR)/pexpand $(INSTDIR)/psort \
 $(INSTDIR)/cv $(INSTDIR)/psmeta $(INSTDIR)/plotin \
-$(INSTDIR)/x11meta ../lib/libmeta.a $(INSTDIR)/bgraph $(INSTDIR)/igraph \
+../lib/libmeta.a $(INSTDIR)/bgraph $(INSTDIR)/igraph \
 $(INSTDIR)/dgraph $(INSTDIR)/gcomp $(INSTDIR)/plot4
 
 special:	$(EXEC2)/mt160l $(EXEC2)/mt160 $(EXEC2)/mtext \
diff -ur ray.orig/src/px/Rmakefile ray/src/px/Rmakefile
--- ray.orig/src/px/Rmakefile	2003-12-15 16:52:34.000000000 +1300
+++ ray/src/px/Rmakefile	2003-12-15 16:56:41.000000000 +1300
@@ -20,7 +20,7 @@
 
 PROGS = pfilt ttyimage oki20c oki20 psign ra_tiff normtiff \
 pvalue pcompos protate ra_pr ra_pr24 ra_avs ra_hexbit \
-ra_t8 ra_bn ra_t16 pcomb pinterp pflip ra_ppm ximage xshowtrace \
+ra_t8 ra_bn ra_t16 pcomb pinterp pflip ra_ppm \
 ra_rgbe ra_pict ra_ps pextrem ra_gif ra_xyze macbethcal pcond pcwarp
 
 all:	$(PROGS) $(SPECIAL)
diff -ur ray.orig/src/rt/Rmakefile ray/src/rt/Rmakefile
--- ray.orig/src/rt/Rmakefile	2003-12-15 16:52:34.000000000 +1300
+++ ray/src/rt/Rmakefile	2003-12-15 16:53:39.000000000 +1300
@@ -34,11 +34,11 @@
 #
 # Device drivers for rview (see also devtable.c):
 #
-DOBJS = devtable.o devcomm.o editline.o x11.o x11twind.o \
+DOBJS = devtable.o devcomm.o editline.o \
 	colortab.o
-DSRC = devtable.c devcomm.c editline.c x11.c x11twind.c \
+DSRC = devtable.c devcomm.c editline.c \
 	colortab.c
-DLIBS = -lX11
+DLIBS = 
 
 #
 # Standard object files:
diff -ur ray.orig/src/rt/devtable.c ray/src/rt/devtable.c
--- ray.orig/src/rt/devtable.c	2003-12-15 16:52:34.000000000 +1300
+++ ray/src/rt/devtable.c	2003-12-15 16:55:23.000000000 +1300
@@ -11,13 +11,11 @@
 
 #include  "driver.h"
 
-char  dev_default[] = "x11";
-
-extern struct driver  *x11_init();
+char  dev_default[] = "sun";
 
 struct device  devtable[] = {			/* supported devices */
 	{"slave", "Slave driver", slave_init},
-	{"x11", "X11 color or greyscale display", x11_init},
-	{"x11d", "X11 display using stdin/stdout", x11_init},
+	{"x11", "X11 color or greyscale display", comm_init},
+	{"x11d", "X11 display using stdin/stdout", comm_init},
 	{0}					/* terminator */
 };
diff -ur ray.orig/src/util/Rmakefile ray/src/util/Rmakefile
--- ray.orig/src/util/Rmakefile	2003-12-15 16:52:35.000000000 +1300
+++ ray/src/util/Rmakefile	2003-12-15 16:57:16.000000000 +1300
@@ -18,7 +18,7 @@
 LIBDIR = /usr/local/lib/ray
 
 PROGS = findglare glarendx rpiece rad ranimate ranimove vwright getinfo \
-		vwrays xglaresrc
+		vwrays
 
 all:	$(PROGS)
 
