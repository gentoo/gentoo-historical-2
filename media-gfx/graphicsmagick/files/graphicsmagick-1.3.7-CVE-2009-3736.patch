--- ltdl/ltdl.c	2008-09-09 03:35:02.000000000 +0200
+++ ltdl/ltdl.c.oden	2009-11-19 16:20:03.000000000 +0100
@@ -529,7 +529,8 @@ find_module (lt_dlhandle *handle, const 
   /* Try to open the old library first; if it was dlpreopened,
      we want the preopened version of it, even if a dlopenable
      module is available.  */
-  if (old_name && tryall_dlopen (handle, old_name, advise, 0) == 0)
+  if (old_name && tryall_dlopen (handle, old_name,
+			  advise, lt_dlloader_find ("lt_preopen") ) == 0)
     {
       return 0;
     }
@@ -1345,7 +1346,7 @@ try_dlopen (lt_dlhandle *phandle, const 
 	    }
 #endif
 	}
-      if (!file)
+      else
 	{
 	  file = fopen (attempt, LT_READTEXT_MODE);
 	}
