*** dcraw.cc.orig	2007-11-12 11:47:31.000000000 -0800
--- dcraw.cc	2008-04-26 23:22:55.000000000 -0700
***************
*** 5943,5948 ****
--- 5943,5950 ----
  	{ 6018,-617,-965,-8645,15881,2975,-1530,1719,7642 } },
      { "Canon EOS 400D", 0,
  	{ 7054,-1501,-990,-8156,15544,2812,-1278,1414,7796 } },
+ 	{ "Canon EOS 450D", 0, 
+ 	{ 5784,-262,-821,-7539,15064,2672,-1982,2681,7427 } },
      { "Canon EOS-1Ds Mark II", 0,
  	{ 6517,-602,-867,-8180,15926,2378,-1618,1771,7633 } },
      { "Canon EOS-1D Mark II N", 0,
***************
*** 6718,6723 ****
--- 6720,6733 ----
      width  = 4032;
      top_margin  = 12;
      left_margin = 48;
+   } else if (is_canon && raw_width == 4312) {
+     top_margin  = 18;
+     left_margin = 22;
+     height -= 2;
+ 	maximum = 0x390d;
+     if (unique_id == 0x80000176)
+       adobe_coeff ("Canon","EOS 450D");
+     goto canon_cr2;
    } else if (is_canon && raw_width == 4476) {
      top_margin  = 34;
      left_margin = 90;

