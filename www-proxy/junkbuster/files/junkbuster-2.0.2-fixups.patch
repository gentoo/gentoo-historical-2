diff -Nru ijb20.orig/filters.c ijb20/filters.c
--- ijb20.orig/filters.c	2000-03-29 16:05:42.000000000 +0300
+++ ijb20/filters.c	2005-03-08 19:25:54.105567248 +0200
@@ -773,7 +773,7 @@
 
 			sprintf(out_str,
 				"%d requests received, %d filtered "
-				"(%6.2f \%).\0",
+				"(%6.2f %%).",
 				urls_read, urls_rejected+1, perc_rej);
 
 			s = strsav(s,out_str);
diff -Nru ijb20.orig/socks4.c ijb20/socks4.c
--- ijb20.orig/socks4.c	1998-10-30 23:58:48.000000000 +0200
+++ ijb20/socks4.c	2005-03-08 19:25:54.105567248 +0200
@@ -9,6 +9,7 @@
 #include <stdio.h>
 #include <sys/types.h>
 #include <errno.h>
+#include <string.h>
 
 #ifdef _WIN32
 #include <io.h>
@@ -56,7 +57,7 @@
 	unsigned char sbuf[BUFSIZ];
 	struct socks_op    *c = (struct socks_op    *)cbuf;
 	struct socks_reply *s = (struct socks_reply *)sbuf;
-	int web_server_addr;
+	int web_server_addr = 0;
 	int n, csiz, sfd, target_port;
 	int err = 0;
 	char *errstr, *target_host;
diff -Nru ijb20.orig/ssplit.c ijb20/ssplit.c
--- ijb20.orig/ssplit.c	1998-10-30 23:58:48.000000000 +0200
+++ ijb20/ssplit.c	2005-03-08 19:25:54.106567096 +0200
@@ -19,6 +19,9 @@
  */
 
 #include <string.h>
+#include <stdlib.h>
+
+extern void *zalloc(int);
 
 int ssplit(char *s, char *c, char *v[], int n, int m, int l)
 {
