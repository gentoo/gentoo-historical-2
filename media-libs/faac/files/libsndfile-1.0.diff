diff -urN faac/frontend/main.c faac-modified/frontend/main.c
--- faac/frontend/main.c	2002-11-05 23:02:47.000000000 -0600
+++ faac-modified/frontend/main.c	2002-11-05 23:13:01.000000000 -0600
@@ -219,7 +219,7 @@
     aacFileName = argv[optind++];
 
     /* open the audio input file */
-    infile = sf_open_read(audioFileName, &sfinfo);
+    infile = sf_open(audioFileName, SFM_READ, &sfinfo);
     if (infile == NULL)
     {
         fprintf(stderr, "Couldn't open input file %s\n", audioFileName);
@@ -263,7 +263,7 @@
 #ifdef _WIN32
         begin = GetTickCount();
 #endif
-        frames = (int)(sfinfo.samples/1024+0.5);
+        frames = (int)(sfinfo.frames/1024+0.5);
         currentFrame = 0;
 
         /* encoding loop */
diff -urN faac/include/faac.h faac-modified/include/faac.h
--- faac/include/faac.h	2002-11-05 23:02:47.000000000 -0600
+++ faac-modified/include/faac.h	2002-11-05 23:06:38.000000000 -0600
@@ -116,4 +116,5 @@
 }
 #endif /* __cplusplus */
 
-#endif /* FAACLIB_H */
\ No newline at end of file
+#endif /* FAACLIB_H */
+
diff -urN faac/libfaac/psych.h faac-modified/libfaac/psych.h
--- faac/libfaac/psych.h	2002-11-05 23:02:47.000000000 -0600
+++ faac-modified/libfaac/psych.h	2002-11-05 23:03:56.000000000 -0600
@@ -145,4 +145,5 @@
 }
 #endif /* __cplusplus */
 
-#endif /* PSYCH_H */
\ No newline at end of file
+#endif /* PSYCH_H */
+
