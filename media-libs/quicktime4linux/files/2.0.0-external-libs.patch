diff -ur work/quicktime4linux-2.0.0/Makefile work.new/quicktime4linux-2.0.0/Makefile
--- work/quicktime4linux-2.0.0/Makefile	2003-08-09 18:11:59.000000000 -0400
+++ work.new/quicktime4linux-2.0.0/Makefile	2003-10-02 04:36:06.296870072 -0400
@@ -9,11 +9,7 @@
 endif
 
 
-ifeq ($(origin CFLAGS), environment)
 HAVE_CFLAGS := y
-else
-HAVE_CFLAGS := n
-endif
 
 #ENCORE_DIR := encore2/src
 #DECORE_DIR := decore2/src
@@ -21,7 +17,8 @@
 DECORE_DIR := decore50
 ENCORE_INCLUDE := $(ENCORE_DIR)/encore.h
 DECORE_INCLUDE := $(DECORE_DIR)/decore.h
-MPEG3_DIR := $(shell expr ../libmpeg3* )
+MPEG3_DIR := /usr/include/libmpeg3
+LAME_DIR := /usr/include/lame
 OBJS := 
 
 
@@ -54,11 +51,11 @@
 
 
 
-include Makefile.jpeg
-include Makefile.vorbis
-include Makefile.ffmpeg
-include Makefile.lame
-include Makefile.dv
+#include Makefile.jpeg
+#include Makefile.vorbis
+#include Makefile.ffmpeg
+#include Makefile.lame
+#include Makefile.dv
 include Makefile.encore50
 
 
@@ -67,12 +64,13 @@
 
 
 #CFLAGS += -g
+CFLAGS = $(MYCFLAGS)
 CFLAGS += -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64
 CFLAGS += -DHAVE_FIREWIRE
 CFLAGS += -I. \
-	-I$(JPEG_DIR) \
+	-I/usr/include/ffmpeg \
 	-I$(MPEG3_DIR) \
-	-I$(LAME_DIR)/include \
+	-I$(LAME_DIR) \
 	$(shell glib-config --cflags)
 
 
@@ -227,7 +225,9 @@
 	$(OBJDIR)/$(ENCORE_DIR)/mbtransquant/intel_mmx
 
 
-LIBS := $(OUTPUT) $(MPEG3_DIR)/$(OBJDIR)/libmpeg3.a -lpng -lz -lpthread -lglib -ldl -lm
+LIBS := $(OUTPUT) \
+	-logg -lmpeg3 -lmp3lame -ldv -ljpeg -lvorbis -lvorbisenc -lavcodec \
+	-lpng -lz -lpthread -lglib -ldl -lm
 
 
 $(shell if ! test -d $(OBJDIR) \; then mkdir -p $(DIRS) \; fi )
