? default
? enterprise
? prakesh
Index: src/libw32dll/DirectShow/DS_VideoDecoder.c
===================================================================
RCS file: /cvsroot/xine/xine-lib/src/libw32dll/DirectShow/DS_VideoDecoder.c,v
retrieving revision 1.9
diff -u -B -r1.9 DS_VideoDecoder.c
--- src/libw32dll/DirectShow/DS_VideoDecoder.c	24 Dec 2003 16:55:36 -0000	1.9
+++ src/libw32dll/DirectShow/DS_VideoDecoder.c	10 Mar 2007 00:33:41 -0000
@@ -110,6 +110,7 @@
      
         this->iv.m_bh = (BITMAPINFOHEADER*)malloc(bihs);
         memcpy(this->iv.m_bh, format, bihs);
+        this->iv.m_bh->biSize = bihs;
 
         this->iv.m_State = STOP;
         //this->iv.m_pFrame = 0;
Index: src/libw32dll/dmo/DMO_VideoDecoder.c
===================================================================
RCS file: /cvsroot/xine/xine-lib/src/libw32dll/dmo/DMO_VideoDecoder.c,v
retrieving revision 1.4
diff -u -B -r1.4 DMO_VideoDecoder.c
--- src/libw32dll/dmo/DMO_VideoDecoder.c	24 Dec 2003 16:55:36 -0000	1.4
+++ src/libw32dll/dmo/DMO_VideoDecoder.c	10 Mar 2007 00:33:41 -0000
@@ -118,6 +118,7 @@
      
         this->iv.m_bh = (BITMAPINFOHEADER*)malloc(bihs);
         memcpy(this->iv.m_bh, format, bihs);
+        this->iv.m_bh->biSize = bihs;
 
         this->iv.m_State = STOP;
         //this->iv.m_pFrame = 0;
