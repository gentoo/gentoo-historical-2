diff -ruN libpano12-2.7.0.8.orig/configure.ac libpano12-2.7.0.8/configure.ac
--- libpano12-2.7.0.8.orig/configure.ac	2004-11-16 09:54:46.000000000 +0100
+++ libpano12-2.7.0.8/configure.ac	2005-03-07 10:14:01.580403000 +0100
@@ -54,12 +54,6 @@
 # AC_CHECK_LIB([comdlg32], [main])
 
 AX_CHECK_JAVA
-if test "x$have_java" != xyes; then
-    AC_MSG_ERROR([
-        java must be installed on your system
-        but configure could not find it.
-    ])
-fi
 
 AX_CHECK_ZLIB
 if test "x$have_zlib" != xyes; then
diff -ruN libpano12-2.7.0.8.orig/pteditor.c libpano12-2.7.0.8/pteditor.c
--- libpano12-2.7.0.8.orig/pteditor.c	2003-12-01 22:50:21.000000000 +0100
+++ libpano12-2.7.0.8/pteditor.c	2005-03-07 10:57:48.650028000 +0100
@@ -1,3 +1,5 @@
+#ifdef HasJava
+
 #include "filter.h"
 #include "pteditor.h"
 
@@ -346,4 +348,4 @@
 #endif
 }
 
-
+#endif
diff -ruN libpano12-2.7.0.8.orig/ptpicker.c libpano12-2.7.0.8/ptpicker.c
--- libpano12-2.7.0.8.orig/ptpicker.c	2004-07-20 05:52:06.000000000 +0200
+++ libpano12-2.7.0.8/ptpicker.c	2005-03-07 10:58:00.042296000 +0100
@@ -1,3 +1,5 @@
+#ifdef HasJava
+
 #include "filter.h"
 #include "ptutils.h"
 #include <locale.h>
@@ -1295,8 +1297,4 @@
 
 }
 
-
-
-
-
-
+#endif
diff -ruN libpano12-2.7.0.8.orig/sys_ansi.c libpano12-2.7.0.8/sys_ansi.c
--- libpano12-2.7.0.8.orig/sys_ansi.c	2003-12-01 22:10:41.000000000 +0100
+++ libpano12-2.7.0.8/sys_ansi.c	2005-03-07 11:00:12.940093000 +0100
@@ -43,13 +43,16 @@
 	va_start(ap, fmt);
 	vsprintf(message, fmt, ap);
 	va_end(ap);
-	
+#ifdef HasJava	
 	if( JavaUI ){
 		JPrintError( message );
 	}else{
+#endif
 		printf("%s\n", message);
 		fflush(stdout);
+#ifdef HasJava
 	}
+#endif
 }
 
 
diff -ruN libpano12-2.7.0.8.orig/sys_mac.c libpano12-2.7.0.8/sys_mac.c
--- libpano12-2.7.0.8.orig/sys_mac.c	2003-12-13 11:58:43.000000000 +0100
+++ libpano12-2.7.0.8/sys_mac.c	2005-03-07 10:59:15.635804000 +0100
@@ -102,12 +102,12 @@
 	va_start(ap, fmt);
 	vsprintf(message, fmt, ap);
 	va_end(ap);
-	
+#ifdef HasJava	
 	if( JavaUI ){
 		JPrintError( message );
 		return;
 	}
-	
+#endif
 	ParamText( (unsigned char*) c2pstr( message ), '\0', '\0', '\0');
 	StopAlert( kErrorAlertID, nil);
 }
