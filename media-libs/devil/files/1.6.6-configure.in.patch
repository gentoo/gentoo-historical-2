diff -ur DevIL.orig/configure.in DevIL/configure.in
--- DevIL.orig/configure.in	2003-08-12 14:24:28.000000000 +1000
+++ DevIL/configure.in	2004-02-10 01:55:18.000000000 +1100
@@ -90,131 +90,346 @@
 dnl
 AC_ARG_ENABLE(bmp,
 [  --disable-bmp           Doesn't compile bmp support],
-no_bmp="yes", no_bmp="no")
+[case "$enable_bmp" in
+  no)
+    no_bmp="yes"
+    ;;
+  *)
+    no_bmp="no"
+    ;;
+esac],
+no_bmp="no")
 
 AC_ARG_ENABLE(dcx,
 [  --disable-dcx           Doesn't compile dcx support],
-no_dcx="yes", no_dcx="no")
+[case "$enable_dcx" in
+  no)
+    no_dcx="yes"
+    ;;
+  *)
+    no_dcx="no"
+    ;;
+esac],
+no_dcx="no")
 
 AC_ARG_ENABLE(doom,
 [  --disable-doom          Doesn't compile wad support],
-no_doom="yes", no_doom="no")
+[case "$enable_doom" in
+  no)
+    no_doom="yes"
+    ;;
+  *)
+    no_doom="no"
+    ;;
+esac],
+no_doom="no")
 
 AC_ARG_ENABLE(gif,
 [  --disable-gif           Doesn't compile gif support],
-no_gif="yes", no_gif="no")
+[case "$enable_gif" in
+  no)
+    no_gif="yes"
+    ;;
+  *)
+    no_gif="no"
+    ;;
+esac],
+no_gif="no")
 
 AC_ARG_ENABLE(icon,
 [  --disable-icon          Doesn't compile icon support],
-no_icon="yes", no_icon="no")
+[case "$enable_icon" in
+  no)
+    no_icon="yes"
+    ;;
+  *)
+    no_icon="no"
+    ;;
+esac],
+no_icon="no")
 
 AC_ARG_ENABLE(jpeg,
 [  --disable-jpeg          Doesn't compile jpeg support],
-no_jpeg="yes", no_jpeg="no")
+[case "$enable_jpeg" in
+  no)
+    no_jpeg="yes"
+    ;;
+  *)
+    no_jpeg="no"
+    ;;
+esac],
+no_jpeg="no")
 
 AC_ARG_ENABLE(lif,
 [  --disable-lif           Doesn't compile lif support],
-no_lif="yes", no_lif="no")
+[case "$enable_lif" in
+  no)
+    no_lif="yes"
+    ;;
+  *)
+    no_lif="no"
+    ;;
+esac],
+no_lif="no")
 
 AC_ARG_ENABLE(lcms,
 [  --disable-lcms          Doesn't compile lcms support],
-no_lcms="yes", no_lcms="no")
+[case "$enable_lcms" in
+  no)
+    no_lcms="yes"
+    ;;
+  *)
+    no_lcms="no"
+    ;;
+esac],
+no_lcms="no")
 
 AC_ARG_ENABLE(mdl,
 [  --disable-mdl           Doesn't compile mdl support],
-no_mdl="yes", no_mdl="no")
+[case "$enable_mdl" in
+  no)
+    no_mdl="yes"
+    ;;
+  *)
+    no_mdl="no"
+    ;;
+esac],
+no_mdl="no")
 
 AC_ARG_ENABLE(mng,
 [  --disable-mng           Doesn't compile mng support],
-no_mng="yes", no_mng="no")
+[case "$enable_mng" in
+  no)
+    no_mng="yes"
+    ;;
+  *)
+    no_mng="no"
+    ;;
+esac],
+no_mng="no")
 
 AC_ARG_ENABLE(pcd,
 [  --disable-pcd           Doesn't compile pcd support],
-no_pcd="yes", no_pcd="no")
+[case "$enable_pcd" in
+  no)
+    no_pcd="yes"
+    ;;
+  *)
+    no_pcd="no"
+    ;;
+esac],
+no_pcd="no")
 
 AC_ARG_ENABLE(pcx,
 [  --disable-pcx           Doesn't compile pcx support],
-no_pcx="yes", no_pcx="no")
+[case "$enable_pcx" in
+  no)
+    no_pcx="yes"
+    ;;
+  *)
+    no_pcx="no"
+    ;;
+esac],
+no_pcx="no")
 
 AC_ARG_ENABLE(pic,
 [  --disable-pic           Doesn't compile pic support],
-no_pic="yes", no_pic="no")
+[case "$enable_pic" in
+  no)
+    no_pic="yes"
+    ;;
+  *)
+    no_pic="no"
+    ;;
+esac],
+no_pic="no")
 
 AC_ARG_ENABLE(pix,
 [  --disable-pix           Doesn't compile pix support],
-no_pix="yes", no_pix="no")
+[case "$enable_pix" in
+  no)
+    no_pix="yes"
+    ;;
+  *)
+    no_pix="no"
+    ;;
+esac],
+no_pix="no")
 
 AC_ARG_ENABLE(png,
 [  --disable-png           Doesn't compile png support],
-no_png="yes", no_png="no")
+[case "$enable_png" in
+  no)
+    no_png="yes"
+    ;;
+  *)
+    no_png="no"
+    ;;
+esac],
+no_png="no")
 
 AC_ARG_ENABLE(pnm,
 [  --disable-pnm           Doesn't compile pnm support],
-no_pnm="yes", no_pnm="no")
+[case "$enable_pnm" in
+  no)
+    no_pnm="yes"
+    ;;
+  *)
+    no_pnm="no"
+    ;;
+esac],
+no_pnm="no")
 
 AC_ARG_ENABLE(psd,
 [  --disable-psd           Doesn't compile psd support],
-no_psd="yes", no_psd="no")
+[case "$enable_psd" in
+  no)
+    no_psd="yes"
+    ;;
+  *)
+    no_psd="no"
+    ;;
+esac],
+no_psd="no")
 
 AC_ARG_ENABLE(psp,
 [  --disable-psp           Doesn't compile psp support],
-no_psp="yes", no_psp="no")
+[case "$enable_psp" in
+  no)
+    no_psp="yes"
+    ;;
+  *)
+    no_psp="no"
+    ;;
+esac],
+no_psp="no")
 
 AC_ARG_ENABLE(pxr,
 [  --disable-pxr           Doesn't compile pxr support],
-no_pxr="yes", no_pxr="no")
+[case "$enable_pxr" in
+  no)
+    no_pxr="yes"
+    ;;
+  *)
+    no_pxr="no"
+    ;;
+esac],
+no_pxr="no")
 
 AC_ARG_ENABLE(lcms,
 [  --disable-lcms          Doesn't compile lcms support],
-no_lcms="yes", no_lcms="no")
+[case "$enable_lcms" in
+  no)
+    no_lcms="yes"
+    ;;
+  *)
+    no_lcms="no"
+    ;;
+esac],
+no_lcms="no")
 
 AC_ARG_ENABLE(raw,
 [  --disable-raw           Doesn't compile raw support],
-no_raw="yes", no_raw="no")
+[case "$enable_raw" in
+  no)
+    no_raw="yes"
+    ;;
+  *)
+    no_raw="no"
+    ;;
+esac],
+no_raw="no")
 
 AC_ARG_ENABLE(sgi,
 [  --disable-sgi           Doesn't compile sgi support],
-no_sgi="yes", no_sgi="no")
+[case "$enable_sgi" in
+  no)
+    no_sgi="yes"
+    ;;
+  *)
+    no_sgi="no"
+    ;;
+esac],
+no_sgi="no")
 
 AC_ARG_ENABLE(tga,
 [  --disable-tga           Doesn't compile tga support],
-no_tga="yes", no_tga="no")
+[case "$enable_tga" in
+  no)
+    no_tga="yes"
+    ;;
+  *)
+    no_tga="no"
+    ;;
+esac], no_tga="no")
 
 AC_ARG_ENABLE(tiff,
 [  --disable-tiff          Doesn't compile tiff support],
-no_tiff="yes", no_tiff="no")
+[case "$enable_tiff" in
+  no)
+    no_tiff="yes"
+    ;;
+  *)
+    no_tiff="no"
+    ;;
+esac],
+no_tiff="no")
 
 AC_ARG_ENABLE(wal,
 [  --disable-wal           Doesn't compile wal support],
-no_wal="yes", no_wal="no")
+[case "$enable_wal" in
+  no)
+    no_wal="yes"
+    ;;
+  *)
+    no_wal="no"
+    ;;
+esac],
+no_wal="no")
 
 AC_ARG_ENABLE(xpm,
 [  --disable-xpm           Doesn't compile xpm support],
-no_xpm="yes", no_xpm="no")
+[case "$enable_xpm" in
+  no)
+    no_xpm="yes"
+    ;;
+  *)
+    no_xpm="no"
+    ;;
+esac],
+no_xpm="no")
 
 AC_ARG_ENABLE(allegro,
 [  --disable-allegro       Doesn't compile allegro support],
-use_allegro="no", use_allegro="yes")
+use_allegro=$enable_allegro, use_allegro="yes")
 
 AC_ARG_ENABLE(directx,
 [  --disable-directx       Doesn't compile directx support],
-use_directx="no", use_directx="yes")
+use_directx=$enable_directx, use_directx="yes")
 
 AC_ARG_ENABLE(opengl,
 [  --disable-opengl        Doesn't compile opengl support],
-use_opengl="no", use_opengl="yes")
+use_opengl=$enable_opengl, use_opengl="yes")
 
 AC_ARG_ENABLE(sdl,
 [  --disable-sdl           Doesn't compile sdl support],
-use_sdl="no", use_sdl="yes")
+use_sdl=$enable_sdl, use_sdl="yes")
 
 AC_ARG_ENABLE(win32,
 [  --disable-win32         Doesn't compile win32 support],
-use_win32="no", use_win32="yes")
+use_win32=$enable_win32, use_win32="yes")
 
 AC_ARG_ENABLE(release,
 [  --disable-release         Compile a debug version of the library],
-debug_symbols="yes", debug_symbols="no")
+[case "$enable_release" in
+  yes)
+    debug_symbols="no"
+    ;;
+  no)
+    debug_symbols="yes"
+    ;;
+esac],
+debug_symbols="no")
 
 if test "$debug_symbols" = "yes" ; then
   LIBIL_CFLAGS="-Wall -g"
@@ -622,4 +837,4 @@
            src-ILUT/include/Makefile \
            include/Makefile \
            include/IL/Makefile ])
-AC_OUTPUT
\ No newline at end of file
+AC_OUTPUT
