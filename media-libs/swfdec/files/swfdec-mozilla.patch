diff -ruN swfdec-0.2.2.orig/player/swf_play.c swfdec-0.2.2/player/swf_play.c
--- swfdec-0.2.2.orig/player/swf_play.c	2003-04-03 22:11:57.000000000 -0600
+++ swfdec-0.2.2/player/swf_play.c	2003-08-22 22:33:48.000000000 -0500
@@ -390,7 +390,7 @@
 static gboolean input(GIOChannel *chan, GIOCondition cond, gpointer ignored)
 {
 	char *data;
-	int bytes_read;
+	gsize bytes_read;
 	GError *error = NULL;
 	int ret;
 
diff -ruN swfdec-0.2.2.orig/plugin/plugin.c swfdec-0.2.2/plugin/plugin.c
--- swfdec-0.2.2.orig/plugin/plugin.c	2002-11-21 02:51:38.000000000 -0600
+++ swfdec-0.2.2/plugin/plugin.c	2003-08-22 22:33:23.000000000 -0500
@@ -10,6 +10,7 @@
 #include <X11/Intrinsic.h>
 
 #define XP_UNIX 1
+#define MOZ_X11 1
 #include "npapi.h"
 #include "npupp.h"
 
@@ -240,7 +241,7 @@
 
 /* exported functions */
 
-NPError NP_GetValue(NPP instance, NPPVariable variable, void *value)
+NPError NP_GetValue(void *future, NPPVariable variable, void *value)
 {
     NPError err = NPERR_NO_ERROR;
 
