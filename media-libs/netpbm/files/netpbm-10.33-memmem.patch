Index: netpbm-10.33/converter/other/cameratopam/identify.c
===================================================================
--- netpbm-10.33.orig/converter/other/cameratopam/identify.c
+++ netpbm-10.33/converter/other/cameratopam/identify.c
@@ -1,4 +1,5 @@
 #define _BSD_SOURCE   /* Make sure strcasecmp() is in string.h */
+#define _GNU_SOURCE   /* To have memset() */
 #include <string.h>
 
 #include "pm.h"
@@ -23,7 +24,7 @@
 
 static loadRawFn load_raw;
 
-
+#if !defined(__GLIBC__) && ( !defined(__FreeBSD__) || __FreeBSD__ < 6 )
 /* This does the same as the function of the same name in the GNU C library */
 static const char *memmem (const char *haystack, size_t haystacklen,
                      const char *needle, size_t needlelen)
@@ -34,6 +35,7 @@ static const char *memmem (const char *h
       return c;
   return NULL;
 }
+#endif
 
 /*
    Thanks to Adobe for providing these excellent CAM -> XYZ matrices!
