diff -ur speex-1.2beta2.orig/configure.ac speex-1.2beta2/configure.ac
--- speex-1.2beta2.orig/configure.ac	2007-05-17 17:14:35.000000000 +0300
+++ speex-1.2beta2/configure.ac	2007-08-27 17:49:26.000000000 +0300
@@ -67,9 +67,6 @@
 
 AC_CHECK_HEADERS(sys/soundcard.h sys/audioio.h)
 
-XIPH_PATH_OGG([src="src"], [src=""])
-AC_SUBST(src)
-
 AC_CHECK_LIB(m, sin)
 
 # Check for getopt_long; if not found, use included source.
@@ -89,6 +86,12 @@
 AC_DEFINE_UNQUOTED(SPEEX_MICRO_VERSION, ${SPEEX_MICRO_VERSION}, [Version micro])
 AC_DEFINE_UNQUOTED(SPEEX_EXTRA_VERSION, "${SPEEX_EXTRA_VERSION}", [Version extra])
 
+AC_ARG_ENABLE(ogg, [  --enable-ogg       Enable OGG],
+[if test "$enableval" = yes; then
+  XIPH_PATH_OGG([src="src"], [src=""])
+  AC_SUBST(src)
+fi])
+
 AC_ARG_ENABLE(wideband, [  --disable-wideband      Disable wideband codec],
 [if test "$enableval" = no; then
   AC_DEFINE([DISABLE_WIDEBAND], , [Disable wideband codec])
@@ -106,7 +109,7 @@
 
 AC_ARG_ENABLE(sse, [  --enable-sse            Enable SSE support], [if test "$enableval" = yes; then
 AC_DEFINE([_USE_SSE], , [Enable SSE support])
-CFLAGS="$CFLAGS -O3 -msse"
+CFLAGS="$CFLAGS -msse"
 fi
 ])
 
