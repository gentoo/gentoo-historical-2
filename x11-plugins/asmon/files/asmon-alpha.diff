--- asmon-0.62/asmon/asmon.c	2002-10-16 16:58:48.000000000 -0400
+++ asmon-0.62-ww/asmon/asmon.c	2003-05-12 12:39:03.000000000 -0400
@@ -415,7 +415,7 @@
 void DrawCPU(void)
 {
 	static float cpustat[4];   /* remember the statistics read last time */
-	float fields[4], info[4], cputotal=0.0;
+	float fields[4], info[4], cputotal=0.0, cpuused=0.0;
 	long pageins=0, pageouts=0, swapins=0, swapouts=0;
 	int i;
 #ifndef __FreeBSD__
@@ -454,10 +454,11 @@
 		cpustat[i] = info[i];
 	    }
 
+	    cpuused = fields[0] + fields[1] + fields [2];
 	    // CPU Bar
 	    if(cputotal > 0)
 	    {
-		cputotal = (cputotal-(fields[3]+fields[4]))*1.55;
+	        cputotal = 27.0 * (cpuused/cputotal);
 		if ( cputotal > 26 ) cputotal = 26;
 		copyXPMArea(3,84,cputotal,9,5,5);
 		copyXPMArea(15,105,(27-cputotal),9,(5+cputotal),5);
