--- build.xml.orig	2005-06-29 22:01:47.000000000 +0200
+++ build.xml	2005-06-29 22:28:54.000000000 +0200
@@ -6,9 +6,9 @@
 	<property file=".ant.properties"/>
 	
     <path id="full.path">
-        <pathelement path="lib\junit.jar"/>
-        <pathelement path="lib\looks-1.3.1.jar"/>
-        <pathelement path="lib\backport-util-concurrent.jar"/>
+		<fileset dir="lib">
+			<include name="**/*.jar"/>
+		</fileset>
         <pathelement path="${classpath}"/>
         <pathelement path="classes/"/>
     </path>
@@ -59,6 +59,25 @@
     <!-- compileClean -->
     <target name="compileClean" depends="clean,compile" description="Clean then compile"/>
 
+	<target name="jar" depends="init,compile" description="create a jar file">
+		<jar destfile="triplea.jar">
+			<fileset dir=".">
+				<include name="triplea.properties"/>
+			</fileset>
+			<fileset dir="classes/">
+				<include name="**/*.class"/>
+				<exclude name="**/*Test.class"/>  <!-- dont put Test classes in the main distribution -->
+				<include name="**/*.dtd"/>
+				<include name="**/*.gif"/>
+				<include name="**/*.png"/>
+				<include name="**/*.jpg"/>
+				<include name="**/*.jpeg"/>
+				<include name="**/*.txt"/>
+				<include name="**/*.wav"/>
+				<include name="**/*.properties"/>
+			</fileset>
+		</jar>
+	</target>
 
     <!-- zip -->
     <target name="zip" depends="init,compile" description="create a zip file for end users">
--- src/games/strategy/engine/framework/GameRunner.java	2005-04-15 11:26:04.000000000 +0200
+++ src/games/strategy/engine/framework/GameRunner.java	2005-06-29 22:18:25.000000000 +0200
@@ -153,6 +153,10 @@
      */
     public static File getRootFolder()
     {
+		String rootFolder = System.getProperty("triplea.root");
+		if (rootFolder != null)
+			return new File(rootFolder);
+
         //this will fail if we are in a jar
         //what we are doing is looking up the url to GameRunner.class
         //we can find it because we are it
