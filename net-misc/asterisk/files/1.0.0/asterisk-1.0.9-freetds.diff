--- asterisk-1.0.9/cdr/cdr_tds.c.orig	2005-10-29 00:50:28.000000000 +0000
+++ asterisk-1.0.9/cdr/cdr_tds.c	2005-10-29 00:50:57.000000000 +0000
@@ -412,7 +412,7 @@
 
 static int mssql_connect(void)
 {
-	TDSCONNECTINFO *connection = NULL;
+	TDSCONNECTION *connection = NULL;
 	char query[128];
 
 	/* Connect to M$SQL Server */
--- asterisk-1.0.9/cdr/cdr_tds.c.orig	2005-10-29 04:54:16.000000000 +0000
+++ asterisk-1.0.9/cdr/cdr_tds.c	2005-10-29 04:54:36.000000000 +0000
@@ -457,11 +457,11 @@
 	{
 		ast_log(LOG_ERROR, "Failed to connect to MSSQL server.\n");
 		tds = NULL;	/* freed by tds_connect() on error */
-		tds_free_connect(connection);
+		tds_free_connection(connection);
 		connection = NULL;
 		goto connect_fail;
 	}
-	tds_free_connect(connection);
+	tds_free_connection(connection);
 	connection = NULL;
 
 	sprintf(query, "USE %s", dbname);
