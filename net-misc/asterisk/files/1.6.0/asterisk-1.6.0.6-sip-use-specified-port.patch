--- branches/1.6.0/channels/chan_sip.c	2009/03/09 20:14:05	180718
+++ branches/1.6.0/channels/chan_sip.c	2009/03/10 13:32:58	180799
@@ -4175,6 +4175,11 @@
 		}
 		res = create_addr_from_peer(dialog, peer);
 		unref_peer(peer);
+		if (!ast_strlen_zero(port)) {
+			if ((portno = atoi(port))) {
+				dialog->sa.sin_port = dialog->recv.sin_port = htons(portno);
+			}
+		}
 		return res;
 	}
 
