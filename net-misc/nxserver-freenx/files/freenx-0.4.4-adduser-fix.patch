diff -purN freenx-0.4.4.org/nxsetup freenx-0.4.4.new/nxsetup
--- freenx-0.4.4.org/nxsetup	2005-08-02 12:29:59.000000000 -0500
+++ freenx-0.4.4.new/nxsetup	2005-08-07 19:17:08.000000000 -0500
@@ -116,7 +116,11 @@ useradd_nx()
 	# no, its a "normal" useradd
 	else
 		USERADD_OPTIONS="-d $NX_HOME_DIR -s $PATH_BIN/nxserver"
-		[ -n $SETUP_GID ] && USERADD_OPTIONS="-g $SETUP_GID $USERADD_OPTIONS"
+		# gid specified?
+		if [ -n "$SETUP_GID" ]
+		then
+			USERADD_OPTIONS="-g $SETUP_GID $USERADD_OPTIONS"
+		fi
 		# uid specified?
 		if [ -n "$SETUP_UID" ]
 		then
