*** aria2-0.9.0/src/Util.cc	2006-11-06 00:04:17.000000000 +0900
--- aria2-0.9.0+1/src/Util.cc	2007-01-11 01:55:24.000000000 +0900
***************
*** 213,219 ****
  string Util::torrentUrlencode(const unsigned char* target, int len) {
    string dest;
    for(int i = 0; i < len; i++) {
!     if(isalpha(target[i]) || isdigit(target[i])) {
        dest += target[i];
      } else {
        char temp[4];
--- 213,221 ----
  string Util::torrentUrlencode(const unsigned char* target, int len) {
    string dest;
    for(int i = 0; i < len; i++) {
!     if('0' <= target[i] && target[i] <= '9' ||
!        'A' <= target[i] && target[i] <= 'Z' ||
!        'a' <= target[i] && target[i] <= 'z') {
        dest += target[i];
      } else {
        char temp[4];

 	  	 
