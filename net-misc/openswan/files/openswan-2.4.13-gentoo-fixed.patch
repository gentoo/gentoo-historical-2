diff -ur openswan-2.4.13.orig/Makefile.inc openswan-2.4.13/Makefile.inc
--- openswan-2.4.13.orig/Makefile.inc	2008-06-26 21:03:04.000000000 +0000
+++ openswan-2.4.13/Makefile.inc	2008-08-16 09:56:57.000000000 +0000
@@ -46,7 +46,7 @@
 DESTDIR?=
 
 # "local" part of tree, used in building other pathnames
-INC_USRLOCAL=/usr/local
+INC_USRLOCAL?=/usr
 
 # PUBDIR is where the "ipsec" command goes; beware, many things define PATH
 # settings which are assumed to include it (or at least, to include *some*
@@ -91,7 +91,7 @@
 
 # sample configuration files go into
 INC_DOCDIR?=share/doc
-FINALEXAMPLECONFDIR=${INC_USRLOCAL}/${INC_DOCDIR}/openswan
+FINALEXAMPLECONFDIR?=${INC_USRLOCAL}/${INC_DOCDIR}/openswan
 EXAMPLECONFDIR=${DESTDIR}${FINALEXAMPLECONFDIR}
 
 FINALDOCDIR?=${INC_USRLOCAL}/${INC_DOCDIR}/openswan
diff -Nru openswan-2.4.13.orig/programs/Makefile openswan-2.4.13/programs/Makefile
--- openswan-2.4.13.orig/programs/Makefile	2006-10-27 14:47:07.000000000 +0000
+++ openswan-2.4.13/programs/Makefile	2008-10-12 16:12:31.000000000 +0000
@@ -24,7 +24,7 @@
 SUBDIRS+=_realsetup _secretcensor _startklips _updown _updown_x509
 SUBDIRS+=auto barf verify ipsec look manual newhostkey ranbits secrets
 SUBDIRS+=rsasigkey setup showdefaults showhostkey calcgoo mailkey
-SUBDIRS+=ikeping examples livetest
+SUBDIRS+=ikeping examples
 
 ifeq ($(USE_LWRES),true)
 SUBDIRS+=lwdnsq
diff -ur openswan-2.4.13.orig/programs/_confread/_confread.in openswan-2.4.13/programs/_confread/_confread.in
--- openswan-2.4.13.orig/programs/_confread/_confread.in	2006-04-12 19:55:42.000000000 +0000
+++ openswan-2.4.13/programs/_confread/_confread.in	2008-08-16 09:56:57.000000000 +0000
@@ -14,7 +14,7 @@
 #
 # RCSID $Id: _confread.in,v 1.81.2.5 2006-04-12 19:55:42 mcr Exp $
 #
-# Extract configuration info from /etc/ipsec.conf, repackage as assignments
+# Extract configuration info from /etc/ipsec/ipsec.conf, repackage as assignments
 # to shell variables or tab-delimited fields.  Success or failure is reported
 # inline, as extra data, due to the vagaries of shell backquote handling.
 # In the absence of --varprefix, output is tab-separated fields, like:
diff -ur openswan-2.4.13.orig/programs/_confread/ipsec.conf.in openswan-2.4.13/programs/_confread/ipsec.conf.in
--- openswan-2.4.13.orig/programs/_confread/ipsec.conf.in	2006-10-19 03:49:46.000000000 +0000
+++ openswan-2.4.13/programs/_confread/ipsec.conf.in	2008-08-16 09:56:57.000000000 +0000
@@ -1,4 +1,4 @@
-# /etc/ipsec.conf - Openswan IPsec configuration file
+# /etc/ipsec/ipsec.conf - Openswan IPsec configuration file
 # RCSID $Id: ipsec.conf.in,v 1.15.2.6 2006-10-19 03:49:46 paul Exp $
 
 # This file:  @FINALEXAMPLECONFDIR@/ipsec.conf-sample
diff -ur openswan-2.4.13.orig/programs/examples/l2tp-psk.conf.in openswan-2.4.13/programs/examples/l2tp-psk.conf.in
--- openswan-2.4.13.orig/programs/examples/l2tp-psk.conf.in	2007-11-02 01:49:40.000000000 +0000
+++ openswan-2.4.13/programs/examples/l2tp-psk.conf.in	2008-08-16 09:56:57.000000000 +0000
@@ -11,7 +11,7 @@
 	#
 	# Use a Preshared Key. Disable Perfect Forward Secrecy.
 	#
-	# PreSharedSecret needs to be specified in /etc/ipsec.secrets as
+	# PreSharedSecret needs to be specified in /etc/ipsec/ipsec.secrets as
 	# YourIPAddress  %any: "sharedsecret"
 	authby=secret
 	pfs=no
diff -ur openswan-2.4.13.orig/programs/_include/_include.in openswan-2.4.13/programs/_include/_include.in
--- openswan-2.4.13.orig/programs/_include/_include.in	2003-01-06 21:44:04.000000000 +0000
+++ openswan-2.4.13/programs/_include/_include.in	2008-08-16 09:56:57.000000000 +0000
@@ -47,10 +47,10 @@
 do
 	if test ! -r "$f"
 	then
-		if test ! "$f" = "/etc/ipsec.conf"
+		if test ! "$f" = "/etc/ipsec/ipsec.conf"
 		then
 			echo "#:cannot open configuration file \'$f\'"
-			if test "$f" = "/etc/ipsec.secrets"
+			if test "$f" = "/etc/ipsec/ipsec.secrets"
 			then
 				echo "#:Your secrets file will be created when you start FreeS/WAN for the first time."
 			fi
diff -ur openswan-2.4.13.orig/programs/mailkey/mailkey.in openswan-2.4.13/programs/mailkey/mailkey.in
--- openswan-2.4.13.orig/programs/mailkey/mailkey.in	2006-10-28 23:49:23.000000000 +0000
+++ openswan-2.4.13/programs/mailkey/mailkey.in	2008-08-16 09:56:57.000000000 +0000
@@ -60,7 +60,7 @@
 
 "$test1st"
 
-Common concerns: This account must be able to read /etc/ipsec.secrets. 
+Common concerns: This account must be able to read /etc/ipsec/ipsec.secrets. 
 If you haven't generated your key yet, please run 'ipsec newhostkey'." 
 exit 0
 }
diff -ur openswan-2.4.13.orig/programs/pluto/Makefile openswan-2.4.13/programs/pluto/Makefile
--- openswan-2.4.13.orig/programs/pluto/Makefile	2007-11-06 18:56:26.000000000 +0000
+++ openswan-2.4.13/programs/pluto/Makefile	2008-08-16 09:56:57.000000000 +0000
@@ -210,7 +210,7 @@
 endif
 
 ifeq ($(USE_WEAKSTUFF),true)
-WEAK_DEFS=-DUSE_VERYWEAK_DH1=1 #-DUSE_1DES
+WEAK_DEFS=-DUSE_VERYWEAK_DH1=1 -DUSE_1DES
 endif
 
 ifeq ($(USE_EXTRACRYPTO),true)
diff -ur openswan-2.4.13.orig/programs/setup/Makefile openswan-2.4.13/programs/setup/Makefile
--- openswan-2.4.13.orig/programs/setup/Makefile	2004-12-18 18:13:43.000000000 +0000
+++ openswan-2.4.13/programs/setup/Makefile	2008-08-16 09:56:57.000000000 +0000
@@ -33,25 +33,10 @@
 	@rm -f $(BINDIR)/setup
 	@$(INSTALL) $(INSTBINFLAGS) setup $(RCDIR)/ipsec
 	@ln -s $(FINALRCDIR)/ipsec $(BINDIR)/setup
-	-@for i in 0 1 2 3 4 5 6; do mkdir -p $(RCDIR)/../rc$$i.d; done
-	-@cd $(RCDIR)/../rc0.d && ln -f -s ../init.d/ipsec K76ipsec
-	-@cd $(RCDIR)/../rc1.d && ln -f -s ../init.d/ipsec K76ipsec
-	-@cd $(RCDIR)/../rc2.d && ln -f -s ../init.d/ipsec S47ipsec
-	-@cd $(RCDIR)/../rc3.d && ln -f -s ../init.d/ipsec S47ipsec
-	-@cd $(RCDIR)/../rc4.d && ln -f -s ../init.d/ipsec S47ipsec
-	-@cd $(RCDIR)/../rc5.d && ln -f -s ../init.d/ipsec S47ipsec
-	-@cd $(RCDIR)/../rc6.d && ln -f -s ../init.d/ipsec K76ipsec
 
 install_file_list::
 	@echo $(RCDIR)/ipsec
 	@echo $(BINDIR)/setup
-	@echo $(RCDIR)/../rc0.d/K76ipsec
-	@echo $(RCDIR)/../rc1.d/K76ipsec
-	@echo $(RCDIR)/../rc2.d/S47ipsec
-	@echo $(RCDIR)/../rc3.d/S47ipsec
-	@echo $(RCDIR)/../rc4.d/S47ipsec
-	@echo $(RCDIR)/../rc5.d/S47ipsec
-	@echo $(RCDIR)/../rc6.d/K76ipsec
 
 clean::
 	@rm -f setup
diff -ur openswan-2.4.13.orig/programs/showhostkey/showhostkey.in openswan-2.4.13/programs/showhostkey/showhostkey.in
--- openswan-2.4.13.orig/programs/showhostkey/showhostkey.in	2007-06-19 15:27:27.000000000 +0000
+++ openswan-2.4.13/programs/showhostkey/showhostkey.in	2008-08-16 09:56:57.000000000 +0000
@@ -18,7 +18,7 @@
 usage="Usage: $me [--file secrets] [--left] [--right] [--txt gateway] [--id id]
                   [--dhclient] [--ipseckey]"
 
-file=/etc/ipsec.secrets
+file=/etc/ipsec/ipsec.secrets
 fmt=""
 gw=
 id=
