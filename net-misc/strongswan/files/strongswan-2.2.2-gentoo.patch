diff -Naupr strongswan-2.2.2/Makefile.inc strongswan-2.2.2-gentoo/Makefile.inc
--- strongswan-2.2.2/Makefile.inc	2004-09-17 12:15:20.000000000 -0500
+++ strongswan-2.2.2-gentoo/Makefile.inc	2004-10-25 11:30:20.653934061 -0500
@@ -62,7 +62,7 @@ POLICYLIB=${FREESWANSRCDIR}/lib/libipsec
 DESTDIR?=
 
 # "local" part of tree, used in building other pathnames
-INC_USRLOCAL=/usr/local
+INC_USRLOCAL=/usr
 
 # PUBDIR is where the "ipsec" command goes; beware, many things define PATH
 # settings which are assumed to include it (or at least, to include *some*
@@ -96,7 +96,7 @@ MANTREE=$(DESTDIR)$(INC_USRLOCAL)/$(INC_
 MANPLACES=man3 man5 man8
 
 # where configuration files go
-FINALCONFFILE?=/etc/ipsec.conf
+FINALCONFFILE?=/etc/ipsec/ipsec.conf
 CONFFILE=$(DESTDIR)$(FINALCONFFILE)
 
 FINALCONFDIR?=/etc
@@ -107,10 +107,10 @@ CONFDDIR=$(DESTDIR)$(FINALCONFDDIR)
 
 # sample configuration files go into
 INC_DOCDIR?=share/doc
-FINALEXAMPLECONFDIR=${INC_USRLOCAL}/${INC_DOCDIR}/strongswan
+FINALEXAMPLECONFDIR=${INC_USRLOCAL}/${INC_DOCDIR}/strongswan-2.2.2
 EXAMPLECONFDIR=${DESTDIR}${FINALEXAMPLECONFDIR}
 
-FINALDOCDIR?=${INC_USRLOCAL}/${INC_DOCDIR}/strongswan
+FINALDOCDIR?=${INC_USRLOCAL}/${INC_DOCDIR}/strongswan-2.2.2
 DOCDIR=${DESTDIR}${FINALDOCDIR}
 
 # where per-conn pluto logs go
@@ -239,7 +239,7 @@ RH_KERNELSRC?=/usr/src/linux-2.4
 # installed one in RH 7.2, won't work - you wind up depending upon
 # openssl.
 
-BIND9STATICLIBDIR?=/usr/local/lib
+BIND9STATICLIBDIR?=/usr/lib
 
 # FreeSWAN 3.x will require bind9. 
 USE_LWRES?=false
diff -Naupr strongswan-2.2.2/programs/_include/_include.in strongswan-2.2.2-gentoo/programs/_include/_include.in
--- strongswan-2.2.2/programs/_include/_include.in	2004-03-15 15:03:06.000000000 -0600
+++ strongswan-2.2.2-gentoo/programs/_include/_include.in	2004-10-25 11:30:20.653934061 -0500
@@ -49,10 +49,10 @@ for f
 do
 	if test ! -r "$f"
 	then
-		if test ! "$f" = "/etc/ipsec.conf"
+		if test ! "$f" = "/etc/ipsec/ipsec.conf"
 		then
 			echo "#:cannot open configuration file \'$f\'"
-			if test "$f" = "/etc/ipsec.secrets"
+			if test "$f" = "/etc/ipsec/ipsec.secrets"
 			then
 				echo "#:Your secrets file will be created when you start $IPSEC_NAME for the first time."
 			fi
diff -Naupr strongswan-2.2.2/programs/barf/barf.in strongswan-2.2.2-gentoo/programs/barf/barf.in
--- strongswan-2.2.2/programs/barf/barf.in	2004-09-23 16:08:23.000000000 -0500
+++ strongswan-2.2.2-gentoo/programs/barf/barf.in	2004-10-25 11:30:20.654933887 -0500
@@ -19,7 +19,7 @@ IPSEC_NAME="strongSwan"
 KERNSRC=${KERNSRC-/usr/src/linux}
 LOGS=${LOGS-/var/log}
 CONFS=${IPSEC_CONFS-/etc}
-CONFDDIR=${IPSEC_CONFDDIR-/etc/ipsec.d}
+CONFDDIR=${IPSEC_CONFDDIR-/etc/ipsec/ipsec.d}
 me="ipsec barf"
 
 # kludge to produce no barf output mentioning policygroups if none are present.
@@ -207,13 +207,13 @@ then
 	done
 fi
 _________________________ ipsec/ls-libdir
-ls -l ${IPSEC_LIBDIR-/usr/local/lib/ipsec}
+ls -l ${IPSEC_LIBDIR-/usr/lib/ipsec}
 _________________________ ipsec/ls-execdir
-ls -l ${IPSEC_EXECDIR-/usr/local/libexec/ipsec}
+ls -l ${IPSEC_EXECDIR-/usr/libexec/ipsec}
 _________________________ ipsec/updowns
-for f in `ls ${IPSEC_EXECDIR-/usr/local/libexec/ipsec} | egrep updown`
+for f in `ls ${IPSEC_EXECDIR-/usr/libexec/ipsec} | egrep updown`
 do
-	cat ${IPSEC_EXECDIR-/usr/local/libexec/ipsec}/$f
+	cat ${IPSEC_EXECDIR-/usr/libexec/ipsec}/$f
 done
 _________________________ proc/net/dev
 cat /proc/net/dev
diff -Naupr strongswan-2.2.2/programs/eroute/eroute.5 strongswan-2.2.2-gentoo/programs/eroute/eroute.5
--- strongswan-2.2.2/programs/eroute/eroute.5	2004-03-15 14:35:27.000000000 -0600
+++ strongswan-2.2.2-gentoo/programs/eroute/eroute.5	2004-10-25 11:30:20.654933887 -0500
@@ -223,7 +223,7 @@ Parameters Index of
 in hexadecimal using Authentication Header protocol (51,
 IPPROTO_AH) with no identies defined for either end.
 .SH FILES
-/proc/net/ipsec_eroute, /usr/local/bin/ipsec
+/proc/net/ipsec_eroute, /usr/bin/ipsec
 .SH "SEE ALSO"
 ipsec(8), ipsec_manual(8), ipsec_tncfg(5), ipsec_spi(5),
 ipsec_spigrp(5), ipsec_klipsdebug(5), ipsec_eroute(8), ipsec_version(5),
diff -Naupr strongswan-2.2.2/programs/eroute/eroute.8 strongswan-2.2.2-gentoo/programs/eroute/eroute.8
--- strongswan-2.2.2/programs/eroute/eroute.8	2004-03-15 14:35:27.000000000 -0600
+++ strongswan-2.2.2-gentoo/programs/eroute/eroute.8	2004-10-25 11:30:20.655933713 -0500
@@ -308,7 +308,7 @@ will be in clear text.
 .br
 .LP
 .SH FILES
-/proc/net/ipsec_eroute, /usr/local/bin/ipsec
+/proc/net/ipsec_eroute, /usr/bin/ipsec
 .SH "SEE ALSO"
 ipsec(8), ipsec_manual(8), ipsec_tncfg(8), ipsec_spi(8),
 ipsec_spigrp(8), ipsec_klipsdebug(8), ipsec_eroute(5)
diff -Naupr strongswan-2.2.2/programs/ipsec/ipsec.8 strongswan-2.2.2-gentoo/programs/ipsec/ipsec.8
--- strongswan-2.2.2/programs/ipsec/ipsec.8	2004-03-15 14:35:27.000000000 -0600
+++ strongswan-2.2.2-gentoo/programs/ipsec/ipsec.8	2004-10-25 11:30:20.655933713 -0500
@@ -81,7 +81,7 @@ reports where
 .I ipsec
 thinks the IPsec configuration files are stored.
 .SH FILES
-/usr/local/lib/ipsec	usual utilities directory
+/usr/lib/ipsec	usual utilities directory
 .SH ENVIRONMENT
 .PP
 The following environment variables control where FreeS/WAN finds its
diff -Naupr strongswan-2.2.2/programs/klipsdebug/klipsdebug.5 strongswan-2.2.2-gentoo/programs/klipsdebug/klipsdebug.5
--- strongswan-2.2.2/programs/klipsdebug/klipsdebug.5	2004-03-15 14:35:28.000000000 -0600
+++ strongswan-2.2.2-gentoo/programs/klipsdebug/klipsdebug.5	2004-10-25 11:30:20.655933713 -0500
@@ -103,7 +103,7 @@ full
 sockets debugging has been set and everything else is not set.
 .LP
 .SH FILES
-/proc/net/ipsec_klipsdebug, /usr/local/bin/ipsec
+/proc/net/ipsec_klipsdebug, /usr/bin/ipsec
 .SH "SEE ALSO"
 ipsec(8), ipsec_manual(8), ipsec_tncfg(8), ipsec_eroute(8),
 ipsec_spi(8), ipsec_spigrp(8), ipsec_klipsdebug(5), ipsec_version(5),
diff -Naupr strongswan-2.2.2/programs/klipsdebug/klipsdebug.8 strongswan-2.2.2-gentoo/programs/klipsdebug/klipsdebug.8
--- strongswan-2.2.2/programs/klipsdebug/klipsdebug.8	2004-03-15 14:35:28.000000000 -0600
+++ strongswan-2.2.2-gentoo/programs/klipsdebug/klipsdebug.8	2004-10-25 11:30:20.656933540 -0500
@@ -117,7 +117,7 @@ turns off only the
 debugging messages.
 .LP
 .SH FILES
-/proc/net/ipsec_klipsdebug, /usr/local/bin/ipsec
+/proc/net/ipsec_klipsdebug, /usr/bin/ipsec
 .SH "SEE ALSO"
 ipsec(8), ipsec_manual(8), ipsec_tncfg(8), ipsec_eroute(8),
 ipsec_spi(8), ipsec_spigrp(8), ipsec_klipsdebug(5)
diff -Naupr strongswan-2.2.2/programs/lwdnsq/lwdnsq.xml.in strongswan-2.2.2-gentoo/programs/lwdnsq/lwdnsq.xml.in
--- strongswan-2.2.2/programs/lwdnsq/lwdnsq.xml.in	2004-03-15 14:35:28.000000000 -0600
+++ strongswan-2.2.2-gentoo/programs/lwdnsq/lwdnsq.xml.in	2004-10-25 11:30:20.656933540 -0500
@@ -430,7 +430,7 @@ information.
 <refsect1><title>Special IPSECKEY processing</title>
 
 <programlisting>
-/etc/ipsec.d/lwdnsq.conf
+/etc/ipsec/ipsec.d/lwdnsq.conf
 </programlisting>
 
 </refsect1>
diff -Naupr strongswan-2.2.2/programs/mailkey/mailkey.in strongswan-2.2.2-gentoo/programs/mailkey/mailkey.in
--- strongswan-2.2.2/programs/mailkey/mailkey.in	2004-03-15 14:35:28.000000000 -0600
+++ strongswan-2.2.2-gentoo/programs/mailkey/mailkey.in	2004-10-25 11:30:20.656933540 -0500
@@ -60,7 +60,7 @@ with the following error:
 
 "$test1st"
 
-Common concerns: This account must be able to read /etc/ipsec.secrets. 
+Common concerns: This account must be able to read /etc/ipsec/ipsec.secrets. 
 If you haven't generated your key yet, please run 'ipsec newhostkey'." 
 exit 0
 }
diff -Naupr strongswan-2.2.2/programs/showhostkey/showhostkey.in strongswan-2.2.2-gentoo/programs/showhostkey/showhostkey.in
--- strongswan-2.2.2/programs/showhostkey/showhostkey.in	2004-03-15 14:35:31.000000000 -0600
+++ strongswan-2.2.2-gentoo/programs/showhostkey/showhostkey.in	2004-10-25 11:30:20.657933366 -0500
@@ -18,7 +18,7 @@ me="ipsec showhostkey"
 usage="Usage: $me [--file secrets] [--left] [--right] [--txt gateway] [--id id]
                   [--dhclient]"
 
-file=/etc/ipsec.secrets
+file=/etc/ipsec/ipsec.secrets
 fmt=""
 gw=
 id=
diff -Naupr strongswan-2.2.2/programs/spi/spi.5 strongswan-2.2.2-gentoo/programs/spi/spi.5
--- strongswan-2.2.2/programs/spi/spi.5	2004-03-15 14:35:31.000000000 -0600
+++ strongswan-2.2.2-gentoo/programs/spi/spi.5	2004-10-25 11:30:20.657933366 -0500
@@ -162,7 +162,7 @@ since 1 of 8 bits is a parity bit), has 
 3858 seconds ago and has been idle for 23 seconds.
 .LP
 .SH FILES
-/proc/net/ipsec_spi, /usr/local/bin/ipsec
+/proc/net/ipsec_spi, /usr/bin/ipsec
 .SH "SEE ALSO"
 ipsec(8), ipsec_manual(8), ipsec_tncfg(5), ipsec_eroute(5),
 ipsec_spigrp(5), ipsec_klipsdebug(5), ipsec_spi(8), ipsec_version(5),
diff -Naupr strongswan-2.2.2/programs/spi/spi.8 strongswan-2.2.2-gentoo/programs/spi/spi.8
--- strongswan-2.2.2/programs/spi/spi.8	2004-03-15 14:35:31.000000000 -0600
+++ strongswan-2.2.2-gentoo/programs/spi/spi.8	2004-10-25 11:30:20.658933193 -0500
@@ -461,7 +461,7 @@ and protocol
 (4).
 .LP
 .SH FILES
-/proc/net/ipsec_spi, /usr/local/bin/ipsec
+/proc/net/ipsec_spi, /usr/bin/ipsec
 .SH "SEE ALSO"
 ipsec(8), ipsec_manual(8), ipsec_tncfg(8), ipsec_eroute(8),
 ipsec_spigrp(8), ipsec_klipsdebug(8), ipsec_spi(5)
diff -Naupr strongswan-2.2.2/programs/spi/spi.c strongswan-2.2.2-gentoo/programs/spi/spi.c
--- strongswan-2.2.2/programs/spi/spi.c	2004-09-29 17:28:49.000000000 -0500
+++ strongswan-2.2.2-gentoo/programs/spi/spi.c	2004-10-25 11:31:16.695203902 -0500
@@ -981,7 +981,7 @@ main(int argc, char *argv[])
 			       fprintf(stderr, "%s: invalid encryption keylen=%d, "
 					       "required %d by encrypt algo string=\"%s\"\n",
 				       program_name, 
-				       keylen,
+				       (int)keylen,
 				       (int)esp_info->esp_ealg_keylen,
 				       alg_string);
 			       exit(1);
@@ -993,7 +993,7 @@ main(int argc, char *argv[])
 			       fprintf(stderr, "%s: invalid encryption keylen=%d, "
 					       "must be between %d and %d bits\n",
 					       program_name, 
-					       keylen, minbits, maxbits);
+					       (int)keylen, (int)minbits, (int)maxbits);
 			       exit(1);
 		       }
 		       alg_p=kernel_alg_sadb_alg_get(SADB_SATYPE_ESP,SADB_EXT_SUPPORTED_AUTH, 
@@ -1006,7 +1006,7 @@ main(int argc, char *argv[])
 			       fprintf(stderr, "%s: invalid auth keylen=%d, "
 					       "must be between %d and %d bits\n",
 					       program_name, 
-					       keylen, minbits, maxbits);
+					       (int)keylen, (int)minbits, (int)maxbits);
 			       exit(1);
 		       }
 
diff -Naupr strongswan-2.2.2/programs/spigrp/spigrp.5 strongswan-2.2.2-gentoo/programs/spigrp/spigrp.5
--- strongswan-2.2.2/programs/spigrp/spigrp.5	2004-03-15 14:35:31.000000000 -0600
+++ strongswan-2.2.2-gentoo/programs/spigrp/spigrp.5	2004-10-25 11:30:20.658933193 -0500
@@ -77,7 +77,7 @@ be an incoming or outgoing group, depend
 machine.
 .LP
 .SH FILES
-/proc/net/ipsec_spigrp, /usr/local/bin/ipsec
+/proc/net/ipsec_spigrp, /usr/bin/ipsec
 .SH "SEE ALSO"
 ipsec(8), ipsec_manual(8), ipsec_tncfg(5), ipsec_eroute(5),
 ipsec_spi(5), ipsec_klipsdebug(5), ipsec_spigrp(8), ipsec_version(5),
diff -Naupr strongswan-2.2.2/programs/spigrp/spigrp.8 strongswan-2.2.2-gentoo/programs/spigrp/spigrp.8
--- strongswan-2.2.2/programs/spigrp/spigrp.8	2004-03-15 14:35:31.000000000 -0600
+++ strongswan-2.2.2-gentoo/programs/spigrp/spigrp.8	2004-10-25 11:30:20.658933193 -0500
@@ -128,7 +128,7 @@ and finally an AH header to authenticate
 .BR 0x236 .
 .LP
 .SH FILES
-/proc/net/ipsec_spigrp, /usr/local/bin/ipsec
+/proc/net/ipsec_spigrp, /usr/bin/ipsec
 .SH "SEE ALSO"
 ipsec(8), ipsec_manual(8), ipsec_tncfg(8), ipsec_eroute(8),
 ipsec_spi(8), ipsec_klipsdebug(8), ipsec_spigrp(5)
diff -Naupr strongswan-2.2.2/programs/tncfg/tncfg.5 strongswan-2.2.2-gentoo/programs/tncfg/tncfg.5
--- strongswan-2.2.2/programs/tncfg/tncfg.5	2004-03-15 14:35:31.000000000 -0600
+++ strongswan-2.2.2-gentoo/programs/tncfg/tncfg.5	2004-10-25 11:30:20.659933019 -0500
@@ -75,7 +75,7 @@ shows that virtual device
 is not connected to any physical device.
 .LP
 .SH "FILES"
-/proc/net/ipsec_tncfg, /usr/local/bin/ipsec
+/proc/net/ipsec_tncfg, /usr/bin/ipsec
 .SH "SEE ALSO"
 ipsec(8), ipsec_manual(8), ipsec_eroute(5), ipsec_spi(5),
 ipsec_spigrp(5), ipsec_klipsdebug(5), ipsec_tncfg(8), ipsec_version(5),
diff -Naupr strongswan-2.2.2/programs/tncfg/tncfg.8 strongswan-2.2.2-gentoo/programs/tncfg/tncfg.8
--- strongswan-2.2.2/programs/tncfg/tncfg.8	2004-03-15 14:35:31.000000000 -0600
+++ strongswan-2.2.2-gentoo/programs/tncfg/tncfg.8	2004-10-25 11:30:20.659933019 -0500
@@ -76,7 +76,7 @@ virtual device to the
 physical device.
 .LP
 .SH "FILES"
-/proc/net/ipsec_tncfg, /usr/local/bin/ipsec
+/proc/net/ipsec_tncfg, /usr/bin/ipsec
 .SH "SEE ALSO"
 ipsec(8), ipsec_manual(8), ipsec_eroute(8), ipsec_spi(8),
 ipsec_spigrp(8), ipsec_klipsdebug(8), ipsec_tncfg(5)
