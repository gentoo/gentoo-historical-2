diff --git a/Makefile.am b/Makefile.am
index b825874..0e13bf5 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -187,11 +187,11 @@ endif
 $(src_connmand_OBJECTS) $(plugin_objects): $(local_headers)
 
 include/connman/version.h: include/version.h
-	$(AM_V_at)if [ ! -e include/connman ] ; then mkdir include/connman ; fi
+	$(AM_V_at)$(MKDIR_P) include/connman
 	$(AM_V_GEN)$(LN_S) $(abs_top_builddir)/$< $@
 
 include/connman/%.h: include/%.h
-	$(AM_V_at)if [ ! -e include/connman ] ; then mkdir include/connman ; fi
+	$(AM_V_at)$(MKDIR_P) include/connman
 	$(AM_V_GEN)$(LN_S) $(abs_top_srcdir)/$< $@
 
 clean-local: include/connman
diff --git a/configure.ac b/configure.ac
index 4b81cbe..a5d8ed5 100644
--- a/configure.ac
+++ b/configure.ac
@@ -25,6 +25,7 @@ AC_PROG_CC_PIE
 AC_PROG_INSTALL
 AC_PROG_SED
 AC_PROG_AWK
+AM_PROG_MKDIR_P
 
 m4_define([_LT_AC_TAGCONFIG], [])
 m4_ifdef([AC_LIBTOOL_TAGS], [AC_LIBTOOL_TAGS([])])
