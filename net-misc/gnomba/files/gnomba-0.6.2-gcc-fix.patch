--- src/net.c	2000-02-16 01:01:37.000000000 -0500
+++ src/net.c.new	2006-11-04 22:46:52.000000000 -0500
@@ -369,10 +369,20 @@
 
   sock_unblock(socket_client);
 
-	if (SlowScan) loops = 50; else loops = 2;
-  for (timeout = 0; timeout < loops; timeout++) {
-    if (SlowScan) usleep(700000); else usleep(100000);
-    if (recvfrom(socket_client, buffer, sizeof(buffer), 0, (struct sockaddr *) &sin_dst, &(int) longueur) != -1) {
+	if (SlowScan)
+        loops = 50;
+    else
+        loops = 2;
+
+  for (timeout = 0; timeout < loops; timeout++)
+  {
+    if (SlowScan)
+        usleep(700000);
+    else
+        usleep(100000);
+
+    if (recvfrom(socket_client, buffer, sizeof(buffer), 0, (struct sockaddr *) &sin_dst, longueur) != -1)
+    {
       if (nmb->rep_num != 0) {
 
 	/*set to first nameblock after header */
