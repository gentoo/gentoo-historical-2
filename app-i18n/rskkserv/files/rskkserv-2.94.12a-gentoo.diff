diff -urN rskkserv-2.94.12a.ORIG/ext/extconf.rb.in rskkserv-2.94.12a/ext/extconf.rb.in
--- rskkserv-2.94.12a.ORIG/ext/extconf.rb.in	2001-08-14 01:06:08.000000000 +0900
+++ rskkserv-2.94.12a/ext/extconf.rb.in	2003-09-20 16:00:37.000000000 +0900
@@ -5,8 +5,8 @@
 # guessing `rubylibdir' and `rubyarchdir'
 prefix = "@prefix@"
 if prefix == CONFIG["prefix"]
-  rubylibdir = CONFIG["rubylibdir"]
-  rubyarchdir = CONFIG["archdir"]
+  rubylibdir = CONFIG["sitelibdir"]
+  rubyarchdir = CONFIG["sitearchdir"]
 else
   rubylibdir = prefix + "/lib/ruby/" + CONFIG["MAJOR"] + "." + CONFIG["MINOR"]
   rubyarchdir = rubylibdir + "/" + CONFIG["arch"]
diff -urN rskkserv-2.94.12a.ORIG/skkserv.rb.in rskkserv-2.94.12a/skkserv.rb.in
--- rskkserv-2.94.12a.ORIG/skkserv.rb.in	2001-11-19 20:25:39.000000000 +0900
+++ rskkserv-2.94.12a/skkserv.rb.in	2003-09-20 16:02:08.000000000 +0900
@@ -230,7 +230,7 @@
 	  break
 	when CLIENT_REQUEST
 #	  Logger::log(Logger::DEBUG, "message from client %s: WORD", peer)
-	  cmdend = cmdbuf.index(? ) or cmdend = cmdbuf.index(?\n) 
+	  cmdend = cmdbuf.index(?\ ) or cmdend = cmdbuf.index(?\n) 
 	  kana = cmdbuf[1 .. (cmdend - 1)]
 	  ret = ""
 	  if kanji = @dictionary.search(kana)
