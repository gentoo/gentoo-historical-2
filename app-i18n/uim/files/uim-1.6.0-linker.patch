diff -Naur uim-1.6.0.orig/configure.ac uim-1.6.0/configure.ac
--- uim-1.6.0.orig/configure.ac	2010-08-02 09:30:14.000000000 +0900
+++ uim-1.6.0/configure.ac	2011-01-03 11:43:06.375239564 +0900
@@ -1826,6 +1826,7 @@
 		 qt4/chardict/uim-chardict-qt4.pro
 		 qt4/chardict/po/Makefile.in
 		 qt4/edittest/Makefile
+		 qt4/edittest/edittest.pro
 		 qt4/immodule/quiminputcontextplugin.pro
 		 qt4/immodule/Makefile
 		 qt4/pref/uim-pref-qt4.pro
diff -Naur uim-1.6.0.orig/qt4/candwin/uim-candwin-qt4.pro.in uim-1.6.0/qt4/candwin/uim-candwin-qt4.pro.in
--- uim-1.6.0.orig/qt4/candwin/uim-candwin-qt4.pro.in	2010-08-09 13:09:35.000000000 +0900
+++ uim-1.6.0/qt4/candwin/uim-candwin-qt4.pro.in	2011-01-05 09:27:14.905438175 +0900
@@ -16,6 +16,9 @@
 QMAKE_CXX               = @CXX@
 QMAKE_CXXFLAGS_DEBUG   += @CXXFLAGS@ @X_CFLAGS@
 QMAKE_CXXFLAGS_RELEASE += @CXXFLAGS@ @X_CFLAGS@
+QMAKE_LINK              = @CXX@
+QMAKE_LFLAGS_DEBUG     += @LDFLAGS@
+QMAKE_LFLAGS_RELEASE   += @LDFLAGS@
 
 QMAKE_STRIP =
 
diff -Naur uim-1.6.0.orig/qt4/chardict/uim-chardict-qt4.pro.in uim-1.6.0/qt4/chardict/uim-chardict-qt4.pro.in
--- uim-1.6.0.orig/qt4/chardict/uim-chardict-qt4.pro.in	2010-08-09 13:09:35.000000000 +0900
+++ uim-1.6.0/qt4/chardict/uim-chardict-qt4.pro.in	2011-01-05 09:27:14.905438175 +0900
@@ -16,6 +16,9 @@
 QMAKE_CXX               = @CXX@
 QMAKE_CXXFLAGS_DEBUG   += @CXXFLAGS@ @X_CFLAGS@
 QMAKE_CXXFLAGS_RELEASE += @CXXFLAGS@ @X_CFLAGS@
+QMAKE_LINK              = @CXX@
+QMAKE_LFLAGS_DEBUG     += @LDFLAGS@
+QMAKE_LFLAGS_RELEASE   += @LDFLAGS@
 
 QMAKE_STRIP =
 
diff -Naur uim-1.6.0.orig/qt4/edittest/Makefile.am uim-1.6.0/qt4/edittest/Makefile.am
--- uim-1.6.0.orig/qt4/edittest/Makefile.am	2010-03-30 13:24:26.000000000 +0900
+++ uim-1.6.0/qt4/edittest/Makefile.am	2011-01-03 11:41:06.643957761 +0900
@@ -12,8 +12,8 @@
 	$(MAKE) $(AM_MAKEFLAGS) -f Makefile.qmake $@
 	$(MAKE) $(AM_MAKEFLAGS) distclean-am
 endif
-	-rm -f Makefile
+	-rm -f Makefile edittest.pro
 
 FORCE:
 
-EXTRA_DIST = README edittest.pro main.cpp
+EXTRA_DIST = README edittest.pro.in main.cpp
diff -Naur uim-1.6.0.orig/qt4/edittest/edittest.pro uim-1.6.0/qt4/edittest/edittest.pro
--- uim-1.6.0.orig/qt4/edittest/edittest.pro	2010-08-09 13:09:35.000000000 +0900
+++ uim-1.6.0/qt4/edittest/edittest.pro	1970-01-01 09:00:00.000000000 +0900
@@ -1,14 +0,0 @@
-######################################################################
-# Automatically generated by qmake (1.08a) Tue Aug 24 01:02:27 2004
-######################################################################
-
-TEMPLATE = app
-CONFIG -= moc
-DEPENDPATH += .
-INCLUDEPATH += .
-CONFIG += qt warn_on debug
-
-QMAKE_STRIP =
-
-# Input
-SOURCES += main.cpp
diff -Naur uim-1.6.0.orig/qt4/edittest/edittest.pro.in uim-1.6.0/qt4/edittest/edittest.pro.in
--- uim-1.6.0.orig/qt4/edittest/edittest.pro.in	1970-01-01 09:00:00.000000000 +0900
+++ uim-1.6.0/qt4/edittest/edittest.pro.in	2011-01-05 09:27:14.909438151 +0900
@@ -0,0 +1,24 @@
+######################################################################
+# Automatically generated by qmake (1.08a) Tue Aug 24 01:02:27 2004
+######################################################################
+
+TEMPLATE = app
+CONFIG -= moc
+DEPENDPATH += .
+INCLUDEPATH += .
+CONFIG += qt warn_on debug
+
+QMAKE_CC                = @CC@
+QMAKE_CFLAGS_DEBUG     += @CFLAGS@   @X_CFLAGS@
+QMAKE_CFLAGS_RELEASE   += @CFLAGS@   @X_CFLAGS@
+QMAKE_CXX               = @CXX@
+QMAKE_CXXFLAGS_DEBUG   += @CXXFLAGS@ @X_CFLAGS@
+QMAKE_CXXFLAGS_RELEASE += @CXXFLAGS@ @X_CFLAGS@
+QMAKE_LINK              = @CXX@
+QMAKE_LFLAGS_DEBUG     += @LDFLAGS@
+QMAKE_LFLAGS_RELEASE   += @LDFLAGS@
+
+QMAKE_STRIP =
+
+# Input
+SOURCES += main.cpp
diff -Naur uim-1.6.0.orig/qt4/immodule/quiminputcontextplugin.pro.in uim-1.6.0/qt4/immodule/quiminputcontextplugin.pro.in
--- uim-1.6.0.orig/qt4/immodule/quiminputcontextplugin.pro.in	2010-08-09 13:09:35.000000000 +0900
+++ uim-1.6.0/qt4/immodule/quiminputcontextplugin.pro.in	2011-01-05 09:27:14.913438127 +0900
@@ -22,6 +22,9 @@
 QMAKE_CXX               = @CXX@
 QMAKE_CXXFLAGS_DEBUG   += @CXXFLAGS@ @X_CFLAGS@
 QMAKE_CXXFLAGS_RELEASE += @CXXFLAGS@ @X_CFLAGS@
+QMAKE_LINK              = @CXX@
+QMAKE_LFLAGS_DEBUG     += @LDFLAGS@
+QMAKE_LFLAGS_RELEASE   += @LDFLAGS@
 
 QMAKE_STRIP =
 
diff -Naur uim-1.6.0.orig/qt4/pref/uim-pref-qt4.pro.in uim-1.6.0/qt4/pref/uim-pref-qt4.pro.in
--- uim-1.6.0.orig/qt4/pref/uim-pref-qt4.pro.in	2010-08-09 13:09:35.000000000 +0900
+++ uim-1.6.0/qt4/pref/uim-pref-qt4.pro.in	2011-01-05 09:27:14.913438127 +0900
@@ -16,6 +16,9 @@
 QMAKE_CXX               = @CXX@
 QMAKE_CXXFLAGS_DEBUG   += @CXXFLAGS@ @X_CFLAGS@
 QMAKE_CXXFLAGS_RELEASE += @CXXFLAGS@ @X_CFLAGS@
+QMAKE_LINK              = @CXX@
+QMAKE_LFLAGS_DEBUG     += @LDFLAGS@
+QMAKE_LFLAGS_RELEASE   += @LDFLAGS@
 
 QMAKE_STRIP =
 QMAKE_UIC = $$QMAKE_UIC -tr UIC_
diff -Naur uim-1.6.0.orig/qt4/switcher/uim-im-switcher-qt4.pro.in uim-1.6.0/qt4/switcher/uim-im-switcher-qt4.pro.in
--- uim-1.6.0.orig/qt4/switcher/uim-im-switcher-qt4.pro.in	2010-08-09 13:09:35.000000000 +0900
+++ uim-1.6.0/qt4/switcher/uim-im-switcher-qt4.pro.in	2011-01-05 09:27:14.917438104 +0900
@@ -16,6 +16,9 @@
 QMAKE_CXX               = @CXX@
 QMAKE_CXXFLAGS_DEBUG   += @CXXFLAGS@ @X_CFLAGS@
 QMAKE_CXXFLAGS_RELEASE += @CXXFLAGS@ @X_CFLAGS@
+QMAKE_LINK              = @CXX@
+QMAKE_LFLAGS_DEBUG     += @LDFLAGS@
+QMAKE_LFLAGS_RELEASE   += @LDFLAGS@
 
 QMAKE_STRIP =
 
diff -Naur uim-1.6.0.orig/qt4/toolbar/uim-toolbar-qt4.pro.in uim-1.6.0/qt4/toolbar/uim-toolbar-qt4.pro.in
--- uim-1.6.0.orig/qt4/toolbar/uim-toolbar-qt4.pro.in	2010-08-09 13:09:35.000000000 +0900
+++ uim-1.6.0/qt4/toolbar/uim-toolbar-qt4.pro.in	2011-01-05 09:27:14.917438104 +0900
@@ -16,6 +16,9 @@
 QMAKE_CXX               = @CXX@
 QMAKE_CXXFLAGS_DEBUG   += @CXXFLAGS@ @X_CFLAGS@
 QMAKE_CXXFLAGS_RELEASE += @CXXFLAGS@ @X_CFLAGS@
+QMAKE_LINK              = @CXX@
+QMAKE_LFLAGS_DEBUG     += @LDFLAGS@
+QMAKE_LFLAGS_RELEASE   += @LDFLAGS@
 
 QMAKE_STRIP =
 
