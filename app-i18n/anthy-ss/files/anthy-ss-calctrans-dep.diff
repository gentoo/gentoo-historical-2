diff -urN anthy-8916.orig/calctrans/Makefile.am anthy-8916/calctrans/Makefile.am
--- anthy-8916.orig/calctrans/Makefile.am	2007-05-15 19:48:41.000000000 +0900
+++ anthy-8916/calctrans/Makefile.am	2007-05-19 12:45:38.671899486 +0900
@@ -13,23 +13,23 @@
 
 dict_source_files = anthy.cand_info anthy.trans_info anthy.corpus_array anthy.corpus_bucket
 
-update_params:
+update_params: proccorpus calctrans
 	rm -f parsed_data2
 	./proccorpus $(srcdir)/corpus.?.txt > parsed_data
 	./calctrans parsed_data -o $(srcdir)/corpus_info
 	make do_update_params
 
-update_params2:
+update_params2: proccorpus calctrans parsed_data
 	./proccorpus $(srcdir)/corpus.?.txt >> parsed_data2
 	./calctrans parsed_data parsed_data2 -o $(srcdir)/corpus_info
 	make do_update_params
 
-do_update_params:
+do_update_params: calctrans $(srcdir)/corpus_info
 	./calctrans -c $(srcdir)/corpus_info
 	rm -f $(dict_source_files)
 	make $(dict_source_files)
 
-$(dict_source_files): $(srcdir)/corpus_info
+$(dict_source_files): calctrans $(srcdir)/corpus_info
 	./calctrans -c $(srcdir)/corpus_info
 
 noinst_DATA = $(dict_source_files)
