diff -uNr epiphany-1.4.0/embed/mozilla/EphyBrowser.cpp epiphany-1.4.0.patched/embed/mozilla/EphyBrowser.cpp
--- epiphany-1.4.0/embed/mozilla/EphyBrowser.cpp	2004-08-08 20:11:56.000000000 +0200
+++ epiphany-1.4.0.patched/embed/mozilla/EphyBrowser.cpp	2004-09-16 12:13:46.664381872 +0200
@@ -411,7 +411,7 @@
 	return ContentNav->GotoIndex (index);
 }
 
-#if (!MOZILLA_IS_BRANCH (1, 7) || !MOZILLA_CHECK_VERSION3 (1, 7, 3)) && !MOZILLA_CHECK_VERSION4 (1, 8, MOZILLA_ALPHA, 3)
+#if (!MOZILLA_IS_BRANCH (1, 7) || !MOZILLA_CHECK_VERSION3 (1, 7, 4)) && !MOZILLA_CHECK_VERSION4 (1, 8, MOZILLA_ALPHA, 3)
 /* Workaround for broken reload with frames, see mozilla bug
  * http://bugzilla.mozilla.org/show_bug.cgi?id=246392
  */
diff -uNr epiphany-1.4.0/embed/mozilla/EphyBrowser.h epiphany-1.4.0.patched/embed/mozilla/EphyBrowser.h
--- epiphany-1.4.0/embed/mozilla/EphyBrowser.h	2004-08-08 20:11:56.000000000 +0200
+++ epiphany-1.4.0.patched/embed/mozilla/EphyBrowser.h	2004-09-16 12:14:09.170960352 +0200
@@ -112,7 +112,7 @@
 	nsresult GetSHUrlAtIndex (PRInt32 index, nsACString &url);
 	nsresult GoToHistoryIndex (PRInt16 index);
 
-#if (!MOZILLA_IS_BRANCH (1, 7) || !MOZILLA_CHECK_VERSION3 (1, 7, 3)) && !MOZILLA_CHECK_VERSION4 (1, 8, MOZILLA_ALPHA, 3)
+#if (!MOZILLA_IS_BRANCH (1, 7) || !MOZILLA_CHECK_VERSION3 (1, 7, 4)) && !MOZILLA_CHECK_VERSION4 (1, 8, MOZILLA_ALPHA, 3)
 	enum ReloadType { RELOAD_NORMAL		 = 0,
 			  RELOAD_FORCE		 = 1,
 			  RELOAD_ENCODING_CHANGE = 2 };
diff -uNr epiphany-1.4.0/embed/mozilla/GlobalHistory.cpp epiphany-1.4.0.patched/embed/mozilla/GlobalHistory.cpp
--- epiphany-1.4.0/embed/mozilla/GlobalHistory.cpp	2004-08-27 22:39:10.000000000 +0200
+++ epiphany-1.4.0.patched/embed/mozilla/GlobalHistory.cpp	2004-09-16 12:14:47.772092088 +0200
@@ -133,7 +133,7 @@
 	return NS_ERROR_NOT_IMPLEMENTED;
 }
 
-#if (MOZILLA_IS_BRANCH (1, 7) && MOZILLA_CHECK_VERSION3 (1, 7, 3)) || MOZILLA_CHECK_VERSION4 (1, 8, MOZILLA_ALPHA, 3)
+#if (MOZILLA_IS_BRANCH (1, 7) && MOZILLA_CHECK_VERSION3 (1, 7, 4)) || MOZILLA_CHECK_VERSION4 (1, 8, MOZILLA_ALPHA, 3)
 /* void removePage (in nsIURI aURI); */
 NS_IMETHODIMP MozGlobalHistory::RemovePage(nsIURI *aURI)
 {
@@ -179,7 +179,7 @@
     return NS_ERROR_NOT_IMPLEMENTED;
 }
 
-#if (MOZILLA_IS_BRANCH (1, 7) && MOZILLA_CHECK_VERSION3 (1, 7, 3)) || MOZILLA_CHECK_VERSION4 (1, 8, MOZILLA_ALPHA, 3)
+#if (MOZILLA_IS_BRANCH (1, 7) && MOZILLA_CHECK_VERSION3 (1, 7, 4)) || MOZILLA_CHECK_VERSION4 (1, 8, MOZILLA_ALPHA, 3)
 /* void markPageAsTyped (in AUTF8String aURI) */
 NS_IMETHODIMP MozGlobalHistory::MarkPageAsTyped(nsIURI *aURI)
 {
