diff -Naur mod_log_sql-1.97/mod_log_sql.c mod_log_sql-1.97-gentoo/mod_log_sql.c
--- mod_log_sql-1.97/mod_log_sql.c	2004-04-09 01:09:40.000000000 +0000
+++ mod_log_sql-1.97-gentoo/mod_log_sql.c	2004-05-07 12:09:21.543679240 +0000
@@ -1,5 +1,13 @@
 /* $Id: mod_log_sql-1.97-gentoo.patch,v 1.1 2004/05/06 20:06:15 zul Exp $ */
 
+#if defined(WITH_APACHE20)
+#	include "apache20.h"
+#elif defined(WITH_APACHE13)
+#	include "apache13.h"
+#else
+#	error Unsupported Apache version
+#endif
+
 #ifdef HAVE_CONFIG_H
 /* Undefine these to prevent conflicts between Apache ap_config_auto.h and 
  * my config.h. Only really needed for Apache < 2.0.48, but it can't hurt.
@@ -13,13 +21,6 @@
 #include "config.h"
 #endif
 
-#if defined(WITH_APACHE20)
-#	include "apache20.h"
-#elif defined(WITH_APACHE13)
-#	include "apache13.h"
-#else
-#	error Unsupported Apache version
-#endif
 
 #if APR_HAVE_UNISTD_H
 #include <unistd.h>
