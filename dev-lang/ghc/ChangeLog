# ChangeLog for dev-lang/ghc
# Copyright 2002-2006 Gentoo Foundation; Distributed under the GPL v2
# $Header: /var/cvsroot/gentoo-x86/dev-lang/ghc/ChangeLog,v 1.85 2006/03/18 02:50:32 dcoutts Exp $

  18 Mar 2006; Duncan Coutts <dcoutts@gentoo.org> ghc-6.4.1-r2.ebuild:
  Enable SplitObjs on sparc. This means that a stripped hello world binary is
  now 500K rather than 2.5Mb. It may work on ppc too, this needs testing.

  15 Mar 2006; Duncan Coutts <dcoutts@gentoo.org> ghc-6.4.1-r2.ebuild:
  A further fix for the executable stack issue.
  (It seems we need -Wa,--noexecstack in SRC_CC_OPTS as well as SRC_HC_OPTS)

  13 Mar 2006; Duncan Coutts <dcoutts@gentoo.org> files/ghc-updater,
  ghc-6.4.1-r2.ebuild:
  Improvements to ghc-updater thanks to kosmikus and with help from ferdy

  13 Mar 2006; Jeroen Roovers <jer@gentoo.org> ghc-6.4.1-r2.ebuild:
  Marked ~hppa (bug #125389).

  13 Mar 2006; Duncan Coutts <dcoutts@gentoo.org> ghc-6.4.1-r2.ebuild:
  Fix omission in hppa support.

  10 Mar 2006; Duncan Coutts <dcoutts@gentoo.org> ghc-6.4.1-r2.ebuild:
  Change what flags we use to disable hardened gcc and how we set them. We now
  use one set of flags rather than picking them conditionally.
  Use an option which should fix the executable-stack problem (bug #123698).
  Prepare for hppa arch support and misc minor tidy-ups.

  01 Mar 2006; Markus Rothe <corsair@gentoo.org> ghc-6.4.1-r2.ebuild:
  Added ~ppc64; bug #88362

  24 Feb 2006; Duncan Coutts <dcoutts@gentoo.org>
  -files/ghc-6.0.1.haddock.patch:
  Remove old unused patch.

*ghc-6.4.1-r2 (16 Feb 2006)

  16 Feb 2006; Luis F. Araujo <araujo@gentoo.org> +ghc-6.4.1-r2.ebuild:
  Added support for modular X. New flags support to enable/disable X, hgl and
  openal

  10 Feb 2006; <dcoutts@gentoo.org> -ghc-6.0.1.ebuild:
  Remove the last ghc-6.0.x version. (There's no way to bootstrap it anyway)

  10 Feb 2006; <dcoutts@gentoo.org> ghc-6.4.1-r1.ebuild:
  Marked ~alpha with permission of ferdy.

  16 Nov 2005; Andres Loeh <kosmikus@gentoo.org> ghc-6.4.1-r1.ebuild:
  Reduced the amount of output during the build slightly to work around bug
  #111183.

*ghc-6.4.1-r1 (21 Oct 2005)

  21 Oct 2005; <dcoutts@gentoo.org> +ghc-6.4.1-r1.ebuild:
  Add new revision ghc-6.4.1-r1 which now PDEPENDs on cabal.

  06 Oct 2005; <dcoutts@gentoo.org> ghc-6.4.1.ebuild:
  Revert to using virtual/ghc in DEPEND since the other method had no advantages.

  06 Oct 2005; <dcoutts@gentoo.org> +files/depsort.py, files/ghc-updater:
  Make the ghc-updater script work better.

  04 Oct 2005; Luis F. Araujo <araujo@gentoo.org> ghc-6.2.2.ebuild:
  Blocked ghc6.4 in ghc6.2.2

  04 Oct 2005; Gustavo Zacarias <gustavoz@gentoo.org> ghc-6.4.1.ebuild:
  Back to the ~ppc

  04 Oct 2005; <dcoutts@gentoo.org> ghc-6.4.1.ebuild:
  Add ~sparc to KEYWORDS and enable GHCi on sparc.

  23 Sep 2005; <dcoutts@gentoo.org> ghc-6.4.1.ebuild:
  Disabled java USE flag due to bug #106992

*ghc-6.4.1 (22 Sep 2005)

  22 Sep 2005; <dcoutts@gentoo.org> +ghc-6.4.1.ebuild:
  Version bump.

  01 Sep 2005; Gustavo Zacarias <gustavoz@gentoo.org> ghc-6.2.2.ebuild:
  Stable on sparc

  31 Aug 2005; Gustavo Zacarias <gustavoz@gentoo.org> ghc-6.4.ebuild:
  Fixed to build on ppc for real

  17 Aug 2005; <dcoutts@gentoo.org> ghc-6.4.ebuild:
  Add ~sparc to KEYWORDS since it was missing and we've already got ghc-bin-6.4

  17 Aug 2005; Andres Loeh <loeh@gentoo.org> -files/ghc-5.04.3-r1.patch,
  -files/ghc-6.2.1-linker.patch.bz2, -files/ghc-6.2.documentation.patch,
  -files/ghc-6.2.hardened.patch.bz2, -files/lndir.c, -ghc-6.2.ebuild,
  -ghc-6.2-r1.ebuild, -ghc-6.2.1-r1.ebuild, ghc-6.2.2.ebuild:
  Removed ~amd64 keyword for ghc-6.2.2, because ghc-6.2.2 is broken on this
  arch. Cleaned up old versions.

  20 May 2005; <dcoutts@gentoo.org> ghc-6.2.2.ebuild:
  Add ~sparc to KEYWORDS and disable GHCi support on sparc since it does not
  work reliably.

  11 May 2005; Andres Loeh <kosmikus@gentoo.org> ghc-6.4.ebuild:
  Removing ~ppc64 from ghc-6.4 again (hopefully temporarily), see comment #24
  of bug #68930.

  11 May 2005; Andres Loeh <kosmikus@gentoo.org> files/ghc-updater:
  Changes to ghc-updater, to make it a bit more useful for the update to ghc-6.4.

  09 May 2005; Markus Rothe <corsair@gentoo.org>
  +files/ghc-6.4-powerpc.patch, ghc-6.4.ebuild:
  Added patch for ppc64 and added ~ppc64 to KEYWORDS

  09 Apr 2005; Michael Hanselmann <hansmi@gentoo.org> ghc-6.2.2.ebuild:
  Stable on ppc.

  25 Mar 2005; Andres Loeh <kosmikus@gentoo.org> ghc-6.2.2.ebuild,
  ghc-6.4.ebuild:
  ghc-6.4 supports registered builds on amd64. ghci is still not supported on
  amd64, but it fails with a more informative error message now (bug #82541).

  23 Mar 2005; Andres Loeh <kosmikus@gentoo.org> ghc-6.4.ebuild:
  Added dependency on haddock.

  23 Mar 2005; Andres Loeh <kosmikus@gentoo.org> ghc-6.4.ebuild:
  Added missing dependency on libxslt, and slightly cleaned up the ebuild.

*ghc-6.4 (11 Mar 2005)

  11 Mar 2005; Andres Loeh <kosmikus@gentoo.org> +ghc-6.4.ebuild,
  -ghc-6.4_pre20050308.ebuild:
  Updated ghc-6.4 snapshot to ghc-6.4 release. This version is still masked
  for testing.

*ghc-6.4_pre20050308 (09 Mar 2005)

  09 Mar 2005; Andres Loeh <kosmikus@gentoo.org> ghc-6.4_pre20050308.ebuild:
  Added a ghc-6.4 snapshot for testing purposes.

  19 Feb 2005; Jason Wever <weeve@gentoo.org> ghc-6.0.1.ebuild,
  ghc-6.2-r1.ebuild, ghc-6.2.1-r1.ebuild, ghc-6.2.2.ebuild, ghc-6.2.ebuild:
  Masked on SPARC as it doesn't build.

  25 Jan 2005; Andres Loeh <kosmikus@gentoo.org> ghc-6.2.2.ebuild:
  Dependency resolution for virtuals changed in portage. Temporily adapted the
  ebuild to quit with an informative error message until a real solution comes
  to mind. (Bug #79509)

  19 Jan 2005; Andres Loeh <kosmikus@gentoo.org> ghc-6.2.2.ebuild:
  Marked stable on x86.

  25 Nov 2004; Andres Loeh <kosmikus@gentoo.org> ghc-6.2.2.ebuild:
  The amd64 build is unregistered (bug #58588).

  24 Nov 2004; Andres Loeh <kosmikus@gentoo.org> ghc-6.2.2.ebuild:
  Added ~amd64 flag, cf. bug #58588.

  22 Nov 2004; Andres Loeh <kosmikus@gentoo.org> +files/ghc-updater,
  ghc-6.2.2.ebuild:
  Modified ebuild to use ghc-package.eclass (bug #69270) and to include
  ghc-updater script (bug #69142).

  26 Oct 2004; Andres Loeh <kosmikus@gentoo.org> ghc-6.2.2.ebuild:
  Modified CFLAG testing code, following discussion in bug #59709.

  24 Oct 2004; Matthieu Sozeau <mattam@gentoo.org> ghc-6.2.2.ebuild:
  Tested on ppc.

*ghc-6.2.2 (18 Oct 2004)

  18 Oct 2004; Andres Loeh <kosmikus@gentoo.org> ghc-6.0.ebuild,
  ghc-6.2.1-r1.ebuild, ghc-6.2.1.ebuild, ghc-6.2.2.ebuild:
  New version. Included mattam's fix for #59709. Removed some old versions.

  19 Oct 2004; Mamoru KOMACHI <usata@gentoo.org> ghc-6.0.1.ebuild,
  ghc-6.0.ebuild, ghc-6.2-r1.ebuild, ghc-6.2.1-r1.ebuild, ghc-6.2.1.ebuild,
  ghc-6.2.ebuild:
  Fixed missing dependencies; bug #68021.

  24 Sep 2004; <SeJo@gentoo.org> ghc-6.2.ebuild:
  stable bump due to bug 59753

  01 Jul 2004; Jeremy Huddleston <eradicator@gentoo.org> ghc-6.0.1.ebuild,
  ghc-6.0.ebuild, ghc-6.2-r1.ebuild, ghc-6.2.1-r1.ebuild, ghc-6.2.1.ebuild,
  ghc-6.2.ebuild:
  virtual/glibc -> virtual/libc

*ghc-6.2.1-r1 (15 Jun 2004)

  15 Jun 2004; Andres Loeh <kosmikus@gentoo.org> ghc-6.2.1-r1.ebuild,
  files/ghc-6.2.1-linker.patch.bz2:
  Patch for ghci's linker to help loading HOpenGL. Thanks to Sven Panne.

  03 Jun 2004; Aron Griffis <agriffis@gentoo.org> ghc-6.0.1.ebuild,
  ghc-6.0.ebuild, ghc-6.2-r1.ebuild, ghc-6.2.1.ebuild, ghc-6.2.ebuild:
  Fix use invocation

  18 May 2004; Mamoru KOMACHI <usata@gentoo.org> ghc-6.0.1.ebuild,
  ghc-6.0.ebuild, ghc-6.2-r1.ebuild, ghc-6.2.1.ebuild, ghc-6.2.ebuild:
  Changed app-text/tetex to virtual/tetex.

  13 May 2004; Andres Loeh <kosmikus@gentoo.org> ghc-6.2.1.ebuild:
  fixed patch for ghc-6.2.1; threaded rts now enabled by default (#50758)

  12 May 2004; Alexander Gabert <pappy@gentoo.org> ghc-6.2.1.ebuild:
  added new hardened PIE SSP switches

  12 May 2004; Alexander Gabert <pappy@gentoo.org>
  -files/ghc-6.2.hardened-gcc.patch.bz2, +files/ghc-6.2.hardened.patch.bz2,
  ghc-6.0.1.ebuild, ghc-6.2-r1.ebuild, ghc-6.2.ebuild:
  added new hardened switches for nonPIE and nonSSP building

  02 Apr 2004; Matthieu Sozeau <mattam@gentoo.org> ghc-6.2.1.ebuild:
  Add support for ppc on ghc-6.2.1.

  31 Mar 2004; Andres Loeh <kosmikus@gentoo.org> ghc-5.04.3-r1.ebuild,
  ghc-6.2-r1.ebuild:
  Marked ghc-6.2-r1 stable on x86. Removed 5 series due to bug #46212.

  23 Mar 2004; Matthieu Sozeau <mattam@gentoo.org> ghc-6.2.ebuild:
  Added ~ppc keyword, highly experimental build (linux-ppc is not entirely
  supported yet).

*ghc-6.2.1 (22 Mar 2004)

  22 Mar 2004; Andres Loeh <kosmikus@gentoo.org> ghc-6.2.1.ebuild:
  Version bump.

*ghc-6.2-r1 (11 Mar 2004)

  11 Mar 2004; Andres Loeh <kosmikus@gentoo.org> ghc-6.2-r1.ebuild,
  files/ghc-6.2.hardened-gcc.patch.bz2:
  Disabling propolice in the resulting ghc when using gcc-hardened (cf. bug
  #36154).

  20 Feb 2004; Andres Loeh <kosmikus@gentoo.org> ghc-6.2.ebuild:
  Fixed a problem building libraries using recent binutils (#40128).

  11 Jan 2004; Andres Loeh <kosmikus@gentoo.org> ghc-5.04.3-r1.ebuild:
  moved setup checks to pkg_setup (bug #33962).

  22 Dec 2003; Andres Loeh <kosmikus@gentoo.org> ghc-6.2.ebuild:
  Haddock got called even with USE=-doc.

  19 Dec 2003; Andres Loeh <kosmikus@gentoo.org> ghc-6.2.ebuild:
  GHC 6.2 needs haddock-0.6 (bug #36108)

*ghc-6.2 (17 Dec 2003)

  17 Dec 2003; Andres Loeh <kosmikus@gentoo.org> ghc-6.2.ebuild,
  files/ghc-6.2.documentation.patch:
  New GHC version 6.2.

  17 Dec 2003: Andres Loeh <kosmikus@gentoo.org> ghc-6.0.1.ebuild,
  files/ghc-6.0.1.haddock.patch:
  Added patch needed to compile documentation with haddock-0.6.

  11 Nov 2003; Alexander Gabert <pappy@gentoo.org> ghc-5.04.3-r1.ebuild,
  ghc-6.0.1.ebuild:
  added ghc-6.0.1 bugfix from ghc-5.04.3-r1 bug30789

  22 Oct 2003; Andres Loeh <kosmikus@gentoo.org> ghc-5.04.3-r1.ebuild,
  ghc-6.0.1.ebuild, ghc-6.0.ebuild:
  Added libgmp to runtime dependencies, closing bug #31321.

  12 Oct 2003; Alexander Gabert <pappy@gentoo.org> ghc-5.04.3-r1.ebuild:
  added hardened-gcc -yet_exec flag mechanism and CFLAGS for ghc if hardened-gcc
  is used

*ghc-6.0.1 (31 Jul 2003)

  31 Jul 2003; Andres Loeh <kosmikus@gentoo.org> ghc-6.0.1.ebuild:
  Version bump.

  30 Jul 2003; Andres Loeh <kosmikus@gentoo.org> ghc-6.0.ebuild:
  Fixed bug that caused ghc to be built with HOpenGL despite -opengl being set.

  29 Jul 2003; Andres Loeh <kosmikus@gentoo.org> ghc-5.04.3-r1.ebuild:
  Marked 5.04.3-r1 stable. It fixes a couple of problems that keep appearing
  with 5.04.3.

  02 Jul 2003; Andres Loeh <kosmikus@gentoo.org> ghc-5.04.3-r1.ebuild:
  Removed implicit X11 dependency (bug 23708). Thanks to Aaron Son
  <aaron@clamp.net> for discovering the problem.

*ghc-6.0 (01 Jun 2003)

  01 Jun 2003; Andres Loeh <kosmikus@gentoo.org> ghc-6.0.ebuild:
  Version bump. Will probably remain in testing until new version is released,
  as this version is considered to be beta by the developers. The ebuild has
  been somewhat simplified: GHC's build system now supports bootstrapping to get
  GHCi running automatically if necessary.

  21 May 2003; Andres Loeh <kosmikus@gentoo.org> ghc-5.04.3-r1.ebuild,
  files/ghc-5.04.3-r1.patch:
  Added a dependency to haddock when generating docs. This should fix bug
  #20989. Thanks to Mikael A <snikkt@yahoo.com> and Peter Lennartz
  <peterl@cs.uu.nl> for identifying the problem.

*ghc-5.04.3-r1 (09 May 2003)

  09 May 2003; Andres Loeh <kosmikus@gentoo.org> ghc-5.04.3-r1.ebuild:
  Fixed bug that caused ghci to fail with glibc-2.3.2 (reported by Ralf Hinze
  <ralf@informatik.uni-bonn.de>). Also added the generation of documentation
  again (had been missing for a while). To get full documentation, set the "doc"
  USE flag.

*ghc-5.04.2 (21 Mar 2003)

  21 Mar 2003; George Shapovalov <george@gentoo.org> ghc-5.04.3.ebuild :
  new version
  Now with all virtuals in place should build off existing ghc nicely..

  21 Mar 2003; George Shapovalov <george@gentoo.org> ghc-5.04.2.ebuild :
  created new virtual: virtual/ghc.
  Made ghc depend on virtual/ghc (and provide one) instead of on dev-lang/ghc-bin
  ghc-bin in turn now also provides virtual/ghc, this closes #10155

  13 Mar 2003; George Shapovalov <george@gentoo.org> ghc-5.04.2.ebuild :
  fix for when ghc gets bootstrapped off different version.
  Thanks to Andres Loeh <andres@cs.uu.nl> and Ralf Hinze <ralf@informatik.uni-bonn.de>.

  08 Mar 2003; George Shapovalov <george@gentoo.org> ghc-5.04.2.ebuild :

  updated the ebuild to correctly build (namely to build ghci) if bootstrapped off different (older)
  version. See #10155 for details.

*ghc-5.04i.2 (12 Feb 2003)

  12 Feb 2003; George Shapovalov <george@gentoo.org> ghc-5.04.2.ebuild, files/digest-ghc-5.04.2 :

  The long awaited update. (#10155)
  Fixes things on x86. !!!Needs testing on sparc!!! (has good chances to work on sparc,
  provided ghc-bin-5.04.2 works)
  ebuild bootstraps ghc from ghc-bin and contains remarks 
  on how to "maintain" it correctly  (in short: for general purpose no special attention required)

  17 Jan 2003; Matthew Turk <satai@gentoo.org> :
  Looks like it didn't take...  Trying again!

  09 Jan 2003; Matthew Turk <satai@gentoo.org> :
  Changed the docbook-sgml-dtd dependency to one that *exists*.

  06 Dec 2002; Rodney Rees <manson@gentoo.org> : changed sparc ~sparc keywords
 
*ghc-5.04.ebuild (08 Aug 2002)

  19 Aug 2002; George Shapovalov <george@gentoo.org> ghc-5.04.ebuild :

  fixed header, added >=dev-libs/gmp-4.1 dependency

  08 Jul 2002; George Shapovalov <george@gentoo.org> ghc-5.04.ebuild, files/ghc-5.04-gentoo.patch.bz2 :

  new version,
  bzipped patched (too large otherwise),
  will keep uncompressed for 5.02.3 anc compressed for 5.04 until new version 
  is tested (to have one working meanwhile)

  ebuild (and large patching work) submitted by:
  Sven Moritz Hallberg <pesco@gmx.de>

*ghc-5.02.3.ebuild (09 Jun 2002)

  18 Jun 2002; George Shapovalov <george@gentoo.org> ghc-5.02.3.ebuild :

  Few improvements by Sven Moritz Hallberg :
  Build DocBook documentation only if USEing 'doc'. Require DocBook DTD 3.1 in
  that case.

  Thanks to a bug report by Matthew Walton I've noticed that GHC requires the
  DocBook DTD 3.1, not 4.1.
  
  09 Jun 2002; George Shapovalov <george@gentoo.org> all :
  
  First submission
  From the home page:

  The Glasgow Haskell Compiler is a robust, fully-featured, optimising compiler 
  and interactive environment for Haskell 98, GHC compiles Haskell to either 
  native code or C.  It implements numerous experimental language extensions 
  to Haskell 98; for example: concurrency, a foreign language interface, 
  multi-parameter type classes, scoped type variables, existential and universal 
  quantification, unboxed types, exceptions, weak pointers, and so on.  GHC comes 
  with a generational garbage collector, and a space and time profiler. 
