diff -Nur ghc-4.08.2/distrib/hc-build ghc-4.08.2-patched/distrib/hc-build
--- ghc-4.08.2/distrib/hc-build	Wed Aug  9 13:09:43 2000
+++ ghc-4.08.2-patched/distrib/hc-build	Thu May 23 14:08:55 2002
@@ -9,6 +9,23 @@
 
 configopts="$*"
 
+# check for GNU make (if not explicitly specified through $GMAKE)
+#
+if [ -z "$GMAKE" ]; then
+  MAKENAMES="gmake make no-make"
+  for make in $MAKENAMES; do
+    MAKE=$make
+    $make --version 2>&1 | grep "GNU Make" >/dev/null && break
+  done
+  if [ $MAKE = no-make ]; then
+    echo "Fatal error: Cannot find the GNU make utility"
+    exit 1
+  fi
+else
+  MAKE="$GMAKE"
+fi
+
+
 # build configuration
 #
 cat >mk/build.mk <<END
@@ -26,9 +43,9 @@
 
 echo "*** Building hsc..."
 ./configure --enable-hc-boot $configopts        || exit 1
-gmake boot all                                   || exit 1
+$MAKE boot all                                   || exit 1
 
 echo "*** Building library..."
 echo "GhcWithHscBuiltViaC=NO" >>mk/build.mk
-gmake -C ghc/lib clean boot all			|| exit 1
-gmake -C hslibs  clean boot all
+$MAKE -C ghc/lib clean boot all			|| exit 1
+$MAKE -C hslibs  clean boot all
