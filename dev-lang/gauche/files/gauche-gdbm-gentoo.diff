diff -u ext/dbm/dbm.ac ext/dbm.orig/dbm.ac
--- ext/dbm/dbm.ac	2003-10-07 17:56:35.000000000 +0900
+++ ext/dbm.orig/dbm.ac	2003-10-07 17:55:47.000000000 +0900
@@ -16,15 +16,17 @@
   DBM_ARCHFILES=gdbm.$SHLIB_SO_SUFFIX
   DBM_SCMFILES=gdbm.scm
 ])
-AC_CHECK_HEADERS(ndbm.h gdbm/ndbm.h, [
+AC_CHECK_HEADERS(gdbm/ndbm.h ndbm.h, [
   NDBM_HEADER=$ac_header
   DBM_ARCHFILES="ndbm.$SHLIB_SO_SUFFIX $DBM_ARCHFILES"
   DBM_SCMFILES="ndbm.scm $DBM_SCMFILES"
+  break
 ])
-AC_CHECK_HEADERS(dbm.h gdbm/dbm.h, [
+AC_CHECK_HEADERS(gdbm/dbm.h dbm.h, [
   ODBM_HEADER=$ac_header
   DBM_ARCHFILES="odbm.$SHLIB_SO_SUFFIX $DBM_ARCHFILES"
   DBM_SCMFILES="odbm.scm $DBM_SCMFILES"
+  break
 ])
 
 AC_CHECK_LIB(gdbm, gdbm_open, [ GDBMLIB="-lgdbm" ])
