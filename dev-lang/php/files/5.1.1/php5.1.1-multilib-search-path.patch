diff -Nru php-5.1.1.orig/acinclude.m4 php-5.1.1/acinclude.m4
--- php-5.1.1.orig/acinclude.m4	2005-11-22 00:08:01.000000000 +0100
+++ php-5.1.1/acinclude.m4	2005-12-07 19:20:13.000000000 +0100
@@ -441,7 +441,7 @@
 dnl Adds a path to linkpath/runpath (LDFLAGS)
 dnl
 AC_DEFUN([PHP_ADD_LIBPATH],[
-  if test "$1" != "/usr/$PHP_LIBDIR" && test "$1" != "/usr/lib"; then
+  if test "$1" != "/usr/$PHP_LIBDIR" && test "$1" != "/usr/lib" && test "$1" != "/usr/lib64"; then
     PHP_EXPAND_PATH($1, ai_p)
     ifelse([$2],,[
       _PHP_ADD_LIBPATH_GLOBAL([$ai_p])
@@ -1932,7 +1932,7 @@
 dnl Search for the sendmail binary
 dnl
 AC_DEFUN([PHP_PROG_SENDMAIL], [
-  PHP_ALT_PATH=/usr/bin:/usr/sbin:/usr/etc:/etc:/usr/ucblib:/usr/lib
+  PHP_ALT_PATH=/usr/bin:/usr/sbin:/usr/etc:/etc:/usr/ucblib:/usr/lib:/usr/lib64
   AC_PATH_PROG(PROG_SENDMAIL, sendmail,[], $PATH:$PHP_ALT_PATH)
   if test -n "$PROG_SENDMAIL"; then
     AC_DEFINE(HAVE_SENDMAIL,1,[whether you have sendmail])
diff -Nru php-5.1.1.orig/ext/interbase/config.m4 php-5.1.1/ext/interbase/config.m4
--- php-5.1.1.orig/ext/interbase/config.m4	2004-05-12 16:29:42.000000000 +0200
+++ php-5.1.1/ext/interbase/config.m4	2005-12-07 19:29:06.000000000 +0100
@@ -9,10 +9,18 @@
 if test "$PHP_INTERBASE" != "no"; then
   if test "$PHP_INTERBASE" = "yes"; then
     IBASE_INCDIR=/usr/interbase/include
-    IBASE_LIBDIR=/usr/interbase/lib
+    for j in lib64 lib; do
+      if test -d /usr/interbase/$j; then
+        IBASE_LIBDIR=/usr/interbase/$j
+      fi
+    done
   else
     IBASE_INCDIR=$PHP_INTERBASE/include
-    IBASE_LIBDIR=$PHP_INTERBASE/lib
+    for j in lib64 lib; do
+      if test -d $PHP_INTERBASE/$j; then
+        IBASE_LIBDIR=$PHP_INTERBASE/$j
+      fi
+    done
   fi
 
   PHP_CHECK_LIBRARY(fbclient, isc_detach_database,
diff -Nru php-5.1.1.orig/ext/mbstring/config.m4 php-5.1.1/ext/mbstring/config.m4
--- php-5.1.1.orig/ext/mbstring/config.m4	2005-10-28 09:52:58.000000000 +0200
+++ php-5.1.1/ext/mbstring/config.m4	2005-12-07 21:08:10.000000000 +0100
@@ -261,7 +261,7 @@
     ],[
       AC_MSG_ERROR([Problem with libmbfl. Please check config.log for more information.])
     ], [
-      -LPHP_LIBMBFL/$PHP_LIBDIR
+      -L$PHP_LIBMBFL/$PHP_LIBDIR
     ])
   fi
 ])
diff -Nru php-5.1.1.orig/ext/mcrypt/config.m4 php-5.1.1/ext/mcrypt/config.m4
--- php-5.1.1.orig/ext/mcrypt/config.m4	2005-05-30 01:16:41.000000000 +0200
+++ php-5.1.1/ext/mcrypt/config.m4	2005-12-07 20:36:01.000000000 +0100
@@ -34,6 +34,12 @@
 
   PHP_MCRYPT_CHECK_VERSION
 
+  for j in lib64 lib; do
+    if test -d $MCRYPT_DIR/$j; then
+      MCRYPT_LIBDIR=MCRYPT_DIR/$j
+    fi
+  done
+
   PHP_CHECK_LIBRARY(mcrypt, mcrypt_module_open, 
   [
     PHP_ADD_LIBRARY(ltdl,, MCRYPT_SHARED_LIBADD)
@@ -45,13 +51,13 @@
     ],[
       AC_MSG_ERROR([Sorry, I was not able to diagnose which libmcrypt version you have installed.])
     ],[
-      -L$MCRYPT_DIR/lib
+      -L$MCRYPT_LIBDIR
     ])
   ],[
-    -L$MCRYPT_DIR/lib -lltdl
+    -L$MCRYPT_LIBDIR -lltdl
   ])
 
-  PHP_ADD_LIBRARY_WITH_PATH(mcrypt, $MCRYPT_DIR/lib, MCRYPT_SHARED_LIBADD)
+  PHP_ADD_LIBRARY_WITH_PATH(mcrypt, $MCRYPT_LIBDIR, MCRYPT_SHARED_LIBADD)
   PHP_ADD_INCLUDE($MCRYPT_DIR/include)
 
   PHP_SUBST(MCRYPT_SHARED_LIBADD)
diff -Nru php-5.1.1.orig/ext/mhash/config.m4 php-5.1.1/ext/mhash/config.m4
--- php-5.1.1.orig/ext/mhash/config.m4	2005-05-30 01:16:41.000000000 +0200
+++ php-5.1.1/ext/mhash/config.m4	2005-12-07 20:39:31.000000000 +0100
@@ -14,8 +14,14 @@
     AC_MSG_ERROR(Please reinstall libmhash - I cannot find mhash.h)
   fi
 
+  for j in lib64 lib; do
+    if test -d $MHASH_DIR/$j; then
+      MHASH_LIBDIR=$MHASH_DIR/$j
+    fi
+  done
+
   PHP_ADD_INCLUDE($MHASH_DIR/include)
-  PHP_ADD_LIBRARY_WITH_PATH(mhash, $MHASH_DIR/lib, MHASH_SHARED_LIBADD)
+  PHP_ADD_LIBRARY_WITH_PATH(mhash, $MHASH_LIBDIR, MHASH_SHARED_LIBADD)
 
   PHP_NEW_EXTENSION(mhash, mhash.c, $ext_shared)
   PHP_SUBST(MHASH_SHARED_LIBADD)
diff -Nru php-5.1.1.orig/ext/msession/config.m4 php-5.1.1/ext/msession/config.m4
--- php-5.1.1.orig/ext/msession/config.m4	2003-02-12 19:34:20.000000000 +0100
+++ php-5.1.1/ext/msession/config.m4	2005-12-07 20:44:41.000000000 +0100
@@ -8,13 +8,17 @@
 if test "$PHP_MSESSION" != "no"; then
 	if test -r $PHP_MSESSION/lib/libphoenix.a; then
 		PHOENIX_DIR=$PHP_MSESSION
+		PHOENIX_LIBDIR=$PHP_MSESSION/lib
 	else
 		AC_MSG_CHECKING(for msession in default path)
-		for i in /usr/local/phoenix /usr/local /usr; do
-			if test -r $i/lib/libphoenix.a; then
-				PHOENIX_DIR=$i
-				AC_MSG_RESULT(found in $i)
-			fi
+		for j in lib64 lib; do
+			for i in /usr/local/phoenix /usr/local /usr; do
+				if test -r $i/$j/libphoenix.a; then
+					PHOENIX_DIR=$i
+					PHOENIX_LIBDIR=$i/$j
+					AC_MSG_RESULT(found in $i)
+				fi
+			done
 		done
 	fi
 
@@ -25,7 +29,7 @@
 
 
   	AC_DEFINE(HAVE_MSESSION, 1, [ ])
-  	PHP_ADD_LIBRARY_WITH_PATH(phoenix, "$PHOENIX_DIR/lib", PHOENIX_LIB)
+  	PHP_ADD_LIBRARY_WITH_PATH(phoenix, "$PHOENIX_LIBDIR", PHOENIX_LIB)
 	PHOENIX_INCLUDE="-I$PHOENIX_DIR"
 	PHP_SUBST(PHOENIX_LIB)
 
diff -Nru php-5.1.1.orig/ext/odbc/config.m4 php-5.1.1/ext/odbc/config.m4
--- php-5.1.1.orig/ext/odbc/config.m4	2005-11-21 20:06:02.000000000 +0100
+++ php-5.1.1/ext/odbc/config.m4	2005-12-07 21:03:38.000000000 +0100
@@ -141,7 +141,7 @@
   fi
   if test "$withval" != "no"; then
     PHP_ADD_INCLUDE($withval/incl)
-    PHP_ADD_LIBPATH($withval/lib)
+    PHP_ADD_LIBPATH($withval/$PHP_LIBDIR)
     PHP_ADD_LIBRARY(sqlod)
     ODBC_TYPE=sapdb
     AC_DEFINE(HAVE_SAPDB,1,[ ])
@@ -439,7 +439,7 @@
     withval=/usr/local
   fi
   if test "$withval" != "no"; then
-    PHP_ADD_LIBRARY_WITH_PATH(iodbc, $withval/lib)
+    PHP_ADD_LIBRARY_WITH_PATH(iodbc, $withval/$PHP_LIBDIR)
     PHP_ADD_INCLUDE($withval/include, 1)
     ODBC_TYPE=iodbc
     ODBC_INCLUDE=-I$withval/include
diff -Nru php-5.1.1.orig/ext/pdo_firebird/config.m4 php-5.1.1/ext/pdo_firebird/config.m4
--- php-5.1.1.orig/ext/pdo_firebird/config.m4	2005-06-14 02:00:52.000000000 +0200
+++ php-5.1.1/ext/pdo_firebird/config.m4	2005-12-07 21:15:34.000000000 +0100
@@ -14,7 +14,11 @@
     FIREBIRD_LIBDIR=/opt/firebird/lib
   else
     FIREBIRD_INCDIR=$PHP_PDO_FIREBIRD/include
-    FIREBIRD_LIBDIR=$PHP_PDO_FIREBIRD/lib
+    for j in lib64 lib; do
+      if test -d $PHP_PDO_FIREBIRD/$j; then
+        FIREBIRD_LIBDIR=$PHP_PDO_FIREBIRD/$j
+      fi
+    done
   fi
 
   PHP_CHECK_LIBRARY(fbclient, isc_detach_database,
diff -Nru php-5.1.1.orig/ext/pdo_mysql/config.m4 php-5.1.1/ext/pdo_mysql/config.m4
--- php-5.1.1.orig/ext/pdo_mysql/config.m4	2005-11-25 18:07:49.000000000 +0100
+++ php-5.1.1/ext/pdo_mysql/config.m4	2005-12-07 21:21:27.000000000 +0100
@@ -65,7 +65,11 @@
     else
       PDO_MYSQL_INC_DIR=$PDO_MYSQL_DIR/include
     fi      
-    if test -r $PDO_MYSQL_DIR/lib/mysql; then
+    if test -r $PDO_MYSQL_DIR/lib64/mysql; then
+      PDO_MYSQL_LIB_DIR=$PDO_MYSQL_DIR/lib64/mysql
+    elif test -r $PDO_MYSQL_DIR/lib64; then
+      PDO_MYSQL_LIB_DIR=$PDO_MYSQL_DIR/lib64
+    elif test -r $PDO_MYSQL_DIR/lib/mysql; then
       PDO_MYSQL_LIB_DIR=$PDO_MYSQL_DIR/lib/mysql
     else
       PDO_MYSQL_LIB_DIR=$PDO_MYSQL_DIR/lib
diff -Nru php-5.1.1.orig/ext/pdo_odbc/config.m4 php-5.1.1/ext/pdo_odbc/config.m4
--- php-5.1.1.orig/ext/pdo_odbc/config.m4	2005-07-27 05:22:02.000000000 +0200
+++ php-5.1.1/ext/pdo_odbc/config.m4	2005-12-07 21:40:11.000000000 +0100
@@ -99,7 +99,7 @@
 
   if test -n "$pdo_odbc_dir"; then
     PDO_ODBC_INCDIR="$pdo_odbc_dir/include"
-    PDO_ODBC_LIBDIR="$pdo_odbc_dir/lib"
+    PDO_ODBC_LIBDIR="$pdo_odbc_dir/$PHP_LIBDIR"
   else
     PDO_ODBC_INCDIR="$pdo_odbc_def_incdir"
     PDO_ODBC_LIBDIR="$pdo_odbc_def_libdir"
diff -Nru php-5.1.1.orig/ext/pdo_pgsql/config.m4 php-5.1.1/ext/pdo_pgsql/config.m4
--- php-5.1.1.orig/ext/pdo_pgsql/config.m4	2005-07-27 04:51:01.000000000 +0200
+++ php-5.1.1/ext/pdo_pgsql/config.m4	2005-12-07 21:52:03.000000000 +0100
@@ -46,7 +46,7 @@
         fi
       done
 
-      for j in lib lib/pgsql lib/postgres lib/postgresql ""; do
+      for j in lib64 lib $PHP_LIBDIR/pgsql $PHP_LIBDIR/postgres $PHP_LIBDIR/postgresql ""; do
         if test -f "$i/$j/libpq.so" || test -f "$i/$j/libpq.a"; then 
           PGSQL_LIBDIR=$i/$j
         fi
diff -Nru php-5.1.1.orig/ext/pdo_sqlite/config.m4 php-5.1.1/ext/pdo_sqlite/config.m4
--- php-5.1.1.orig/ext/pdo_sqlite/config.m4	2005-11-01 04:13:32.000000000 +0100
+++ php-5.1.1/ext/pdo_sqlite/config.m4	2005-12-07 21:49:57.000000000 +0100
@@ -54,12 +54,12 @@
 
     PHP_CHECK_LIBRARY($LIBNAME,$LIBSYMBOL,
     [
-      PHP_ADD_LIBRARY_WITH_PATH($LIBNAME, $PDO_SQLITE_DIR/lib, PDO_SQLITE_SHARED_LIBADD)
+      PHP_ADD_LIBRARY_WITH_PATH($LIBNAME, $PDO_SQLITE_DIR/$PHP_LIBDIR, PDO_SQLITE_SHARED_LIBADD)
       AC_DEFINE(HAVE_PDO_SQLITELIB,1,[ ])
     ],[
       AC_MSG_ERROR([wrong sqlite lib version or lib not found])
     ],[
-      -L$PDO_SQLITE_DIR/lib -lm
+      -L$PDO_SQLITE_DIR/$PHP_LIBDIR -lm
     ])
     PHP_CHECK_LIBRARY(sqlite3,sqlite3_key,[
       AC_DEFINE(HAVE_SQLITE3_KEY,1, [have commercial sqlite3 with crypto support])
diff -Nru php-5.1.1.orig/ext/snmp/config.m4 php-5.1.1/ext/snmp/config.m4
--- php-5.1.1.orig/ext/snmp/config.m4	2005-05-30 01:16:44.000000000 +0200
+++ php-5.1.1/ext/snmp/config.m4	2005-12-07 21:53:42.000000000 +0100
@@ -45,8 +45,8 @@
         test -f $i/snmp/snmp.h                  && SNMP_INCDIR=$i/snmp
         test -f $i/snmp/include/ucd-snmp/snmp.h && SNMP_INCDIR=$i/snmp/include/ucd-snmp
       done
-      for i in /usr /usr/snmp /usr/local /usr/local/snmp; do
-        test -f $i/lib/libsnmp.a -o -f $i/lib/libsnmp.$SHLIB_SUFFIX_NAME && SNMP_LIBDIR=$i/lib
+      for i in /usr/lib /usr/lib64 /usr/snmp/lib /usr/local/lib /usr/local/snmp/lib; do
+        test -f $i/libsnmp.a -o -f $i/libsnmp.$SHLIB_SUFFIX_NAME && SNMP_LIBDIR=$i
       done
     else
       SNMP_INCDIR=$PHP_SNMP/include
diff -Nru php-5.1.1.orig/ext/tidy/config.m4 php-5.1.1/ext/tidy/config.m4
--- php-5.1.1.orig/ext/tidy/config.m4	2005-05-30 01:16:45.000000000 +0200
+++ php-5.1.1/ext/tidy/config.m4	2005-12-07 21:54:51.000000000 +0100
@@ -27,7 +27,7 @@
     AC_MSG_ERROR(Cannot find libtidy)
   fi
 
-  TIDY_LIBDIR=$TIDY_DIR/lib
+  TIDY_LIBDIR=$TIDY_DIR/$PHP_LIBDIR
 
   PHP_ADD_LIBRARY_WITH_PATH(tidy, $TIDY_LIBDIR, TIDY_SHARED_LIBADD)
   PHP_ADD_INCLUDE($TIDY_INCDIR)
