diff -u mercury-compiler-10.04-beta.orig/compiler/make.program_target.c mercury-compiler-10.04-beta/compiler/make.program_target.c
--- mercury-compiler-10.04-beta.orig/compiler/make.program_target.c	2010-02-04 12:34:34.000000000 +1300
+++ mercury-compiler-10.04-beta/compiler/make.program_target.c	2010-02-13 07:43:10.000000000 +1300
@@ -5449,7 +5449,7 @@
 		make__program_target__install_grade_init_6_0_i2);
 MR_def_label(make__program_target__install_grade_init_6_0,2)
 	MR_MAYBE_INIT_LOCAL_THREAD_ENGINE_BASE
-	MR_r2 = (MR_Word) MR_string_const("lib", 3);
+	MR_r2 = (MR_Word) MR_string_const("@libdir@", 3);
 	MR_np_call_localret_ent(fn__f_100_105_114_95_95_47_2_0,
 		make__program_target__install_grade_init_6_0_i3);
 MR_def_label(make__program_target__install_grade_init_6_0,3)
@@ -5900,7 +5900,7 @@
 		make__program_target__make_grade_install_dirs_6_0_i2);
 MR_def_label(make__program_target__make_grade_install_dirs_6_0,2)
 	MR_MAYBE_INIT_LOCAL_THREAD_ENGINE_BASE
-	MR_r2 = (MR_Word) MR_string_const("lib", 3);
+	MR_r2 = (MR_Word) MR_string_const("@libdir@", 3);
 	MR_np_call_localret_ent(fn__f_100_105_114_95_95_47_2_0,
 		make__program_target__make_grade_install_dirs_6_0_i3);
 MR_def_label(make__program_target__make_grade_install_dirs_6_0,3)
@@ -6336,7 +6336,7 @@
 	if ((strcmp((char *) (MR_Word *) MR_sv(3), MR_string_const("java", 4)) != 0)) {
 		MR_GOTO_LAB(make__program_target__install_library_grade_files_10_0_i11);
 	}
-	MR_r2 = (MR_Word) MR_string_const("lib", 3);
+	MR_r2 = (MR_Word) MR_string_const("@libdir@", 3);
 	MR_np_call_localret_ent(fn__f_100_105_114_95_95_47_2_0,
 		make__program_target__install_library_grade_files_10_0_i13);
 MR_def_label(make__program_target__install_library_grade_files_10_0,13)
@@ -6393,7 +6393,7 @@
 	if ((strcmp((char *) (MR_Word *) MR_sv(3), MR_string_const("erlang", 6)) != 0)) {
 		MR_GOTO_LAB(make__program_target__install_library_grade_files_10_0_i19);
 	}
-	MR_r2 = (MR_Word) MR_string_const("lib", 3);
+	MR_r2 = (MR_Word) MR_string_const("@libdir@", 3);
 	MR_np_call_localret_ent(fn__f_100_105_114_95_95_47_2_0,
 		make__program_target__install_library_grade_files_10_0_i21);
 MR_def_label(make__program_target__install_library_grade_files_10_0,21)
@@ -6458,7 +6458,7 @@
 		make__program_target__install_library_grade_files_10_0_i41);
 MR_def_label(make__program_target__install_library_grade_files_10_0,19)
 	MR_MAYBE_INIT_LOCAL_THREAD_ENGINE_BASE
-	MR_r2 = (MR_Word) MR_string_const("lib", 3);
+	MR_r2 = (MR_Word) MR_string_const("@libdir@", 3);
 	MR_np_call_localret_ent(fn__f_100_105_114_95_95_47_2_0,
 		make__program_target__install_library_grade_files_10_0_i28);
 MR_def_label(make__program_target__install_library_grade_files_10_0,28)
@@ -6595,7 +6595,7 @@
 		make__program_target__make_install_dirs_5_0_i2);
 MR_def_label(make__program_target__make_install_dirs_5_0,2)
 	MR_MAYBE_INIT_LOCAL_THREAD_ENGINE_BASE
-	MR_r2 = (MR_Word) MR_string_const("lib", 3);
+	MR_r2 = (MR_Word) MR_string_const("@libdir@", 3);
 	MR_np_call_localret_ent(fn__f_100_105_114_95_95_47_2_0,
 		make__program_target__make_install_dirs_5_0_i3);
 MR_def_label(make__program_target__make_install_dirs_5_0,3)
@@ -6816,7 +6816,7 @@
 		make__program_target__install_library_7_0_i11);
 MR_def_label(make__program_target__install_library_7_0,11)
 	MR_MAYBE_INIT_LOCAL_THREAD_ENGINE_BASE
-	MR_r2 = (MR_Word) MR_string_const("lib", 3);
+	MR_r2 = (MR_Word) MR_string_const("@libdir@", 3);
 	MR_np_call_localret_ent(fn__f_100_105_114_95_95_47_2_0,
 		make__program_target__install_library_7_0_i12);
 MR_def_label(make__program_target__install_library_7_0,12)
@@ -10604,7 +10604,7 @@
 		make__program_target__install_ints_and_headers_8_0_i13);
 MR_def_label(make__program_target__install_ints_and_headers_8_0,13)
 	MR_MAYBE_INIT_LOCAL_THREAD_ENGINE_BASE
-	MR_r2 = (MR_Word) MR_string_const("lib", 3);
+	MR_r2 = (MR_Word) MR_string_const("@libdir@", 3);
 	MR_np_call_localret_ent(fn__f_100_105_114_95_95_47_2_0,
 		make__program_target__install_ints_and_headers_8_0_i14);
 MR_def_label(make__program_target__install_ints_and_headers_8_0,14)
@@ -11233,7 +11233,7 @@
 		make__program_target__install_grade_ints_and_headers_9_0_i5);
 MR_def_label(make__program_target__install_grade_ints_and_headers_9_0,5)
 	MR_MAYBE_INIT_LOCAL_THREAD_ENGINE_BASE
-	MR_r2 = (MR_Word) MR_string_const("lib", 3);
+	MR_r2 = (MR_Word) MR_string_const("@libdir@", 3);
 	MR_np_call_localret_ent(fn__f_100_105_114_95_95_47_2_0,
 		make__program_target__install_grade_ints_and_headers_9_0_i6);
 MR_def_label(make__program_target__install_grade_ints_and_headers_9_0,6)
diff -u mercury-compiler-10.04-beta.orig/scripts/Mmake.vars.in mercury-compiler-10.04-beta/scripts/Mmake.vars.in
--- mercury-compiler-10.04-beta.orig/scripts/Mmake.vars.in	2009-08-18 17:10:40.000000000 +1200
+++ mercury-compiler-10.04-beta/scripts/Mmake.vars.in	2010-02-13 07:48:26.000000000 +1300
@@ -688,18 +688,18 @@
 INSTALL_PREFIX		= @prefix@
 FINAL_INSTALL_PREFIX	= @prefix@
 INSTALL_BINDIR		= $(INSTALL_PREFIX)/bin
-INSTALL_LIBDIR		= $(INSTALL_PREFIX)/lib/mercury
-FINAL_INSTALL_LIBDIR	= $(FINAL_INSTALL_PREFIX)/lib/mercury
-INSTALL_JAVA_LIBRARY_DIR= $(INSTALL_PREFIX)/lib/mercury/lib/java
+INSTALL_LIBDIR		= $(INSTALL_PREFIX)/@libdir@/mercury
+FINAL_INSTALL_LIBDIR	= $(FINAL_INSTALL_PREFIX)/@libdir@/mercury
+INSTALL_JAVA_LIBRARY_DIR= $(INSTALL_PREFIX)/@libdir@/mercury/lib/java
 INSTALL_INFO_DIR	= $(INSTALL_PREFIX)/info
-INSTALL_DVI_DIR		= $(INSTALL_PREFIX)/lib/mercury/doc
-INSTALL_TEXT_DIR	= $(INSTALL_PREFIX)/lib/mercury/doc
-INSTALL_PS_DIR		= $(INSTALL_PREFIX)/lib/mercury/doc
-INSTALL_PDF_DIR		= $(INSTALL_PREFIX)/lib/mercury/doc
+INSTALL_DVI_DIR		= $(INSTALL_PREFIX)/@libdir@/mercury/doc
+INSTALL_TEXT_DIR	= $(INSTALL_PREFIX)/@libdir@/mercury/doc
+INSTALL_PS_DIR		= $(INSTALL_PREFIX)/@libdir@/mercury/doc
+INSTALL_PDF_DIR		= $(INSTALL_PREFIX)/@libdir@/mercury/doc
 INSTALL_MAN_DIR		= $(INSTALL_PREFIX)/man
-INSTALL_HTML_DIR	= $(INSTALL_PREFIX)/lib/mercury/html
-INSTALL_MDB_DOC_DIR	= $(INSTALL_PREFIX)/lib/mercury/mdb
-INSTALL_ELISP_DIR	= $(INSTALL_PREFIX)/lib/mercury/elisp
+INSTALL_HTML_DIR	= $(INSTALL_PREFIX)/@libdir@/mercury/html
+INSTALL_MDB_DOC_DIR	= $(INSTALL_PREFIX)/@libdir@/mercury/mdb
+INSTALL_ELISP_DIR	= $(INSTALL_PREFIX)/@libdir@/mercury/elisp
 INSTALL_CGI_DIR		= @CGIDIR@
 
 # You should not need to override anything below here
