--- qp7.4.orig/configure	2006-07-27 16:27:35.000000000 +1200
+++ qp7.4/configure	2006-08-07 21:20:39.000000000 +1200
@@ -1338,7 +1338,9 @@
 # Check whether --enable-debug or --disable-debug was given.
 if test "${enable_debug+set}" = set; then
   enableval="$enable_debug"
-   DEBUGGING=
+  if test "$enable_debug" != no; then
+	DEBUGGING="-DDEBUG_BLOCK -DDEBUG_IO -DDEBUG_MT -DDEBUG_RETRY -DDEBUG_SCHED -DDEBUG_TIMEOUT"
+  fi
 fi;
 
 
@@ -1355,9 +1357,6 @@
 #define MULTIPLE_THREADS 1
 _ACEOF
 
-else
-	{ echo "$as_me:$LINENO: WARNING: Configuring for single Prolog thread per process" >&5
-echo "$as_me: WARNING: Configuring for single Prolog thread per process" >&2;}
 fi
 
 ac_ext=cc
@@ -3369,6 +3368,8 @@
 
 fi
 
+if false; then
+
 # Extract the first word of "perl", so it can be a program name with args.
 set dummy perl; ac_word=$2
 echo "$as_me:$LINENO: checking for $ac_word" >&5
@@ -3545,6 +3546,8 @@
 
 fi
 
+fi
+
 GCCINCLUDES=
 
 # Check whether --with-gcclib or --without-gcclib was given.
