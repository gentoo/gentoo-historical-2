--- ruby-1.8.0/ext/socket/socket.c.old	2003-01-16 02:47:50.000000000 -0500
+++ ruby-1.8.0/ext/socket/socket.c	2003-05-22 15:06:31.000000000 -0400
@@ -991,7 +991,7 @@
 	init = 1;
     }
 
-    return init_inetsock(class, host, serv, Qnil, Qnil, INET_SOCKS);
+    return init_inetsock(sock, host, serv, Qnil, Qnil, INET_SOCKS);
 }
 
 #ifdef SOCKS5
