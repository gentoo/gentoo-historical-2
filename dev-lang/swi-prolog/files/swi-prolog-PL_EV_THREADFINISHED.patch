--- pl-5.6.23.orig/src/pl-funcs.h	2006-11-02 03:27:21.000000000 +1300
+++ pl-5.6.23/src/pl-funcs.h	2006-11-16 07:14:02.000000000 +1300
@@ -919,7 +919,9 @@
 /* pl-thread.c */
 COMMON(foreign_t) 	pl_with_mutex(term_t mutex, term_t goal);
 COMMON(foreign_t) 	pl_thread_self(term_t self);
+#ifdef O_PLMT
 COMMON(int)		unify_thread_id(term_t id, PL_thread_info_t *info);
+#endif
 COMMON(int) 		enableThreads(int enable);
 
 
--- pl-5.6.23.orig/src/pl-trace.c	2006-11-03 02:41:12.000000000 +1300
+++ pl-5.6.23/src/pl-trace.c	2006-11-16 07:15:50.000000000 +1300
@@ -1817,6 +1817,7 @@
 		           PL_TERM, ref);
 	break;
       }
+#ifdef O_PLMT
       case PL_EV_THREADFINISHED:
       { PL_thread_info_t *info = va_arg(args, PL_thread_info_t*);
 	term_t id = PL_new_term_ref();
@@ -1826,6 +1827,7 @@
 		             PL_TERM, id);
 	break;
       }
+#endif
       default:
 	warning("callEventHook(): unknown event: %d", ev);
         goto out;
