--- pl-5.6.4.orig/packages/db/configure.in	2005-12-15 05:12:24.000000000 +1300
+++ pl-5.6.4/packages/db/configure.in	2006-02-13 23:11:02.000000000 +1300
@@ -108,9 +107,14 @@
 AC_CHECK_LIB(nsl, t_bind,
 	     [NETLIBS="$NETLIBS -lnsl"]
 	     AC_DEFINE(HAVE_LIBNSL))
-AC_CHECK_LIB($LIBDB, db_create,
-	     LIBS="-l$LIBDB $LIBS"; HAVEDB=yes,
-	     HAVEDB=no)
+HAVEDB=no
+for dbname in db-4.2 db4.2 db42 db-4.1 db4.1 db41 db-4.0 db4.0 db-4 db40 db4 db
+do
+   AC_CHECK_LIB($dbname, db_create_4002, [LIBDB=-l$dbname; LIBS="-l$dbname $LIBS"; HAVEDB=yes; break],
+   AC_CHECK_LIB($dbname, db_create_4001, [LIBDB=-l$dbname; LIBS="-l$dbname $LIBS"; HAVEDB=yes; break],
+   AC_CHECK_LIB($dbname, db_create_4000, [LIBDB=-l$dbname; LIBS="-l$dbname $LIBS"; HAVEDB=yes; break],
+   AC_CHECK_LIB($dbname, db_create, [LIBDB=-l$dbname; LIBS="-l$dbname $LIBS"; HAVEDB=yes; break]))))
+done
 
 AC_CHECK_HEADERS(db.h)
 
