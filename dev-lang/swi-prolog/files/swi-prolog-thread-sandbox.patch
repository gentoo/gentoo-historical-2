--- pl-5.6.25.orig/src/pl-thread.c	2006-11-02 03:27:21.000000000 +1300
+++ pl-5.6.25/src/pl-thread.c	2007-02-26 20:16:26.000000000 +1300
@@ -1004,7 +1004,7 @@
     PL_register_atom(ldnew->prompt.first);
   }
   ldnew->modules		 = LD->modules;
-  ldnew->IO			 = LD->IO;
+  memcpy(&(ldnew->IO), &(LD->IO), sizeof(LD->IO));
   ldnew->_fileerrors		 = LD->_fileerrors;
   ldnew->float_format		 = LD->float_format;
   ldnew->encoding		 = LD->encoding;
