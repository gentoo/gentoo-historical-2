diff -ur ../Yap-5.1.3.orig/CLPBN/Makefile.in ../Yap-5.1.3/CLPBN/Makefile.in
--- ../Yap-5.1.3.orig/CLPBN/Makefile.in	2008-03-27 13:41:32.000000000 +1300
+++ ../Yap-5.1.3/CLPBN/Makefile.in	2008-07-27 16:31:50.000000000 +1200
@@ -9,7 +9,7 @@
 #
 # where YAP should look for libraries
 #
-LIBDIR=$(ROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 # where YAP should look for architecture-independent Prolog libraries
 #
diff -ur ../Yap-5.1.3.orig/CLPQR/Makefile.in ../Yap-5.1.3/CLPQR/Makefile.in
--- ../Yap-5.1.3.orig/CLPQR/Makefile.in	2001-11-27 05:05:18.000000000 +1300
+++ ../Yap-5.1.3/CLPQR/Makefile.in	2008-07-27 16:32:09.000000000 +1200
@@ -9,7 +9,7 @@
 #
 # where YAP should look for libraries
 #
-LIBDIR=$(ROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 # where YAP should look for architecture-independent Prolog libraries
 #
diff -ur ../Yap-5.1.3.orig/GPL/Makefile.in ../Yap-5.1.3/GPL/Makefile.in
--- ../Yap-5.1.3.orig/GPL/Makefile.in	2008-06-08 21:55:34.000000000 +1200
+++ ../Yap-5.1.3/GPL/Makefile.in	2008-07-27 16:33:01.000000000 +1200
@@ -9,7 +9,7 @@
 #
 # where YAP should look for binary libraries
 #
-LIBDIR=$(ROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 # where YAP should look for architecture-independent Prolog libraries
 #
diff -ur ../Yap-5.1.3.orig/GPL/http/Makefile.in ../Yap-5.1.3/GPL/http/Makefile.in
--- ../Yap-5.1.3.orig/GPL/http/Makefile.in	2008-02-13 06:10:06.000000000 +1300
+++ ../Yap-5.1.3/GPL/http/Makefile.in	2008-07-27 16:32:34.000000000 +1200
@@ -16,7 +16,7 @@
 #
 # where YAP should look for binary libraries
 #
-LIBDIR=$(ROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 # where YAP should look for architecture-independent Prolog libraries
 #
diff -ur ../Yap-5.1.3.orig/LGPL/JPL/Makefile.in ../Yap-5.1.3/LGPL/JPL/Makefile.in
--- ../Yap-5.1.3.orig/LGPL/JPL/Makefile.in	2005-03-13 19:26:11.000000000 +1300
+++ ../Yap-5.1.3/LGPL/JPL/Makefile.in	2008-07-27 16:33:55.000000000 +1200
@@ -9,7 +9,7 @@
 #
 # where YAP should look for binary libraries
 #
-LIBDIR=$(ROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 # where YAP should look for architecture-independent Prolog libraries
 #
diff -ur ../Yap-5.1.3.orig/LGPL/JPL/java/Makefile.in ../Yap-5.1.3/LGPL/JPL/java/Makefile.in
--- ../Yap-5.1.3.orig/LGPL/JPL/java/Makefile.in	2007-09-28 03:25:32.000000000 +1200
+++ ../Yap-5.1.3/LGPL/JPL/java/Makefile.in	2008-07-27 16:33:38.000000000 +1200
@@ -15,7 +15,7 @@
 #
 # where YAP should look for binary libraries
 #
-LIBDIR=$(ROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 # where YAP should look for architecture-independent Prolog libraries
 #
diff -ur ../Yap-5.1.3.orig/LGPL/JPL/src/Makefile.in ../Yap-5.1.3/LGPL/JPL/src/Makefile.in
--- ../Yap-5.1.3.orig/LGPL/JPL/src/Makefile.in	2007-10-10 00:43:43.000000000 +1300
+++ ../Yap-5.1.3/LGPL/JPL/src/Makefile.in	2008-07-27 16:33:22.000000000 +1200
@@ -19,7 +19,7 @@
 #
 # where YAP should look for libraries
 #
-LIBDIR=$(EROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 #
 CC=@CC@
diff -ur ../Yap-5.1.3.orig/LGPL/Makefile.in ../Yap-5.1.3/LGPL/Makefile.in
--- ../Yap-5.1.3.orig/LGPL/Makefile.in	2008-06-08 21:55:34.000000000 +1200
+++ ../Yap-5.1.3/LGPL/Makefile.in	2008-07-27 16:34:48.000000000 +1200
@@ -9,7 +9,7 @@
 #
 # where YAP should look for binary libraries
 #
-LIBDIR=$(ROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 # where YAP should look for architecture-independent Prolog libraries
 #
diff -ur ../Yap-5.1.3.orig/LGPL/clp/Makefile.in ../Yap-5.1.3/LGPL/clp/Makefile.in
--- ../Yap-5.1.3.orig/LGPL/clp/Makefile.in	2005-10-29 06:53:27.000000000 +1300
+++ ../Yap-5.1.3/LGPL/clp/Makefile.in	2008-07-27 16:34:15.000000000 +1200
@@ -9,7 +9,7 @@
 #
 # where YAP should look for binary libraries
 #
-LIBDIR=$(ROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 # where YAP should look for architecture-independent Prolog libraries
 #
diff -ur ../Yap-5.1.3.orig/LGPL/swi_console/Makefile.in ../Yap-5.1.3/LGPL/swi_console/Makefile.in
--- ../Yap-5.1.3.orig/LGPL/swi_console/Makefile.in	2008-03-27 13:41:32.000000000 +1300
+++ ../Yap-5.1.3/LGPL/swi_console/Makefile.in	2008-07-27 16:34:32.000000000 +1200
@@ -8,7 +8,7 @@
 #
 # where YAP should look for libraries
 #
-LIBDIR=$(EROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 #
 CC=@CC@
diff -ur ../Yap-5.1.3.orig/Makefile.in ../Yap-5.1.3/Makefile.in
--- ../Yap-5.1.3.orig/Makefile.in	2008-06-05 02:47:18.000000000 +1200
+++ ../Yap-5.1.3/Makefile.in	2008-07-27 16:29:54.000000000 +1200
@@ -12,8 +12,8 @@
 #
 # where YAP should look for binary libraries
 #
-LIBDIR=$(EROOTDIR)/lib
-YAPLIBDIR=$(EROOTDIR)/lib/Yap
+LIBDIR=@libdir@
+YAPLIBDIR=@libdir@/Yap
 #
 # where YAP should look for architecture-independent Prolog libraries
 #
diff -ur ../Yap-5.1.3.orig/cplint/Makefile.in ../Yap-5.1.3/cplint/Makefile.in
--- ../Yap-5.1.3.orig/cplint/Makefile.in	2008-03-09 04:41:01.000000000 +1300
+++ ../Yap-5.1.3/cplint/Makefile.in	2008-07-27 16:35:12.000000000 +1200
@@ -12,7 +12,7 @@
 #
 # where YAP should look for libraries
 #
-LIBDIR=$(ROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 # where YAP should look for architecture-independent Prolog libraries
 #
diff -ur ../Yap-5.1.3.orig/library/Makefile.in ../Yap-5.1.3/library/Makefile.in
--- ../Yap-5.1.3.orig/library/Makefile.in	2008-06-08 21:55:34.000000000 +1200
+++ ../Yap-5.1.3/library/Makefile.in	2008-07-27 16:24:20.000000000 +1200
@@ -9,7 +9,7 @@
 #
 # where YAP should look for binary libraries
 #
-LIBDIR=$(ROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 # where YAP should look for architecture-independent Prolog libraries
 #
diff -ur ../Yap-5.1.3.orig/library/Tries/Makefile.in ../Yap-5.1.3/library/Tries/Makefile.in
--- ../Yap-5.1.3.orig/library/Tries/Makefile.in	2004-08-12 04:14:54.000000000 +1200
+++ ../Yap-5.1.3/library/Tries/Makefile.in	2008-07-27 16:27:59.000000000 +1200
@@ -18,7 +18,7 @@
 #
 # where YAP should look for libraries
 #
-LIBDIR=$(EROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 #
 CC=@CC@
diff -ur ../Yap-5.1.3.orig/library/lammpi/Makefile.in ../Yap-5.1.3/library/lammpi/Makefile.in
--- ../Yap-5.1.3.orig/library/lammpi/Makefile.in	2006-06-07 05:07:05.000000000 +1200
+++ ../Yap-5.1.3/library/lammpi/Makefile.in	2008-07-27 16:26:28.000000000 +1200
@@ -16,7 +16,7 @@
 #
 # where YAP should look for libraries
 #
-LIBDIR=$(EROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 #
 CC=@CC@
diff -ur ../Yap-5.1.3.orig/library/matlab/Makefile.in ../Yap-5.1.3/library/matlab/Makefile.in
--- ../Yap-5.1.3.orig/library/matlab/Makefile.in	2007-05-25 03:11:46.000000000 +1200
+++ ../Yap-5.1.3/library/matlab/Makefile.in	2008-07-27 16:26:08.000000000 +1200
@@ -12,7 +12,7 @@
 #
 # where YAP should look for libraries
 #
-LIBDIR=$(EROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 #
 CC=@CC@
diff -ur ../Yap-5.1.3.orig/library/matrices/Makefile.in ../Yap-5.1.3/library/matrices/Makefile.in
--- ../Yap-5.1.3.orig/library/matrices/Makefile.in	2006-12-15 06:17:01.000000000 +1300
+++ ../Yap-5.1.3/library/matrices/Makefile.in	2008-07-27 16:27:39.000000000 +1200
@@ -12,7 +12,7 @@
 #
 # where YAP should look for libraries
 #
-LIBDIR=$(EROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 #
 CC=@CC@
diff -ur ../Yap-5.1.3.orig/library/matrix/Makefile.in ../Yap-5.1.3/library/matrix/Makefile.in
--- ../Yap-5.1.3.orig/library/matrix/Makefile.in	2006-12-24 14:33:32.000000000 +1300
+++ ../Yap-5.1.3/library/matrix/Makefile.in	2008-07-27 16:28:57.000000000 +1200
@@ -12,7 +12,7 @@
 #
 # where YAP should look for libraries
 #
-LIBDIR=$(EROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 #
 CC=@CC@
diff -ur ../Yap-5.1.3.orig/library/mpi/Makefile.in ../Yap-5.1.3/library/mpi/Makefile.in
--- ../Yap-5.1.3.orig/library/mpi/Makefile.in	2002-02-27 06:25:33.000000000 +1300
+++ ../Yap-5.1.3/library/mpi/Makefile.in	2008-07-27 16:27:00.000000000 +1200
@@ -20,8 +20,8 @@
 #
 # where YAP should look for binary libraries
 #
-LIBDIR=$(EROOTDIR)/lib
-YAPLIBDIR=$(EROOTDIR)/lib/Yap
+LIBDIR=@libdir@
+YAPLIBDIR=@libdir@/Yap
 #
 # where YAP should look for architecture-independent Prolog libraries
 #
diff -ur ../Yap-5.1.3.orig/library/random/Makefile.in ../Yap-5.1.3/library/random/Makefile.in
--- ../Yap-5.1.3.orig/library/random/Makefile.in	2002-11-13 08:53:52.000000000 +1300
+++ ../Yap-5.1.3/library/random/Makefile.in	2008-07-27 16:25:47.000000000 +1200
@@ -12,7 +12,7 @@
 #
 # where YAP should look for libraries
 #
-LIBDIR=$(EROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 #
 CC=@CC@
diff -ur ../Yap-5.1.3.orig/library/regex/Makefile.in ../Yap-5.1.3/library/regex/Makefile.in
--- ../Yap-5.1.3.orig/library/regex/Makefile.in	2004-10-01 09:16:20.000000000 +1200
+++ ../Yap-5.1.3/library/regex/Makefile.in	2008-07-27 16:27:21.000000000 +1200
@@ -12,7 +12,7 @@
 #
 # where YAP should look for libraries
 #
-LIBDIR=$(EROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 #
 CC=@CC@
diff -ur ../Yap-5.1.3.orig/library/rltree/Makefile.in ../Yap-5.1.3/library/rltree/Makefile.in
--- ../Yap-5.1.3.orig/library/rltree/Makefile.in	2008-03-28 03:59:29.000000000 +1300
+++ ../Yap-5.1.3/library/rltree/Makefile.in	2008-07-27 16:25:34.000000000 +1200
@@ -16,7 +16,7 @@
 #
 # where YAP should look for libraries
 #
-LIBDIR=$(EROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 #
 CC=@CC@
diff -ur ../Yap-5.1.3.orig/library/system/Makefile.in ../Yap-5.1.3/library/system/Makefile.in
--- ../Yap-5.1.3.orig/library/system/Makefile.in	2002-11-13 08:53:52.000000000 +1300
+++ ../Yap-5.1.3/library/system/Makefile.in	2008-07-27 16:25:17.000000000 +1200
@@ -12,7 +12,7 @@
 #
 # where YAP should look for libraries
 #
-LIBDIR=$(EROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 #
 CC=@CC@
diff -ur ../Yap-5.1.3.orig/library/tries/Makefile.in ../Yap-5.1.3/library/tries/Makefile.in
--- ../Yap-5.1.3.orig/library/tries/Makefile.in	2008-02-23 07:57:27.000000000 +1300
+++ ../Yap-5.1.3/library/tries/Makefile.in	2008-07-27 16:28:38.000000000 +1200
@@ -12,7 +12,7 @@
 #
 # where YAP should look for libraries
 #
-LIBDIR=$(EROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 #
 CC=@CC@
diff -ur ../Yap-5.1.3.orig/library/yap2swi/Makefile.in ../Yap-5.1.3/library/yap2swi/Makefile.in
--- ../Yap-5.1.3.orig/library/yap2swi/Makefile.in	2007-09-12 22:13:38.000000000 +1200
+++ ../Yap-5.1.3/library/yap2swi/Makefile.in	2008-07-27 16:28:20.000000000 +1200
@@ -12,7 +12,7 @@
 #
 # where YAP should look for libraries
 #
-LIBDIR=$(EROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 #
 #
 CC=@CC@
