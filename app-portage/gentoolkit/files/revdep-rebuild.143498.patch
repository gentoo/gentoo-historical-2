--- gentoolkit-0.2.4.6/src/revdep-rebuild/revdep-rebuild	(revision 745)
+++ gentoolkit-0.2.4.6/src/revdep-rebuild/revdep-rebuild	(working copy)
@@ -18,7 +18,7 @@
 
 # Readonly variables:
 declare -r APP_NAME="${0##*/}" # The name of this application
-declare -r VERSION="svn"
+declare -r VERSION="genscripts-r230"
 declare -r OIFS="$IFS"         # Save the IFS
 declare -r     ENV_FILE=0_env.rr     # Contains environment variables
 declare -r   FILES_FILE=1_files.rr   # Contains a list of files to search
@@ -757,8 +757,8 @@
 						# FIXME: I hate duplicating code
 						# Only rebuild for direct dependencies
 						MISSING_LIBS=$(
-							expr="/$SONAME_SEARCH/s/^[[:space:]]*\([^[:space:]]*\).*$/\1/p"
-							sort -u <<< "$ldd_output" | sed -n "$expr"
+							expr="s/^[[:space:]]*\([^[:space:]]*\).*$/\1/p"
+							sort -u <<< "$ldd_output" | grep -E "$SONAME" | sed -n "$expr"
 						)
 						REQUIRED_LIBS=$(
 							expr='s/^[[:space:]]*NEEDED[[:space:]]*\([^[:space:]]*\).*/\1/p';
