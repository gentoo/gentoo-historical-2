--- openmosixview-1.5.orig/openmosixcollector/openmosixcollector.h
+++ openmosixview-1.5/openmosixcollector/openmosixcollector.h
@@ -34,7 +34,7 @@
 
 #define collectorpid "/var/run/openMosixcollector.pid"
 #define clusterdirectory "/proc/hpc/nodes/"
-#define logdirectory "/tmp/openmosixcollector"
+#define logdirectory "/var/lib/openmosixview"
 #define syncfile "sync.count"
 
 using namespace std;
--- openmosixview-1.5.orig/openmosixcollector/openmosixcollector.cpp
+++ openmosixview-1.5/openmosixcollector/openmosixcollector.cpp
@@ -90,11 +90,14 @@
 
 	string prochistorydir;
 	prochistorydir.erase();
-	prochistorydir = prochistorydir + logdirectory;
-	prochistorydir = prochistorydir + "/phist";
 	if (!file_exist(logdirectory)) {
 		mkdir(logdirectory, 0777);
 	}
+	prochistorydir = prochistorydir + logdirectory + "/current";
+	if (!file_exist(prochistorydir.c_str())) {
+		mkdir(prochistorydir.c_str(), 0777);
+	}
+	prochistorydir = prochistorydir + "/phist";
 	if (!file_exist(prochistorydir.c_str())) {
 		mkdir(prochistorydir.c_str(), 0777);
 	}
@@ -385,7 +388,7 @@
 		now = now + currentdate();
 		nodelogfile_txt.erase();
 		nodelogfile_txt = nodelogfile_txt + logdirectory;
-		nodelogfile_txt = nodelogfile_txt + "/";
+		nodelogfile_txt = nodelogfile_txt + "/current/";
 		nodelogfile_txt = nodelogfile_txt + nodeid;
 
     // here we check if the nodelog-file exist
@@ -425,7 +428,7 @@
     	string cread;
     	int countit=0;
     	char zeile[21];
-    	tmpstr=tmpstr + logdirectory + "/" + syncfile;
+    	tmpstr=tmpstr + logdirectory + "/current/" + syncfile;
     	std::ifstream readval(tmpstr.c_str());
     	if (readval) {
     		readval.getline(zeile, 20);
@@ -499,7 +502,7 @@
 	now1 = now1 + currentdate();
 	clusterlogfile_txt.erase();
 	clusterlogfile_txt = clusterlogfile_txt + logdirectory;
-	clusterlogfile_txt = clusterlogfile_txt + "/cluster";
+	clusterlogfile_txt = clusterlogfile_txt + "/current/cluster";
 	std::ofstream clusterlogfile(clusterlogfile_txt.c_str(), ios::app);
 	if (clusterlogfile) {
 		// T -> currenttime
@@ -652,7 +655,7 @@
 					now = now + currentdate();
 					processlogfile_txt.erase();
 					processlogfile_txt = processlogfile_txt + logdirectory;
-					processlogfile_txt = processlogfile_txt + "/phist/";
+					processlogfile_txt = processlogfile_txt + "/current/phist/";
 					processlogfile_txt = processlogfile_txt + int2string(tsecs);
 					processlogfile_txt = processlogfile_txt + "tsecs.dat";
 					std::ofstream processlogfile(processlogfile_txt.c_str(), ios::app);
@@ -720,7 +723,7 @@
 		// write checkpoint to nodefiles
 		nodelogfile_txt.erase();
 		nodelogfile_txt = nodelogfile_txt + logdirectory;
-		nodelogfile_txt = nodelogfile_txt + "/";
+		nodelogfile_txt = nodelogfile_txt + "/current/";
 		nodelogfile_txt = nodelogfile_txt + nodeid;
 		now.erase();
 		now = now + currentdate();
@@ -755,7 +758,7 @@
 	// write checkpoint to clusterfile
 	clusterlogfile_txt.erase();
 	clusterlogfile_txt = clusterlogfile_txt + logdirectory;	
-	clusterlogfile_txt = clusterlogfile_txt + "/cluster";
+	clusterlogfile_txt = clusterlogfile_txt + "/current/cluster";
 	now1.erase();
 	now1 = now1 + currentdate();
 	std::ofstream clusterlogfile(clusterlogfile_txt.c_str(), ios::app);
@@ -798,14 +801,15 @@
 	copycommand.erase();
 	copycommand = copycommand + "/bin/mv ";
 	copycommand = copycommand + logdirectory;
-	copycommand = copycommand + "/ ";
+	copycommand = copycommand + "/current/ ";
 	copycommand = copycommand + logdirectory;
-	copycommand = copycommand + "_";
+	copycommand = copycommand + "/";
 	copycommand = copycommand + now;
+	error=system(copycommand.c_str());
 	if((error=system(copycommand.c_str())) > 0) {
-		cout << "Could not store the logfiles"  << endl;
-		} else {
-		cout << "Successfully stored the logfiles" << endl;
+	  syslog(LOG_ERR, "Could not store the logfiles");
+	} else {
+	  syslog(LOG_DEBUG, "Successfully stored the logfiles");
 	}
 }
 
@@ -817,7 +821,7 @@
 	string cread;
 	int countit=0;
 	char zeile[21];
-	tmpstr=tmpstr + logdirectory + "/" + syncfile;
+	tmpstr=tmpstr + logdirectory + "/current/" + syncfile;
 	std::ifstream readval(tmpstr.c_str());
 	if (readval) {
 		readval.getline(zeile, 20);
--- openmosixview-1.5.orig/openmosixanalyzer/main.cpp
+++ openmosixview-1.5/openmosixanalyzer/main.cpp
@@ -46,7 +46,7 @@
 	if(argc==2) {
 		openmosixanalyzer->drawcluster(argv[1]);
 		} else {
-		openmosixanalyzer->drawcluster("/tmp/openmosixcollector/");
+		openmosixanalyzer->drawcluster("/var/lib/openmosixview/current/");
 	}
 
 
