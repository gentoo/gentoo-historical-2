# ChangeLog for sys-cluster/torque
# Copyright 2000-2007 Gentoo Foundation; Distributed under the GPL v2
# $Header: /var/cvsroot/gentoo-x86/sys-cluster/torque/ChangeLog,v 1.43 2007/01/28 21:02:17 dberkholz Exp $

  28 Jan 2007; Donnie Berkholz <dberkholz@gentoo.org>;
  -files/torque-1.2.0_p5-destdir-fixes.patch,
  -files/2.1.2-queue-recov-freemem-fix.patch,
  -files/torque-1.2.0_p5-setuid-safety.patch,
  -files/2.1.2-skip-dotnames.patch, -files/pbs.rc,
  -torque-1.2.0_p5-r1.ebuild, -torque-1.2.0_p5-r2.ebuild,
  -torque-2.1.2-r1.ebuild, -torque-2.1.2-r2.ebuild:
  (164192) Clean out vulnerable ebuilds.

  24 Nov 2006; Christian Faulhammer <opfer@gentoo.org> torque-2.1.6.ebuild:
  stable x86, security bug #152104

  23 Nov 2006; Brent Baude <ranger@gentoo.org> torque-2.1.6.ebuild:
  Marking torque-2.1.6 ppc64 for bug 152104

*torque-2.1.6 (23 Nov 2006)

  23 Nov 2006; Donnie Berkholz <dberkholz@gentoo.org>; +torque-2.1.6.ebuild:
  Bump to latest. This includes the security fix mistakenly thought to be
  included in 2.1.2, as well as a fair number of other fixes.

  15 Nov 2006; Markus Rothe <corsair@gentoo.org> torque-2.1.2-r2.ebuild:
  Stable on ppc64; bug #152104

  11 Nov 2006; Andrej Kacian <ticho@gentoo.org> torque-2.1.2-r2.ebuild:
  Stable on x86, security bug #152104.

  11 Oct 2006; Donnie Berkholz <dberkholz@gentoo.org>;
  +files/2.1.2-queue-recov-freemem-fix.patch, torque-2.1.2-r2.ebuild:
  (#149327) Fix que_recov() by using que_free() rather than free() (Ian
  Stakenvicius). Don't revbump because the common case of this, caused by
  .keep files, is already fixed.

*torque-2.1.2-r2 (28 Sep 2006)

  28 Sep 2006; Donnie Berkholz <dberkholz@gentoo.org>;
  +files/2.1.2-skip-dotnames.patch, torque-2.1.2-r1.ebuild,
  +torque-2.1.2-r2.ebuild:
  (#149327) Don't treat .keep files from keepdir() as queue files. Also, pass
  scp rather than crypt as the actual configure argument.

  28 Sep 2006; Donnie Berkholz <dberkholz@gentoo.org>;
  torque-1.2.0_p5-r1.ebuild, torque-1.2.0_p5-r2.ebuild,
  torque-2.1.2-r1.ebuild:
  Change scp USE flag to crypt for compatibility with the rest of the tree
  (Eric Thibodeau).

  26 Sep 2006; Donnie Berkholz <dberkholz@gentoo.org>;
  torque-2.1.2-r1.ebuild:
  Restore ~ppc64 keyword.

  26 Sep 2006; Donnie Berkholz <dberkholz@gentoo.org>; -torque-2.1.2.ebuild:
  Pull broken ebuild.

  26 Sep 2006; Donnie Berkholz <dberkholz@gentoo.org>;
  torque-2.1.2-r1.ebuild:
  (#149226) Run keepdir on empty directories when needed, so they don't
  disappear upon a remerge.

*torque-2.1.2-r1 (26 Sep 2006)

  26 Sep 2006; Donnie Berkholz <dberkholz@gentoo.org>;
  +torque-2.1.2-r1.ebuild:
  Set library directory to /usr/libdir/pbs/lib rather than /usr/libdir/pbs for
  compatibility with other programs.

  25 Sep 2006; Donnie Berkholz <dberkholz@gentoo.org>; torque-2.1.2.ebuild:
  (#115189) Change tclx dep to tk, tclx isn't actually required (Ian
  Stakenvicius).

*torque-2.1.2 (25 Sep 2006)

  25 Sep 2006; Donnie Berkholz <dberkholz@gentoo.org>; +torque-2.1.2.ebuild:
  (#115189) Bump, finally. Thanks to Sebastien Fabbro for maintaining this in
  the science overlay, and Lukasz Flis, Eric Thibodeau et al. on the original
  bug.

  27 Aug 2006; Michael Sterrett <mr_bones_@gentoo.org>
  torque-1.2.0_p5-r1.ebuild:
  modX deps from torque-1.2.0_p5-r2

  27 Aug 2006; Michael Sterrett <mr_bones_@gentoo.org>
  -torque-1.0.1_p6.ebuild, -torque-1.2.0_p5.ebuild:
  clean out a couple of non-modX ebuilds

  23 May 2006; Markus Rothe <corsair@gentoo.org> torque-1.2.0_p5-r1.ebuild:
  Stable on ppc64

  18 Jan 2006; Donnie Berkholz <spyderous@gentoo.org>;
  torque-1.2.0_p5-r2.ebuild:
  Add modular X dependencies. Untested, since torque won't compile for me
  right now, but expected to be the same as openpbs.

*torque-1.2.0_p5-r2 (03 Jan 2006)

  03 Jan 2006; Joel Martin <kanaka@gentoo.org> +torque-1.2.0_p5-r2.ebuild:
  Add doc USE to enable docs install

  05 Sep 2005; Michael Imhof <tantive@gentoo.org> ChangeLog:
  Stable on x86.

  15 Aug 2005; Robin H. Johnson <robbat2@gentoo.org>
  -files/1.2.0_p1-respect-destdir.patch,
  -files/1.2.0_p1-respect-ldflags.patch, -torque-1.2.0_p1.ebuild,
  -torque-1.2.0_p1-r1.ebuild, -torque-1.2.0_p1-r2.ebuild,
  -torque-1.2.0_p1-r3.ebuild:
  Remove old 1.2.0_p1 ebuilds so we can ditch their overly large patch, and
  the tree gets ~40k smaller.

  13 Aug 2005; Robin H. Johnson <robbat2@gentoo.org>
  torque-1.2.0_p5-r1.ebuild:
  USE=X needs to bring in Tk for the xpbs interface.

*torque-1.2.0_p5-r1 (13 Aug 2005)

  13 Aug 2005; Robin H. Johnson <robbat2@gentoo.org>
  +files/torque-1.2.0_p5-destdir-fixes.patch,
  +files/torque-1.2.0_p5-setuid-safety.patch, +torque-1.2.0_p5-r1.ebuild:
  Audit ebuild and package build system, fix more DESTDIR cases (bug #101326),
  and some setXid linking stuff.

*torque-1.2.0_p5 (11 Aug 2005)

  11 Aug 2005; Robin H. Johnson <robbat2@gentoo.org>
  +torque-1.2.0_p5.ebuild:
  Version bump.

  11 Aug 2005; Robin H. Johnson <robbat2@gentoo.org>
  torque-1.2.0_p1-r3.ebuild:
  Preserve server_name where possible.

  21 Jul 2005; Robin H. Johnson <robbat2@gentoo.org>
  torque-1.2.0_p1-r3.ebuild:
  More directory fun with torque. Now using an env.d file to keep the
  directories their, otherwise the unmerge phase of the old package zaps them.

*torque-1.2.0_p1-r3 (21 Jul 2005)

  21 Jul 2005; Robin H. Johnson <robbat2@gentoo.org>
  +torque-1.2.0_p1-r3.ebuild:
  Redo spool directory stuff again, as torque still complains at me. Also move
  patches to mirrors, esp as the one is larger than the size limit.

  12 Jul 2005; Robin H. Johnson <robbat2@gentoo.org>
  torque-1.2.0_p1-r2.ebuild:
  Missed one more directory. Make sure it exists else you get strange errors.

  12 Jul 2005; Robin H. Johnson <robbat2@gentoo.org>
  torque-1.2.0_p1-r2.ebuild:
  Ensure that torque directories exist always. keepdir is not safe on them
  either.

  07 Jul 2005; Markus Rothe <corsair@gentoo.org> torque-1.2.0_p1-r2.ebuild:
  added ~ppc64

*torque-1.2.0_p1-r2 (05 Jul 2005)

  05 Jul 2005; Robin H. Johnson <robbat2@gentoo.org>
  +torque-1.2.0_p1-r2.ebuild:
  Revision bump for new virtual/pbs and shared init scripts. Fix libpbs location.

*torque-1.2.0_p1-r1 (05 Jul 2005)

  05 Jul 2005; Robin H. Johnson <robbat2@gentoo.org>
  +files/1.2.0_p1-respect-destdir.patch, +torque-1.2.0_p1-r1.ebuild:
  Fix bugs #97548 and #97552 - use proper DESTDIR for install and libs into
  /usr/$libdir/torque/.

  10 Jun 2005; Robin H. Johnson <robbat2@gentoo.org> torque-1.0.1_p6.ebuild,
  torque-1.2.0_p1.ebuild:
  Add DEPEND on sys-apps/ed, and make sure makedepend-sh uses $TMPDIR.

*torque-1.0.1_p6 (15 Mar 2005)

  15 Mar 2005; Seemant Kulleen <seemant@gentoo.org> -torque-1.0.1-r6.ebuild,
  +torque-1.0.1_p6.ebuild:
  This update to _p6 from -r6 changes nothing functionally. Just a saner
  nameing convention, and no clobbering the global context with the cat | sed
  business, and also no overriding of and so on

  15 Mar 2005; Seemant Kulleen <seemant@gentoo.org> torque-1.0.1-r6.ebuild:
  fix the sed in global scope nonsense, though I do believe the package itself
  should not depend on the revision number

  20 Feb 2005; Donnie Berkholz <spyderous@gentoo.org>; +metadata.xml:
  Add metadata -- owned by cluster herd.

*torque-1.2.0_p1 (20 Feb 2005)

  20 Feb 2005; Donnie Berkholz <spyderous@gentoo.org>;
  +files/1.2.0_p1-respect-ldflags.patch, +torque-1.2.0_p1.ebuild:
  (#74483) Version bump. Also cleaned up the ebuild a bit and silenced QA
  warnings about lazily bound suid binaries.

  08 Aug 2004; Tom Martin <slarti@gentoo.org> torque-1.0.1-r6.ebuild:
  Typo in DESCRIPTION: queueing -> queuing. Bug 59717.

  01 Jul 2004; Jeremy Huddleston <eradicator@gentoo.org>
  torque-1.0.1-r6.ebuild:
  virtual/glibc -> virtual/libc

  13 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>; torque-1.0.1-r6.ebuild:
  Change x11-base/xfree dependency to virtual/x11 (#52153). This package still
  seems broken in other ways though -- for example xpbsmon looks for something
  in $D.

  25 Apr 2004; David Holm <dholm@gentoo.org> torque-1.0.1-r6.ebuild:
  Added to ~ppc.

*torque-1.0.1-r6 (23 Apr 2004)

  23 Apr 2004; Michael Imhof <tantive@gentoo.org> torque-1.0.1-r6.ebuild, files/pbs.rc:
  New ebuild. Submitted by Joseph Spadavecchia <j.spadavecchia@ed.ac.uk>.
  Closes #47986.

