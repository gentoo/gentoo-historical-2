--- STLport-4.5.3-old/src/gcc-linux.mak	Fri Jan 18 17:06:52 2002
+++ STLport-4.5.3/src/gcc-linux.mak	Tue Aug  6 09:15:49 2002
@@ -1,7 +1,7 @@
 #
 # compiler
 #
-CC = gcc
+CC = gcc ${CFLAGS}
 CXX = c++  -pthread -fexceptions
 
 #
@@ -40,11 +40,11 @@
 # CXXFLAGS_COMMON = -I${STLPORT_DIR} ${WARNING_FLAGS} -D_STLP_REAL_LOCALE_IMPLEMENTED
 CXXFLAGS_COMMON = -I${STLPORT_DIR} ${WARNING_FLAGS}
 
-CXXFLAGS_RELEASE_static = $(CXXFLAGS_COMMON) -O2
-CXXFLAGS_RELEASE_dynamic = $(CXXFLAGS_COMMON) -O2 -fPIC
+CXXFLAGS_RELEASE_static = $(CXXFLAGS_COMMON) ${CXXFLAGS}
+CXXFLAGS_RELEASE_dynamic = $(CXXFLAGS_COMMON) ${CXXFLAGS} -fPIC
 
-CXXFLAGS_DEBUG_static = $(CXXFLAGS_COMMON) -O -g
-CXXFLAGS_DEBUG_dynamic = $(CXXFLAGS_COMMON) -O -g -fPIC
+CXXFLAGS_DEBUG_static = $(CXXFLAGS_COMMON) ${CXXFLAGS} -g
+CXXFLAGS_DEBUG_dynamic = $(CXXFLAGS_COMMON) ${CXXFLAGS} -g -fPIC
 
 CXXFLAGS_STLDEBUG_static = $(CXXFLAGS_DEBUG_static) -D_STLP_DEBUG
 CXXFLAGS_STLDEBUG_dynamic = $(CXXFLAGS_DEBUG_dynamic) -D_STLP_DEBUG -fPIC
