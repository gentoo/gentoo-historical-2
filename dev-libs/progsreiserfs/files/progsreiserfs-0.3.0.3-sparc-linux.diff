Index: include/reiserfs/hashes.h
===================================================================
RCS file: /var/cvs/debian/progsreiserfs/include/reiserfs/hashes.h,v
retrieving revision 1.1.1.2
retrieving revision 1.3
diff -u -r1.1.1.2 -r1.3
--- include/reiserfs/hashes.h	3 May 2002 15:38:28 -0000	1.1.1.2
+++ include/reiserfs/hashes.h	16 Dec 2002 05:30:03 -0000	1.3
@@ -8,9 +8,9 @@
 #ifndef HASHES_H
 #define HASHES_H
 
-#if defined(__sparc__) || defined(__sparc_v9__)
+#if !defined(__GNUC__) && (defined(__sparc__) || defined(__sparc_v9__))
 #	include <sys/int_types.h>
-#else
+#else /* GNU C or not sparc */
 #	include <stdint.h>
 #endif
 
Index: include/reiserfs/key.h
===================================================================
RCS file: /var/cvs/debian/progsreiserfs/include/reiserfs/key.h,v
retrieving revision 1.1.1.2
retrieving revision 1.3
diff -u -r1.1.1.2 -r1.3
--- include/reiserfs/key.h	5 May 2002 17:47:54 -0000	1.1.1.2
+++ include/reiserfs/key.h	16 Dec 2002 05:30:03 -0000	1.3
@@ -12,9 +12,9 @@
 #ifndef KEY_H
 #define KEY_H
 
-#if defined(__sparc__) || defined(__sparc_v9__)
+#if !defined(__GNUC__) && (defined(__sparc__) || defined(__sparc_v9__))
 #	include <sys/int_types.h>
-#else
+#else /* GNU C or not sparc */
 #	include <stdint.h>
 #endif
 	
Index: include/reiserfs/reiserfs.h
===================================================================
RCS file: /var/cvs/debian/progsreiserfs/include/reiserfs/reiserfs.h,v
retrieving revision 1.1.1.2
retrieving revision 1.3
diff -u -r1.1.1.2 -r1.3
--- include/reiserfs/reiserfs.h	3 May 2002 16:14:40 -0000	1.1.1.2
+++ include/reiserfs/reiserfs.h	16 Dec 2002 05:30:03 -0000	1.3
@@ -10,9 +10,9 @@
 extern "C" {
 #endif
 
-#if defined(__sparc__) || defined(__sparc_v9__)
+#if !defined(__GNUC__) && (defined(__sparc__) || defined(__sparc_v9__))
 #	include <sys/int_types.h>
-#else
+#else /* GNU C or not sparc */
 #	include <stdint.h>
 #endif
 
Index: libreiserfs/bitmap.c
===================================================================
RCS file: /var/cvs/debian/progsreiserfs/libreiserfs/bitmap.c,v
retrieving revision 1.1.1.2
retrieving revision 1.2
diff -u -r1.1.1.2 -r1.2
--- libreiserfs/bitmap.c	3 May 2002 21:27:20 -0000	1.1.1.2
+++ libreiserfs/bitmap.c	16 Dec 2002 14:10:43 -0000	1.2
@@ -88,7 +88,7 @@
     reiserfs_bm_range_check(bm, end - 1, return 0);
     
     for (i = start; i < end; ) {
-#if !defined(__sparc__) && !defined(__sparc_v9__)
+#if defined(__GNUC__) || (!defined(__sparc__) && !defined(__sparc_v9__))
 		uint64_t *block64 = (uint64_t *)(bm->bm_map + (i >> 0x3));
 		size_t bits = sizeof(uint64_t) * 8;
 		
@@ -103,7 +103,7 @@
 				blocks++;
 			i++;	
 		}
-#else
+#else /* sparc but not GNU C */
 		if ((flag == 0 ? reiserfs_bitmap_test_block(bm, i) : !reiserfs_bitmap_test_block(bm, i)))
 			blocks++;
 		i++;	
Index: libreiserfs/core.c
===================================================================
RCS file: /var/cvs/debian/progsreiserfs/libreiserfs/core.c,v
retrieving revision 1.1.1.1
retrieving revision 1.2
diff -u -r1.1.1.1 -r1.2
--- libreiserfs/core.c	5 May 2002 15:36:42 -0000	1.1.1.1
+++ libreiserfs/core.c	16 Dec 2002 14:10:43 -0000	1.2
@@ -750,10 +750,10 @@
     if (!dal_set_block_size(dal, 1024))
 		goto error;
 	
-#if defined(__sparc__) || defined(__sparc_v9__)
+#if !defined(__GNUC__) && (defined(__sparc__) || defined(__sparc_v9__))
 	if (!reiserfs_geom_init(&geom, dal, 1, DEFAULT_SUPER_OFFSET / dal_block_size(dal)))
 		goto error;
-#else    
+#else /* GNU C or not sparc */
 	if (!reiserfs_geom_init(&geom, dal, 0, DEFAULT_SUPER_OFFSET / dal_block_size(dal)))
 		goto error;
 #endif
Index: libreiserfs/object.c
===================================================================
RCS file: /var/cvs/debian/progsreiserfs/libreiserfs/object.c,v
retrieving revision 1.1.1.2
retrieving revision 1.2
diff -u -r1.1.1.2 -r1.2
--- libreiserfs/object.c	5 May 2002 17:50:01 -0000	1.1.1.2
+++ libreiserfs/object.c	16 Dec 2002 14:10:43 -0000	1.2
@@ -12,7 +12,7 @@
 #include <limits.h>
 #include <unistd.h>
 
-#if defined(__sparc__) || defined(__sparc_v9__)
+#if !defined(__GNUC__) && (defined(__sparc__) || defined(__sparc_v9__))
 #	include <reiserfs/strsep.h>
 #endif
 
Index: libreiserfs/tools.c
===================================================================
RCS file: /var/cvs/debian/progsreiserfs/libreiserfs/tools.c,v
retrieving revision 1.1.1.2
retrieving revision 1.3
diff -u -r1.1.1.2 -r1.3
--- libreiserfs/tools.c	3 May 2002 16:27:46 -0000	1.1.1.2
+++ libreiserfs/tools.c	16 Dec 2002 05:30:04 -0000	1.3
@@ -6,9 +6,9 @@
     Some parts of this code stolen somewhere from linux.
 */
 
-#if defined(__sparc__) || defined(__sparc_v9__)
+#if !defined(__GNUC__) && (defined(__sparc__) || defined(__sparc_v9__))
 #	include <sys/int_types.h>
-#else
+#else /* GNU C or not sparc */
 #	include <stdint.h>
 #endif
 
