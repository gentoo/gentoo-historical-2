--- ql/Makefile.am.orig	2006-10-21 13:03:31.000000000 +0200
+++ ql/Makefile.am	2006-10-21 13:10:47.000000000 +0200
@@ -84,15 +84,15 @@
 install-data-hook:
 	$(SED) -e "s,HAVE_CONFIG_H,QL_HAVE_CONFIG_H," \
            -e "s,/\* install-hook \*/,#define QL_HAVE_CONFIG_H," \
-           $(includedir)/qldefines.hpp > .qldefines.hpp
-	$(INSTALL_DATA) .qldefines.hpp $(includedir)/qldefines.hpp
+           $(DESTDIR)/$(includedir)/qldefines.hpp > .qldefines.hpp
+	$(INSTALL_DATA) .qldefines.hpp $(DESTDIR)/$(includedir)/qldefines.hpp
 	rm .qldefines.hpp
 	$(SED) -e "s,PACKAGE,QL_PACKAGE," \
            -e "s,STDC,QL_STDC," \
            -e "s, HAVE, QL_HAVE," \
            -e "s, VERSION, QL_AC_VERSION," \
-           $(includedir)/config.hpp > .config.hpp
-	$(INSTALL_DATA) .config.hpp $(includedir)/config.hpp
+           $(DESTDIR)/$(includedir)/config.hpp > .config.hpp
+	$(INSTALL_DATA) .config.hpp $(DESTDIR)/$(includedir)/config.hpp
 	rm .config.hpp
 depend:
 	makedepend $(INCLUDES) -- $(CFLAGS) -- $(SOURCES)
@@ -100,9 +100,8 @@
 if ENABLE_STATIC
 
 install-exec-hook:
-	mv $(libdir)/libQuantLib.a $(libdir)/libQuantLib-$(PACKAGE_VERSION).a
-	$(LN_S) $(libdir)/libQuantLib-$(PACKAGE_VERSION).a $(libdir)/libQuantLib.a
-
+	mv $(DESTDIR)/$(libdir)/libQuantLib.a $(DESTDIR)/$(libdir)/libQuantLib-$(PACKAGE_VERSION).a
+	$(LN_S) libQuantLib-$(PACKAGE_VERSION).a $(DESTDIR)/$(libdir)/libQuantLib.a
 endif
 
 
