diff -urN cyrus-sasl-2.1.10.orig/config/sasldb.m4 cyrus-sasl-2.1.10/config/sasldb.m4
--- cyrus-sasl-2.1.10.orig/config/sasldb.m4	2002-09-19 21:10:08.000000000 +0200
+++ cyrus-sasl-2.1.10/config/sasldb.m4	2003-05-28 13:48:04.000000000 +0200
@@ -15,11 +15,19 @@
 	    BDB_LIBADD=""
 	fi
 
-        for dbname in db-4.1 db4.1 db-4.0 db4.0 db-4 db4 db-3.3 db3.3 db-3.2 db3.2 db-3.1 db3.1 db-3 db3 db
-          do
-            AC_CHECK_LIB($dbname, db_create, SASL_DB_LIB="$BDB_LIBADD -l$dbname";
-              dblib="berkeley"; break, dblib="no")
-          done
+        for dbname in db-4.1 db4.1 db-4.0 db4.0 db-4 db4 db
+        do
+          AC_CHECK_LIB($dbname, db_create_4000, SASL_DB_LIB="$BDB_LIBADD -l$dbname";
+            dblib="berkeley"; break,AC_CHECK_LIB($dbname, db_create_4001, SASL_DB_LIB="$BDB_LIBADD -l$dbname";
+            dblib="berkeley"; break, dblib="no"))
+        done
+        if test "$dblib" = "no"; then
+          for dbname in db-4.1 db4.1 db-4.0 db4.0 db-4 db4 db-3.3 db3.3 db-3.2 db3.2 db-3.1 db3.1 db-3 db3 db
+            do
+              AC_CHECK_LIB($dbname, db_create, SASL_DB_LIB="$BDB_LIBADD -l$dbname";
+                dblib="berkeley"; break, dblib="no")
+            done
+	fi
         if test "$dblib" = "no"; then
           AC_CHECK_LIB(db, db_open, SASL_DB_LIB="$BDB_LIBADD -ldb";
             dblib="berkeley"; dbname=db,
