--- ./libc/sysdeps/linux/common/ssp.c.old	2004-05-17 06:46:31.000000000 -0400
+++ ./libc/sysdeps/linux/common/ssp.c	2004-05-17 07:46:42.264773000 -0400
@@ -44,9 +44,15 @@
 #define SSP_SIGTYPE SIGABRT
 #endif
 
+#if __GNUC__ > 3 || (__GNUC__ == 3 && __GNUC_MINOR__ >= 3)
+#define __attribute_used__	__attribute__((__used__))
+#else
+#define __attribute_used__	__attribute__((__unused__))
+#endif
+
 unsigned long __guard = 0UL;
 
-void
+__attribute_used__ void __attribute__ ((visibility ("default")))
 __guard_setup (void)
 {
   size_t size;
