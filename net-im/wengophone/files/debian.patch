Taken from debian
http://www.prato.linux.it/~mnencia/debian/openwengo/source/wengophone_0.99+svn4511-3.diff.gz

Index: wengophone-0.99+svn4227/gui/SConscript
===================================================================
--- wengophone-0.99+svn4227.orig/gui/SConscript	2006-02-14 11:13:33.000000000 +0100
+++ wengophone-0.99+svn4227/gui/SConscript	2006-02-14 11:13:46.000000000 +0100
@@ -400,12 +400,17 @@
 		wengophone_env.WengoUseLibrary("samplerate")
 	
 	#system libs
-	wengophone_env.WengoLibAddMultiple(["ws2_32", "winmm", "iphlpapi"])
+	if wengophone_env.WengoOsIsWindows():
+		wengophone_env.WengoLibAddMultiple(["ws2_32", "winmm", "iphlpapi"])
+	else:
+		wengophone_env.WengoLibAddMultiple(["asound", "glib-2.0", "gthread-2.0"])
+
 	
 	
 if wengophone_env.WengoGetConsoleArgument("enable-shared-wengocurl")=="no":
 	#system libs
-	wengophone_env.WengoLibAddMultiple(["ws2_32", "winmm", "Gdi32"])
+	if wengophone_env.WengoOsIsWindows():
+		wengophone_env.WengoLibAddMultiple(["ws2_32", "winmm", "Gdi32"])
 	wengophone_env.WengoUseLibrary("openssl")
 	
 
Index: wengophone-0.99+svn4227/wifo/trunk/netlib/SConscript
===================================================================
--- wengophone-0.99+svn4227.orig/wifo/trunk/netlib/SConscript	2006-02-14 11:13:33.000000000 +0100
+++ wengophone-0.99+svn4227/wifo/trunk/netlib/SConscript	2006-02-14 11:13:46.000000000 +0100
@@ -32,8 +32,9 @@
 netlib_decl = env.WengoDeclareLibraryAuto("netlib", "wifo/netlib")
 netlib_decl.AddSubIncludePath("..")
 
-netlib_env.WengoLibAddMultiple(["user32", "shell32",
-    "ws2_32", "advapi32", "wininet", "urlmon"])
+if netlib_env.WengoOsIsWindows():
+	netlib_env.WengoLibAddMultiple(["user32", "shell32",
+	    "ws2_32", "advapi32", "wininet", "urlmon"])
 
 netlib_lib = netlib_env.WengoStaticLibrary('netlib', netlib_sources)
 netlib_env.WengoAlias('netlib', netlib_lib)
Index: wengophone-0.99+svn4227/gui/Softphone.cpp
===================================================================
--- wengophone-0.99+svn4227.orig/gui/Softphone.cpp	2006-02-14 11:13:32.000000000 +0100
+++ wengophone-0.99+svn4227/gui/Softphone.cpp	2006-02-14 11:13:50.000000000 +0100
@@ -113,6 +113,8 @@
 	//_wengoDir = _application->applicationDirPath() + QDir::separator() + "wengo" + QDir::separator();
 #else
 	_wengoDir = QDir::homeDirPath() + QDir::separator() + ".wengo" + QDir::separator();
+	_applicationDirPath = "/usr/share/wengophone/";
+	_languagesDir = _applicationDirPath + "lang" + QDir::separator();
 #endif	//WIN32
 }
 
@@ -125,9 +127,6 @@
 	_translator = new QTranslator();
 	_application->installTranslator(_translator);
 
-	_applicationDirPath = _application->applicationDirPath() + QDir::separator();
-	_languagesDir = _applicationDirPath + "lang" + QDir::separator();
-
 	//For USB key
 	//_wengoDir = _applicationDirPath + "wengo" + QDir::separator();
 }
Index: wengophone-0.99+svn4227/gui/sip/InputCallSipState.cpp
===================================================================
--- wengophone-0.99+svn4227.orig/gui/sip/InputCallSipState.cpp	2006-02-14 11:13:32.000000000 +0100
+++ wengophone-0.99+svn4227/gui/sip/InputCallSipState.cpp	2006-02-14 11:13:50.000000000 +0100
@@ -68,7 +68,8 @@
 		//FIXME replace by double-call notification
 		_soundRingin = new Sound(SOUND_RINGIN);
 	} else {*/
-		_soundRingin = new Sound(qApp->applicationDirPath() + QDir::separator() + SOUND_RINGIN);
+		QString applicationDirPath("/usr/share/wengophone");
+		_soundRingin = new Sound(applicationDirPath + QDir::separator() + SOUND_RINGIN);
 	//}
 	_soundRingin->setWaveOutDevice(Audio::getInstance().getRingingDeviceName());
 	//Play the sound indefinitely
Index: wengophone-0.99+svn4227/gui/chat/EmoticonsWidget.cpp
===================================================================
--- wengophone-0.99+svn4227.orig/gui/chat/EmoticonsWidget.cpp	2006-02-14 11:13:32.000000000 +0100
+++ wengophone-0.99+svn4227/gui/chat/EmoticonsWidget.cpp	2006-02-14 11:13:50.000000000 +0100
@@ -54,7 +54,8 @@
 
 void EmoticonsWidget::setIconset(const QString & /*name*/) {
 	Iconset iconset;
-	iconset.load(qApp->applicationDirPath() + QDir::separator() + "emoticons" + QDir::separator() + "default");
+	QString applicationDirPath("/usr/share/wengophone");
+	iconset.load(applicationDirPath + QDir::separator() + "emoticons" + QDir::separator() + "default");
 	setIconset(iconset);
 }
 
Index: wengophone-0.99+svn4511/libs/curl/lib/sendf.c
===================================================================
--- wengophone-0.99+svn4511.orig/libs/curl/lib/sendf.c	2006-03-13 17:43:59.000000000 +0100
+++ wengophone-0.99+svn4511/libs/curl/lib/sendf.c	2006-03-19 11:38:07.000000000 +0100
@@ -21,6 +21,7 @@
  * $Id: debian.patch,v 1.1 2006/04/08 22:45:44 genstef Exp $
  ***************************************************************************/
 
+#define _GNU_SOURCE
 #include "setup.h"
 
 #include <stdio.h>
Index: wengophone-0.99+svn4511/wifo/trunk/eXosip/phapi/phaudiodriver.c
===================================================================
--- wengophone-0.99+svn4511.orig/wifo/trunk/eXosip/phapi/phaudiodriver.c	2006-03-13 17:43:59.000000000 +0100
+++ wengophone-0.99+svn4511/wifo/trunk/eXosip/phapi/phaudiodriver.c	2006-03-19 11:38:07.000000000 +0100
@@ -17,6 +17,7 @@
   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 */
 
+#include <stdlib.h>
 #include <string.h>
 #include "phaudiodriver.h"
 
Index: wengophone-0.99+svn4511/wifo/trunk/eXosip/src/eXosip.c
===================================================================
--- wengophone-0.99+svn4511.orig/wifo/trunk/eXosip/src/eXosip.c	2006-03-13 17:43:59.000000000 +0100
+++ wengophone-0.99+svn4511/wifo/trunk/eXosip/src/eXosip.c	2006-03-19 11:38:07.000000000 +0100
@@ -17,6 +17,7 @@
   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 */
 
+#include <stdlib.h>
 #ifdef ENABLE_MPATROL
 #include <mpatrol.h>
 #endif
Index: wengophone-0.99+svn4511/wifo/trunk/eXosip/src/jfreinds.c
===================================================================
--- wengophone-0.99+svn4511.orig/wifo/trunk/eXosip/src/jfreinds.c	2006-03-13 17:43:59.000000000 +0100
+++ wengophone-0.99+svn4511/wifo/trunk/eXosip/src/jfreinds.c	2006-03-19 11:38:07.000000000 +0100
@@ -17,7 +17,7 @@
   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 */
 
-
+#include <stdlib.h>
 #ifdef ENABLE_MPATROL
 #include <mpatrol.h>
 #endif
Index: wengophone-0.99+svn4511/wifo/trunk/eXosip/src/jidentity.c
===================================================================
--- wengophone-0.99+svn4511.orig/wifo/trunk/eXosip/src/jidentity.c	2006-03-13 17:43:59.000000000 +0100
+++ wengophone-0.99+svn4511/wifo/trunk/eXosip/src/jidentity.c	2006-03-19 11:38:07.000000000 +0100
@@ -17,7 +17,7 @@
   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 */
 
-
+#include <stdlib.h>
 #ifdef ENABLE_MPATROL
 #include <mpatrol.h>
 #endif
Index: wengophone-0.99+svn4511/wifo/trunk/eXosip/src/jsubscribers.c
===================================================================
--- wengophone-0.99+svn4511.orig/wifo/trunk/eXosip/src/jsubscribers.c	2006-03-13 17:43:59.000000000 +0100
+++ wengophone-0.99+svn4511/wifo/trunk/eXosip/src/jsubscribers.c	2006-03-19 11:38:07.000000000 +0100
@@ -17,7 +17,7 @@
   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 */
 
-
+#include <stdlib.h>
 #ifdef ENABLE_MPATROL
 #include <mpatrol.h>
 #endif
Index: wengophone-0.99+svn4511/gui/visio/VideoCodecConfigWidget.cpp
===================================================================
--- wengophone-0.99+svn4511.orig/gui/visio/VideoCodecConfigWidget.cpp	2006-03-13 17:43:59.000000000 +0100
+++ wengophone-0.99+svn4511/gui/visio/VideoCodecConfigWidget.cpp	2006-03-20 10:46:15.000000000 +0100
@@ -52,7 +52,7 @@
 	connect(_parametersComboBox, SIGNAL(activated(const QString &)), this, SLOT(updateValue(const QString &)));
 	
 	//int or float validator
-	QRegExpValidator * validator = new QRegExpValidator(QRegExp("([0-9])+(\.)?([0-9])*"), _videoCodecConfigWidget);
+	QRegExpValidator * validator = new QRegExpValidator(QRegExp("([0-9])+(\\.)?([0-9])*"), _videoCodecConfigWidget);
 	_parametersValueLineEdit->setValidator(validator);
 	
 	QTimer *timer = new QTimer(this);
Index: wengophone-0.99+svn4511/wifo/trunk/eXosip/phapi/stun/stun.c
===================================================================
--- wengophone-0.99+svn4511.orig/wifo/trunk/eXosip/phapi/stun/stun.c	2006-03-13 17:43:59.000000000 +0100
+++ wengophone-0.99+svn4511/wifo/trunk/eXosip/phapi/stun/stun.c	2006-04-07 15:23:20.000000000 +0200
@@ -1,11 +1,11 @@
 #include <assert.h>
 #include <errno.h>
+#include <time.h>
 
 #ifdef WIN32
 #include <winsock2.h>
 #include <stdlib.h>
 #include <io.h>
-#include <time.h>
 #else
 
 #include <stdlib.h>
@@ -783,9 +783,13 @@
       closesocket(fd);
 #elif defined(EMBED)
       tick = rand();
+#elif __unix__
+      struct timeval tv;
+      gettimeofday(&tv, NULL);
+      tick = (unsigned(tv.tv_sec) * unsigned(getpid())) ^ unsigned(tv.tv_usec);
 #else
-#     error Need some way to seed the random number generator 
-#endif 
+      tick = time(NULL);
+#endif
       seed = (tick);
 #ifdef WIN32
       srand(seed);
Index: wengophone-0.99+svn4227/SConscript
===================================================================
--- wengophone-0.99+svn4227.orig/SConscript	2006-02-14 11:13:32.000000000 +0100
+++ wengophone-0.99+svn4227/SConscript	2006-02-14 11:13:53.000000000 +0100
@@ -33,7 +33,6 @@
 env.WengoBuildInDir("download/SConscript", "softphone/download")
 env.WengoBuildInDir("gui/SConscript", "softphone/gui")
 env.WengoBuildInDir("buildid/SConscript", "softphone/buildid")
-env.WengoBuildInDir("nsis-installer/SConscript", "softphone/nsis-installer")
 env.WengoBuildInDir("memorydump/SConscript", "softphone/memorydump")
 if not env.WengoOsIsWindows():
     env.WengoBuildInDir("deb-installer/SConscript", "softphone/deb-installer")
