--- src/mainwin.h	2005-07-03 14:46:37.500823472 +0400
+++ src~/mainwin.h	2005-07-03 14:47:49.051946048 +0400
@@ -137,6 +137,7 @@
        m_bAutoPosReplyWin,
        m_bAutoSendThroughServer,
        m_bEnableMainwinMouseMovement,
+       m_bShowKoloboks,
        m_bPopEmail,
        m_bPopPhone,
        m_bPopFax,
--- src/mlview3.cpp	2005-07-03 14:46:37.501823320 +0400
+++ src~/mlview3.cpp	2005-07-03 14:48:38.163479960 +0400
@@ -83,7 +83,8 @@
   // not used for html now QString text = QStyleSheet::escape(s);
   QString text = useHTML ? s: QStyleSheet::escape(s);
 
-  gMainWindow->emoticons->ParseMessage(text);
+  if (gMainWindow->m_bShowKoloboks)
+    gMainWindow->emoticons->ParseMessage(text);
 
     // We must hightlight URLs at this step, before we convert
     // linebreaks to richtext tags and such.  Also, check to make sure
--- src/optionsdlg.cpp	2005-07-03 14:46:37.502823168 +0400
+++ src~/optionsdlg.cpp	2005-07-03 14:50:13.186034336 +0400
@@ -240,6 +240,7 @@
   chkFlashTaskbar->setChecked(mainwin->m_bFlashTaskbar);
   chkAutoSendThroughServer->setChecked(mainwin->m_bAutoSendThroughServer);
   chkEnableMainwinMouseMovement->setChecked(mainwin->m_bEnableMainwinMouseMovement);
+  chkShowKoloboks->setChecked(mainwin->m_bShowKoloboks);
   popEmail->setChecked(mainwin->m_bPopEmail);
   popPhone->setChecked(mainwin->m_bPopPhone);
   popFax->setChecked(mainwin->m_bPopFax);
@@ -533,6 +534,7 @@
   mainwin->m_bFlashTaskbar = chkFlashTaskbar->isChecked();
   mainwin->m_bAutoSendThroughServer = chkAutoSendThroughServer->isChecked();
   mainwin->m_bEnableMainwinMouseMovement = chkEnableMainwinMouseMovement->isChecked();
+  mainwin->m_bShowKoloboks = chkShowKoloboks->isChecked();
 
   mainwin->m_bPopEmail= popEmail->isChecked();
   mainwin->m_bPopPhone= popPhone->isChecked();
@@ -813,6 +815,8 @@
   chkEnableMainwinMouseMovement = new QCheckBox(tr("Allow dragging main window"), boxMainWin);
   QWhatsThis::add(chkEnableMainwinMouseMovement, tr("Lets you drag around the main window "
    "with your mouse"));
+  chkShowKoloboks = new QCheckBox(tr("Show graphical smiles instead of text ones"), boxMainWin);
+  QWhatsThis::add(chkShowKoloboks, tr("Lets you see only text messages, without any emotional icons"));
 
   chkMsgChatView = new QCheckBox(tr("Chatmode Messageview"), boxMainWin);
   QWhatsThis::add(chkMsgChatView, tr("Show the current chat history in Send Window"));
--- src/optionsdlg.h	2005-07-03 14:46:37.502823168 +0400
+++ src~/optionsdlg.h	2005-07-03 14:50:41.079793840 +0400
@@ -92,6 +92,7 @@
              *chkAlwaysShowONU, *chkScrollBar, *chkShowExtIcons,
              *chkSysBack, *chkSendFromClipboard, *chkMsgChatView, *chkAutoPosReplyWin,
 	     *chkFlashTaskbar, *chkAutoSendThroughServer, *chkTabbedChatting,
+	     *chkShowKoloboks,
              *chkEnableMainwinMouseMovement, *chkShowHistory;
    QRadioButton *rdbDockDefault, *rdbDockThemed, *rdbDockSmall;
    QComboBox *cmbDockTheme, *cmbSortBy;
