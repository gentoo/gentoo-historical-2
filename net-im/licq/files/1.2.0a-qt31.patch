Index: licq/plugins/qt-gui-1.2.0/src/awaymsgdlg.cpp
===================================================================
RCS file: /cvsroot/licq/qt-gui-1.2.0/src/awaymsgdlg.cpp,v
retrieving revision 1.48
diff -u -3 -p -r1.48 awaymsgdlg.cpp
--- licq/plugins/qt-gui-1.2.0/src/awaymsgdlg.cpp	23 Feb 2001 10:28:43 -0000	1.48
+++ licq/plugins/qt-gui-1.2.0/src/awaymsgdlg.cpp	15 Nov 2002 15:39:00 -0000
@@ -167,6 +167,13 @@ AwayMsgDlg::~AwayMsgDlg()
   emit done();
 }
 
+// Since QT3.1 final somehow this qdialog does not accept() the 
+// closeEvent, so we force it to do so :)
+void AwayMsgDlg::closeEvent(QCloseEvent *e)
+{
+	e->accept();
+}
+
 void AwayMsgDlg::slot_hints()
 {
   QString h = tr(hints);
Index: licq/plugins/qt-gui-1.2.0/src/awaymsgdlg.h
===================================================================
RCS file: /cvsroot/licq/qt-gui-1.2.0/src/awaymsgdlg.h,v
retrieving revision 1.21
diff -u -3 -p -r1.21 awaymsgdlg.h
--- licq/plugins/qt-gui-1.2.0/src/awaymsgdlg.h	12 Jul 2001 00:20:53 -0000	1.21
+++ licq/plugins/qt-gui-1.2.0/src/awaymsgdlg.h	15 Nov 2002 15:39:00 -0000
@@ -14,6 +14,9 @@ public:
   AwayMsgDlg(QWidget *parent = 0);
   ~AwayMsgDlg();
   void SelectAutoResponse(unsigned short status);
+	
+private:
+	void closeEvent(QCloseEvent *);
 
 protected:
   MLEditWrap *mleAwayMsg;
