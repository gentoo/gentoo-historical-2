--- src/icqpacket.cpp	2005-07-14 23:13:54.000000000 +0400
+++ src/icqpacket.cpp	2005-07-14 23:15:23.988169456 +0400
@@ -4385,6 +4385,7 @@
 //  buffer->PackUnsignedShort(0x0021);
   if (Channel() == ICQ_CHNxNONE)
   {
+    buffer->PackUnsignedShort(m_nMsgLen);
     buffer->Pack(m_szMessage, m_nMsgLen);
   }
   else
