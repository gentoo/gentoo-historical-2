diff --git a/qtwitter-app/src/statuslist.cpp b/qtwitter-app/src/statuslist.cpp
index 4b3fec5..c5b5673 100644
--- a/qtwitter-app/src/statuslist.cpp
+++ b/qtwitter-app/src/statuslist.cpp
@@ -25,7 +25,9 @@
 #include <QPixmap>
 
 #include <account.h>
-#include <oauthwizard.h>
+#ifdef OAUTH
+#  include <oauthwizard.h>
+#endif
 #include "imagedownload.h"
 #include "core.h"
 #include "dmdialog.h"
diff --git a/twitterapi/twitterapi.cpp b/twitterapi/twitterapi.cpp
index d4e69cc..eed4496 100644
--- a/twitterapi/twitterapi.cpp
+++ b/twitterapi/twitterapi.cpp
@@ -284,7 +284,7 @@ TwitterAPI::TwitterAPI( const QString &serviceUrl, const QString &login,
 }
 #else
 TwitterAPI::TwitterAPI( const QString &serviceUrl, const QString &login,
-                        const QString &password, QObject *parent = 0 ) :
+                        const QString &password, QObject *parent ) :
     QObject( parent ),
     d_ptr( new TwitterAPIPrivate )
 {
@@ -444,7 +444,7 @@ void TwitterAPI::postUpdate( const QString &data, quint64 inReplyTo )
 #else
   QByteArray auth = d->login.toUtf8() + ":" + d->password.toUtf8();
   request.setRawHeader( "Authorization", "Basic " + auth.toBase64() );
-  content = prepareRequest( data, inReplyTo );
+  content = d->prepareRequest( data, inReplyTo );
 #endif
 
   request.setUrl( QUrl(url) );
