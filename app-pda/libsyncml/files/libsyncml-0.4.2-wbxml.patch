diff -ur libsyncml-0.4.2/libsyncml/parser/sml_xml_assm.c libsyncml/libsyncml/parser/sml_xml_assm.c
--- libsyncml-0.4.2/libsyncml/parser/sml_xml_assm.c	2006-09-09 16:40:08.000000000 +0200
+++ libsyncml/libsyncml/parser/sml_xml_assm.c	2006-11-24 16:20:14.000000000 +0100
@@ -1441,14 +1443,17 @@
 	/* Add the syncml start node */
 	switch (assm->session->version) {
 		case SML_VERSION_10:
+			xmlTextWriterWriteRaw(assm->writer, (xmlChar *)"<!DOCTYPE SyncML PUBLIC \"-//SYNCML//DTD SyncML 1.0//EN\" \"http://www.syncml.org/docs/syncml_represent_v10_20001207.dtd\">");
 			if (!_smlXmlAssemblerStartNodeNS(assm, SML_ELEMENT_SYNCML, SML_NAMESPACE_SYNCML10, error))
 				goto error_free_writer;
 			break;
 		case SML_VERSION_11:
+			xmlTextWriterWriteRaw(assm->writer, (xmlChar *)"<!DOCTYPE SyncML PUBLIC \"-//SYNCML//DTD SyncML 1.1//EN\" \"http://www.syncml.org/docs/syncml_represent_v11_20020213.dtd.dtd\">");
 			if (!_smlXmlAssemblerStartNodeNS(assm, SML_ELEMENT_SYNCML, SML_NAMESPACE_SYNCML11, error))
 				goto error_free_writer;
 			break;
 		case SML_VERSION_12:
+			xmlTextWriterWriteRaw(assm->writer, (xmlChar *)"<!DOCTYPE SyncML PUBLIC \"-//SYNCML//DTD SyncML 1.2//EN\" \"http://www.openmobilealliance.org/tech/DTD/OMA-TS-SyncML_RepPro_DTD-V1_2.dtd\">");
 			if (!_smlXmlAssemblerStartNodeNS(assm, SML_ELEMENT_SYNCML, SML_NAMESPACE_SYNCML12, error))
 				goto error_free_writer;
 			break;

