Index: service-type-database/build-db.in
===================================================================
--- service-type-database/build-db.in	(revision 489)
+++ service-type-database/build-db.in	(working copy)
@@ -19,7 +19,7 @@
 # Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307
 # USA.
 
-import dbm, sys
+import anydbm, sys
 
 if len(sys.argv) > 1:
     infn = sys.argv[1]
@@ -31,11 +31,8 @@
 else:
     outfn = infn
 
-if outfn.endswith(".db"):
-    outfn = outfn[:-3]
+db = anydbm.open(outfn, "n")
 
-db = dbm.open(outfn, "n")
-
 for ln in file(infn, "r"):
     ln = ln.strip(" \r\n\t")
     
