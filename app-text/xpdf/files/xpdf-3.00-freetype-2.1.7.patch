diff -Naur xpdf-3.00/configure.in xpdf-3.00.new/configure.in
--- xpdf-3.00/configure.in	2004-01-22 02:26:44.000000000 +0100
+++ xpdf-3.00.new/configure.in	2004-09-29 19:27:16.089925504 +0200
@@ -306,10 +306,13 @@
 dnl ##### (Note: FT_Get_Name_Index was added in FT 2.0.5, and is
 dnl ##### the reason that Xpdf requires 2.0.5+.)
 smr_CHECK_LIB(freetype2, freetype, [FreeType2 font rasterizer - version 2.0.5+],
-              FT_Get_Name_Index, freetype/freetype.h, -lm)
+              FT_Get_Name_Index, freetype/ft2build.h, -lm)
 if test x"$freetype2_LIBS" = x; then
   smr_CHECK_LIB(freetype2, freetype, [FreeType2 font rasterizer - version 2.0.5+],
-                FT_Get_Name_Index, freetype.h, -lm)
+                FT_Get_Name_Index, ft2build.h, -lm)
+  if test "x$smr_have_freetype2_library" = xyes; then
+    AC_DEFINE(HAVE_FREETYPE_H)
+  fi
 fi
 AC_SUBST(freetype2_LIBS)
 AC_SUBST(freetype2_CFLAGS)
diff -Naur xpdf-3.00/splash/SplashFTFont.cc xpdf-3.00.new/splash/SplashFTFont.cc
--- xpdf-3.00/splash/SplashFTFont.cc	2004-01-22 02:26:44.000000000 +0100
+++ xpdf-3.00.new/splash/SplashFTFont.cc	2004-09-29 19:27:46.527298320 +0200
@@ -12,8 +12,10 @@
 #pragma implementation
 #endif
 
-#include "freetype/ftoutln.h"
-#include "freetype/internal/ftobjs.h" // needed for FT_New_Size decl
+#include <ft2build.h>
+#include FT_OUTLINE_H
+#include FT_GLYPH_H
+#include FT_SIZES_H // needed for FT_New_Size decl
 #include "gmem.h"
 #include "SplashMath.h"
 #include "SplashGlyphBitmap.h"
diff -Naur xpdf-3.00/splash/SplashFTFont.h xpdf-3.00.new/splash/SplashFTFont.h
--- xpdf-3.00/splash/SplashFTFont.h	2004-01-22 02:26:44.000000000 +0100
+++ xpdf-3.00.new/splash/SplashFTFont.h	2004-09-29 19:27:16.091925200 +0200
@@ -15,7 +15,8 @@
 #pragma interface
 #endif
 
-#include <freetype/freetype.h>
+#include <ft2build.h>
+#include FT_FREETYPE_H
 #include "SplashFont.h"
 
 class SplashFTFontFile;
diff -Naur xpdf-3.00/splash/SplashFTFontEngine.h xpdf-3.00.new/splash/SplashFTFontEngine.h
--- xpdf-3.00/splash/SplashFTFontEngine.h	2004-01-22 02:26:44.000000000 +0100
+++ xpdf-3.00.new/splash/SplashFTFontEngine.h	2004-09-29 19:27:16.091925200 +0200
@@ -15,7 +15,8 @@
 #pragma interface
 #endif
 
-#include <freetype/freetype.h>
+#include <ft2build.h>
+#include FT_FREETYPE_H
 #include "gtypes.h"
 
 class SplashFontFile;
diff -Naur xpdf-3.00/splash/SplashFTFontFile.h xpdf-3.00.new/splash/SplashFTFontFile.h
--- xpdf-3.00/splash/SplashFTFontFile.h	2004-01-22 02:26:44.000000000 +0100
+++ xpdf-3.00.new/splash/SplashFTFontFile.h	2004-09-29 19:27:16.091925200 +0200
@@ -15,7 +15,8 @@
 #pragma interface
 #endif
 
-#include <freetype/freetype.h>
+#include <ft2build.h>
+#include FT_FREETYPE_H
 #include "SplashFontFile.h"
 
 class SplashFontFileID;
