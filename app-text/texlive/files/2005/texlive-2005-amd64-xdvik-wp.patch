diff -urN TeX.orig/texk/xdvik/x_util.c TeX/texk/xdvik/x_util.c
--- TeX.orig/texk/xdvik/x_util.c	2004-12-03 00:40:41.000000000 +0100
+++ TeX/texk/xdvik/x_util.c	2006-05-27 23:09:34.000000000 +0200
@@ -205,15 +205,15 @@
     w = (*((xuint32 *) window_p));
 #else
 # if WORDS_BIGENDIAN
-    w = ((unsigned long)wp[0] << 24) |
-	((unsigned long)wp[1] << 16) |
-	((unsigned long)wp[2] << 8)  |
-	(unsigned long)wp[3];
+    w = ((unsigned long)window_p[0] << 24) |
+	((unsigned long)window_p[1] << 16) |
+	((unsigned long)window_p[2] << 8)  |
+	(unsigned long)window_p[3];
 # else
-    w = ((unsigned long)wp[3] << 24) |
-	((unsigned long)wp[2] << 16) |
-	((unsigned long)wp[1] << 8)  |
-	(unsigned long)wp[0];
+    w = ((unsigned long)window_p[3] << 24) |
+	((unsigned long)window_p[2] << 16) |
+	((unsigned long)window_p[1] << 8)  |
+	(unsigned long)window_p[0];
 # endif
 #endif
     return w;
