diff -urNad kchmviewer-3.1.orig/lib/libchmfile/libchmfileimpl.h kchmviewer-3.1/lib/libchmfile/libchmfileimpl.h
--- kchmviewer-3.1.orig/lib/libchmfile/libchmfileimpl.h 2008-04-09 17:33:13.000000000 +0100
+++ kchmviewer-3.1/lib/libchmfile/libchmfileimpl.h      2008-04-09 17:33:59.000000000 +0100
@@ -25,6 +25,8 @@
 #include "libchmfile.h"
 #include "libchmtocimage.h"

+#include <sys/types.h> /* for u_int{32,64}_t */
+
 //! Keeps the intermediate search result
 class LCHMSearchProgressResult
 {
