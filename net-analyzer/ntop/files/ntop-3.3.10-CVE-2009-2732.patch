--- http.c~	2007-06-09 16:33:45.000000000 +0200
+++ http.c	2009-09-27 09:50:56.420394637 +0200
@@ -3377,8 +3377,8 @@ static int checkHTTPpassword(char *theRe
 
   i = decodeString(thePw, (unsigned char*)outBuffer, sizeof(outBuffer));
 
-  if(i == 0) {
     user = "", thePw[0] = '\0';
+  if(i == 0) {
     outBuffer[0] = '\0';
   } else {
     outBuffer[i] = '\0';
