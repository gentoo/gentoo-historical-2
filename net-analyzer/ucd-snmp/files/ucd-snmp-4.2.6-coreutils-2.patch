#diff -urpN ucd-snmp-4.2.6/aclocal.m4 ucd-snmp-4.2.6.coreutils/aclocal.m4
#--- ucd-snmp-4.2.6/aclocal.m4	2002-06-06 10:12:38.000000000 +0200
#+++ ucd-snmp-4.2.6.coreutils/aclocal.m4	2003-09-23 02:52:25.266638832 +0200
#@@ -38,7 +38,7 @@ dnl @author Wes Hardaker <wjhardaker@ucd
# dnl
# AC_DEFUN([AC_PROMPT_USER],
# [
#-MSG_CHECK=`echo "$2" | tail -1`
#+MSG_CHECK=`echo "$2" | tail -n 1`
# AC_CACHE_CHECK($MSG_CHECK, ac_cv_user_prompt_$1,
# [echo "" >&AC_FD_MSG
# AC_PROMPT_USER_NO_DEFINE($1,[$2],$3)
#@@ -1516,7 +1516,7 @@ EOF
#     # If the export-symbols file already is a .def file (1st line
#     # is EXPORTS), use it as is.
#     # If DATA tags from a recent dlltool are present, honour them!
#-    archive_expsym_cmds='if test "x`head -1 $export_symbols`" = xEXPORTS; then
#+    archive_expsym_cmds='if test "x`head -n 1 $export_symbols`" = xEXPORTS; then
# 	cp $export_symbols $output_objdir/$soname-def;
#       else
# 	echo EXPORTS > $output_objdir/$soname-def;
#@@ -3489,7 +3489,7 @@ darwin* | rhapsody*)
#   lt_cv_file_magic_cmd='/usr/bin/file -L'
#   case "$host_os" in
#   rhapsody* | darwin1.[[012]])
#-    lt_cv_file_magic_test_file=`echo /System/Library/Frameworks/System.framework/Versions/*/System | head -1`
#+    lt_cv_file_magic_test_file=`echo /System/Library/Frameworks/System.framework/Versions/*/System | head -n 1`
#     ;;
#   *) # Darwin 1.3 on
#     lt_cv_file_magic_test_file='/usr/lib/libSystem.dylib'
#diff -urpN ucd-snmp-4.2.6/config.guess ucd-snmp-4.2.6.coreutils/config.guess
--- ucd-snmp-4.2.6/config.guess	2002-03-01 17:15:14.000000000 +0200
+++ ucd-snmp-4.2.6.coreutils/config.guess	2003-09-23 02:52:19.030586856 +0200
@@ -340,7 +340,7 @@ EOF
 	echo m68k-sun-sunos${UNAME_RELEASE}
 	exit 0 ;;
     sun*:*:4.2BSD:*)
-	UNAME_RELEASE=`(head -1 /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
+	UNAME_RELEASE=`(head -n 1 /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
 	test "x${UNAME_RELEASE}" = "x" && UNAME_RELEASE=3
 	case "`/bin/arch`" in
 	    sun3)
@@ -509,7 +509,7 @@ EOF
 	fi
 	exit 0 ;;
     *:AIX:*:[45])
-	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | head -1 | awk '{ print $1 }'`
+	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | head -n 1 | awk '{ print $1 }'`
 	if /usr/sbin/lsattr -El ${IBM_CPU_ID} | grep ' POWER' >/dev/null 2>&1; then
 		IBM_ARCH=rs6000
 	else
diff -urpN ucd-snmp-4.2.6/configure ucd-snmp-4.2.6.coreutils/configure
--- ucd-snmp-4.2.6/configure	2002-10-11 14:10:26.000000000 +0200
+++ ucd-snmp-4.2.6.coreutils/configure	2003-09-23 02:52:25.092665280 +0200
@@ -2089,7 +2089,7 @@ darwin* | rhapsody*)
   lt_cv_file_magic_cmd='/usr/bin/file -L'
   case "$host_os" in
   rhapsody* | darwin1.[012])
-    lt_cv_file_magic_test_file=`echo /System/Library/Frameworks/System.framework/Versions/*/System | head -1`
+    lt_cv_file_magic_test_file=`echo /System/Library/Frameworks/System.framework/Versions/*/System | head -n 1`
     ;;
   *) # Darwin 1.3 on
     lt_cv_file_magic_test_file='/usr/lib/libSystem.dylib'
@@ -3836,7 +3836,7 @@ EOF
     # If the export-symbols file already is a .def file (1st line
     # is EXPORTS), use it as is.
     # If DATA tags from a recent dlltool are present, honour them!
-    archive_expsym_cmds='if test "x`head -1 $export_symbols`" = xEXPORTS; then
+    archive_expsym_cmds='if test "x`head -n 1 $export_symbols`" = xEXPORTS; then
 	cp $export_symbols $output_objdir/$soname-def;
       else
 	echo EXPORTS > $output_objdir/$soname-def;
@@ -16188,7 +16188,7 @@ fi
 
 ME=`$WHOAMI`
 if test -f /etc/resolv.conf; then
-  LOC=`cat /etc/resolv.conf | grep '^domain' | tail -1 | awk '{print $NF}'`
+  LOC=`cat /etc/resolv.conf | grep '^domain' | tail -n 1 | awk '{print $NF}'`
 else
   LOC="@no.where"
 fi
@@ -16203,7 +16203,7 @@ running on.  This information is availab
 can also be over-ridden using the \"syscontact\" syntax in the agent's
 configuration files.
 
-System Contact Information" | tail -1`
+System Contact Information" | tail -n 1`
 echo $ac_n "checking $MSG_CHECK""... $ac_c" 1>&6
 echo "configure:16209: checking $MSG_CHECK" >&5
 if eval "test \"`echo '$''{'ac_cv_user_prompt_SYS_CONTACT'+set}'`\" = set"; then
@@ -16263,7 +16263,7 @@ MSG_CHECK=`echo "
 available in the MIB-II tree.  this can also be over-ridden using the
 \"syslocation\" syntax in the agent's configuration files.
 
-System Location" | tail -1`
+System Location" | tail -n 1`
 echo $ac_n "checking $MSG_CHECK""... $ac_c" 1>&6
 echo "configure:16269: checking $MSG_CHECK" >&5
 if eval "test \"`echo '$''{'ac_cv_user_prompt_SYS_LOC'+set}'`\" = set"; then
@@ -16329,7 +16329,7 @@ information & errors to.  If not defined
 at the prompt below) the agent will use stdout and stderr instead.
 (Note: This value can be over-ridden using command line options.)
 
-Location to write logfile" | tail -1`
+Location to write logfile" | tail -n 1`
 echo $ac_n "checking $MSG_CHECK""... $ac_c" 1>&6
 echo "configure:16335: checking $MSG_CHECK" >&5
 if eval "test \"`echo '$''{'ac_cv_user_prompt_LOGFILE'+set}'`\" = set"; then
@@ -16394,7 +16394,7 @@ MSG_CHECK=`echo "
 	Enter a directory for the snmp library to store persistent
 data in the form of a configuration file.
 
-Location to write persistent information" | tail -1`
+Location to write persistent information" | tail -n 1`
 echo $ac_n "checking $MSG_CHECK""... $ac_c" 1>&6
 echo "configure:16400: checking $MSG_CHECK" >&5
 if eval "test \"`echo '$''{'ac_cv_user_prompt_PERSISTENT_DIRECTORY'+set}'`\" = set"; then
#diff -urpN ucd-snmp-4.2.6/configure.in ucd-snmp-4.2.6.coreutils/configure.in
#--- ucd-snmp-4.2.6/configure.in	2002-08-25 03:24:59.000000000 +0200
#+++ ucd-snmp-4.2.6.coreutils/configure.in	2003-09-23 02:52:25.159655096 +0200
#@@ -1982,7 +1982,7 @@ fi
# 
# ME=`$WHOAMI`
# if test -f /etc/resolv.conf; then
#-  LOC=`cat /etc/resolv.conf | grep '^domain' | tail -1 | awk '{print $NF}'`
#+  LOC=`cat /etc/resolv.conf | grep '^domain' | tail -n 1 | awk '{print $NF}'`
# else
#   LOC="@no.where"
# fi
diff -urpN ucd-snmp-4.2.6/local/snmp-ucd.sh ucd-snmp-4.2.6.coreutils/local/snmp-ucd.sh
--- ucd-snmp-4.2.6/local/snmp-ucd.sh	2000-08-01 19:23:03.000000000 +0200
+++ ucd-snmp-4.2.6.coreutils/local/snmp-ucd.sh	2003-09-23 02:52:18.983594000 +0200
@@ -106,7 +106,7 @@ pidofproc() {	# <program>
 	# Try looking for a /var/run file.
 	#
 	[ -f /var/run/$1.pid ] && {
-	        pid=`head -1 /var/run/$1.pid`
+	        pid=`head -n 1 /var/run/$1.pid`
 
 	        [ -n "$pid" ] && {
 	                echo $pid
