diff -Naur sarg-1.4.1/html.c sarg_patch/html.c
--- sarg-1.4.1/html.c	2003-04-25 17:20:55.000000000 +0000
+++ sarg_patch/html.c	2004-02-16 19:31:29.980354640 +0000
@@ -735,8 +735,8 @@
 
    }
 
-   (void)closedir( dirp );
    (void)rewinddir( dirp );
+   (void)closedir( dirp );
 
    return;
 }
diff -Naur sarg-1.4.1/index.c sarg_patch/index.c
--- sarg-1.4.1/index.c	2004-02-16 20:07:21.382291832 +0000
+++ sarg_patch/index.c	2004-02-16 19:45:35.897755648 +0000
@@ -107,8 +107,8 @@
    }
 
    fclose(fp_tmp);
-   (void)closedir( dirp );
    (void)rewinddir( dirp );
+   (void)closedir( dirp );
 
    if(strcmp(IndexSortOrder,"A") == 0)
       sprintf(html,"sort -n -t';' -k 7,7 %s -o %s", wdir_tmp, wdir_tmp2);
diff -Naur sarg-1.4.1/lastlog.c sarg_patch/lastlog.c
--- sarg-1.4.1/lastlog.c	2003-04-25 17:20:55.000000000 +0000
+++ sarg_patch/lastlog.c	2004-02-16 19:38:53.645907224 +0000
@@ -43,8 +43,8 @@
       ftot++;
    }
 
-   (void)closedir( dirp );
    (void)rewinddir( dirp );
+   (void)closedir( dirp );
    fclose(fp_ou);
    
    sprintf(buf,"sort -n -k 1,1 -o %slastlog %s",outdir,temp);
diff -Naur sarg-1.4.1/sort.c sarg_patch/sort.c
--- sarg-1.4.1/sort.c	2003-04-25 17:20:55.000000000 +0000
+++ sarg_patch/sort.c	2004-02-16 19:25:12.266775832 +0000
@@ -84,8 +84,8 @@
 
    }
 
-   (void)closedir( dirp );
    (void)rewinddir( dirp );
+   (void)closedir( dirp );
    return;
 }
 
@@ -125,8 +125,8 @@
       bzero(user, MAXLEN);
 
    }
-   (void)closedir( dirp );
    (void)rewinddir( dirp );
-
+   (void)closedir( dirp );
+   
    return;
 }
