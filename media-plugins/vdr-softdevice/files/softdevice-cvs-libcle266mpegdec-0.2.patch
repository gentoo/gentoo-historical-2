diff -ru softdevice-cvs-20060814/configure softdevice-cvs-20060814-try1/configure
--- softdevice-cvs-20060814/configure	2006-08-14 20:50:22.000000000 +0200
+++ softdevice-cvs-20060814-try1/configure	2006-08-15 21:40:58.000000000 +0200
@@ -328,15 +328,17 @@
 #
 if test "${dfb}" = "yes" ; then
   echo -n "Checking for libcle266mpegdec ... "
-  cle266_cflags=`PKG_CONFIG_PATH=$PKG_CONFIG_PATH pkg-config --cflags libcle266mpegdec 2>>config.log` || cle266="no"
+  cle266_version=`PKG_CONFIG_PATH=$PKG_CONFIG_PATH pkg-config --modversion libcle266mpegdec 2>>config.log` || cle266="no"
   if test "${cle266}" = "yes" ; then
+    cle266_cflags=`PKG_CONFIG_PATH=$PKG_CONFIG_PATH pkg-config --cflags libcle266mpegdec`
     cle266_libs=`PKG_CONFIG_PATH=$PKG_CONFIG_PATH pkg-config --libs libcle266mpegdec`
     cle266_opts="${cle266_cflags} ${cle266_libs}"
   fi
 
-  if test "${cle266}" = "yes" ; then
+  if test "${cle266}" = "yes" && test "${cle266_version}" = "0.2"; then
     echo "Enabled cle266 hardware decoding."
   else
+    cle266="no"
     echo "Not found."
   fi
 elsediff -ru softdevice-cvs-20060814/mpeg2decoder.c softdevice-cvs-20060814-try1/mpeg2decoder.c
--- softdevice-cvs-20060814/mpeg2decoder.c	2006-08-14 20:50:22.000000000 +0200
+++ softdevice-cvs-20060814-try1/mpeg2decoder.c	2006-08-15 21:40:58.000000000 +0200
@@ -757,7 +757,7 @@
 };
 
 #ifdef HAVE_CLE266_MPEG_DECODER
-float aspect_ratio_values[5]={1.0, 1.0, 4.0/3.0, 16.0/9.0, 221.0/110 };
+float aspect_ratio_values[5]={1.0, 1.0, 4.0/3.0, 16.0/9.0, 2.21 };
 
 int cVideoStreamDecoder::DecodePicture_cle266(sPicBuffer *&pic, 
                 int &got_picture,uint8_t *data, int length, int64_t pkt_pts) {
@@ -790,9 +790,9 @@
   pic->width = decoder.width;
   pic->height = decoder.height;
   pic->pts = pkt_pts;
-  pic->edge_width=pic->edge_height=0;
-  pic->dtg_active_format = 0; // currently not parsed
-  pic->interlaced_frame = true; // FIXME Do we have that information?
+  pic->edge_width = pic->edge_height = 0;
+  pic->dtg_active_format = decoder.dtg_active_format;
+  pic->interlaced_frame = decoder.progressive_sequence ? false : true;
   pic->aspect_ratio = ( decoder.aspect_ratio_info >= 0 
     && decoder.aspect_ratio_info < 5 ) ?
     aspect_ratio_values[decoder.aspect_ratio_info] : 1.0;

