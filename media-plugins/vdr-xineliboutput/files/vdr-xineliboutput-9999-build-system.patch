Index: Makefile
===================================================================
RCS file: /cvsroot/xineliboutput/vdr-xineliboutput/Makefile,v
retrieving revision 1.101
diff -u -b -B -r1.101 Makefile
--- Makefile	25 Nov 2010 14:28:49 -0000	1.101
+++ Makefile	26 Nov 2010 19:42:55 -0000
@@ -312,7 +312,7 @@
 install : XINELIBOUTPUT_INSTALL_MSG =
 
 .PHONY: all
-all: config $(TARGETS_VDR) frontends i18n
+all: config $(TARGETS_VDR) frontends
 
 frontends: config $(TARGETS_FE) $(TARGETS_XINE)
 	$(XINELIBOUTPUT_INSTALL_MSG)
@@ -329,8 +329,6 @@
 
 $(VDRPLUGIN): $(OBJS) $(OBJS_MPG)
 	$(CXX) $(CXXFLAGS) $(LDFLAGS_SO) $(LDFLAGS) $(OBJS) $(OBJS_MPG) $(LIBS) $(LIBS_VDR) -o $@
-	@-rm -rf $(LIBDIR)/$@
-	@cp $@ $(LIBDIR)/$@
 
 #
 # vdr-sxfe
@@ -338,8 +336,6 @@
 
 $(VDRPLUGIN_SXFE): $(OBJS_SXFE_SO)
 	$(CC) $(CFLAGS) $(LDFLAGS_SO) $(LDFLAGS) $(OBJS_SXFE_SO) $(LIBS_X11) $(LIBS_XINE) $(LIBS_JPEG) -o $@
-	@-rm -rf $(LIBDIR)/$(VDRPLUGIN_SXFE)
-	@cp $@ $(LIBDIR)/$(VDRPLUGIN_SXFE)
 $(VDRSXFE): $(OBJS_SXFE)
 	$(CC) $(CFLAGS) $(LDFLAGS) $(OBJS_SXFE) $(LIBS_X11) $(LIBS_XINE) $(LIBS_JPEG) $(LIBS_PTHREAD) -o $@
 
@@ -349,8 +345,6 @@
 
 $(VDRPLUGIN_FBFE): $(OBJS_FBFE_SO)
 	$(CC) $(CFLAGS) $(LDFLAGS_SO) $(LDFLAGS) $(OBJS_FBFE_SO) $(LIBS_XINE) $(LIBS_JPEG) -o $@
-	@-rm -rf $(LIBDIR)/$(VDRPLUGIN_FBFE)
-	@cp $@ $(LIBDIR)/$(VDRPLUGIN_FBFE)
 $(VDRFBFE): $(OBJS_FBFE)
 	$(CC) $(CFLAGS) $(LDFLAGS) $(OBJS_FBFE) $(LIBS_XINE) $(LIBS_JPEG) $(LIBS_PTHREAD) -o $@
 
@@ -371,7 +365,7 @@
 # install
 #
 
-install: all
+install: all i18n
 ifeq ($(XINELIBOUTPUT_XINEPLUGIN), yes)
 	@mkdir -p $(DESTDIR)/$(XINEPLUGINDIR)/post
 	@echo Installing $(DESTDIR)/$(XINEPLUGINDIR)/$(XINEINPUTVDR)
@@ -392,12 +386,30 @@
 	@mkdir -p $(DESTDIR)/$(BINDIR)
 	@-rm -rf $(DESTDIR)/$(BINDIR)/vdr-fbfe
 	@$(INSTALL) -m 0755 vdr-fbfe $(DESTDIR)/$(BINDIR)/vdr-fbfe
+ifeq ($(XINELIBOUTPUT_VDRPLUGIN), yes)
+	@echo Installing $(DESTDIR)$(LIBDIR)/$(VDRPLUGIN_FBFE)
+	@mkdir -p $(DESTDIR)$(LIBDIR)
+	@-rm -rf $(DESTDIR)$(LIBDIR)/$(VDRPLUGIN_FBFE)
+	@$(INSTALL) -m 0755 $(VDRPLUGIN_FBFE) $(DESTDIR)$(LIBDIR)/$(VDRPLUGIN_FBFE)
+endif
 endif
 ifeq ($(XINELIBOUTPUT_X11), yes)
 	@echo Installing $(DESTDIR)/$(BINDIR)/vdr-sxfe
 	@mkdir -p $(DESTDIR)/$(BINDIR)
 	@-rm -rf $(DESTDIR)/$(BINDIR)/vdr-sxfe
 	@$(INSTALL) -m 0755 vdr-sxfe $(DESTDIR)/$(BINDIR)/vdr-sxfe
+ifeq ($(XINELIBOUTPUT_VDRPLUGIN), yes)
+	@echo Installing $(DESTDIR)$(LIBDIR)/$(VDRPLUGIN_SXFE)
+	@mkdir -p $(DESTDIR)$(LIBDIR)
+	@-rm -rf $(DESTDIR)$(LIBDIR)/$(VDRPLUGIN_SXFE)
+	@$(INSTALL) -m 0755 $(VDRPLUGIN_SXFE) $(DESTDIR)$(LIBDIR)/$(VDRPLUGIN_SXFE)
+endif
+endif
+ifeq ($(XINELIBOUTPUT_VDRPLUGIN), yes)
+	@echo Installing $(DESTDIR)$(LIBDIR)/$(VDRPLUGIN)
+	@mkdir -p $(DESTDIR)$(LIBDIR)
+	@-rm -rf $(DESTDIR)$(LIBDIR)/$(VDRPLUGIN)
+	@$(INSTALL) -D -m 0755 $(VDRPLUGIN) $(DESTDIR)$(LIBDIR)/$(VDRPLUGIN)
 endif
 
 dist: clean
Index: configure
===================================================================
RCS file: /cvsroot/xineliboutput/vdr-xineliboutput/configure,v
retrieving revision 1.29
diff -u -b -B -r1.29 configure
--- configure	23 Nov 2010 13:21:06 -0000	1.29
+++ configure	26 Nov 2010 19:42:55 -0000
@@ -231,7 +231,6 @@
   xshm
   xdpms
   xinerama
-  xrandr
   xrender
   xshape
   opengl
@@ -267,7 +266,6 @@
   echo "  --disable-xshm         disable XShm support [no]"
   echo "  --disable-xdpms        disable Xdpms support [no]"
   echo "  --disable-xinerama     disable Xinerama support [no]"
-  echo "  --disable-xrandr       disable Xrandr support (video mode switching) [no]"
   echo "  --disable-xrender      disable Xrender support (HUD OSD) [no]"
   echo "  --disable-xshape       disable Xshape support (non-transparent HUD OSD without composite manager) [no]"
   echo "  --disable-opengl       disable OpenGL support (transparent HUD OSD without composite manager) [no]"
@@ -326,7 +324,7 @@
 
 check_deps(){
   disabled libxine && disable x11 fb libavutil libjpeg
-  disabled x11     && disable dbus-glib-1 xshm xrender xshape opengl xrandr xdpms xinerama vdpau
+  disabled x11     && disable dbus-glib-1 xshm xrender xshape opengl xdpms xinerama vdpau
   disabled vdr     && disable libextractor
   disabled xrender && disable opengl
   disabled xshape  && disable opengl
@@ -367,7 +365,6 @@
     test_library X11  xshm         "X11/extensions/XShm.h"     "-lXext"      "XShmQueryExtension(0)"
     test_library X11  xrender      "X11/extensions/Xrender.h"  "-lXrender"   "XRenderQueryFormats(0)"
     test_library X11  xshape       "X11/extensions/shape.h"    "-lXext"      "XShapeQueryExtension(0,0,0)"
-    test_library X11  xrandr       "X11/extensions/Xrandr.h"   "-lXrandr"    "XRRGetScreenInfo(0,0)"
     test_library X11  xdpms        "X11/extensions/dpms.h"     "-lXext"      "DPMSDisable(0)"
     test_library X11  xinerama     "X11/extensions/Xinerama.h" "-lXinerama"  "XineramaQueryScreens(0,0)"
     test_library X11  opengl       "GL/glx.h"                  "-lGL -lGLU -lglut"  "glXQueryVersion(0,0,0)"
