--- cuesheet.c.orig	2003-10-22 10:23:00.000000000 +0200
+++ cuesheet.c	2004-01-27 14:33:23.000000000 +0100
@@ -99,6 +99,8 @@
 {
   gchar *cue_name, *temp;
 
+  if (o_fname==NULL) return NULL;
+
   //find the extension
   for(temp = o_fname+strlen(o_fname)-1; *temp != '.' && temp != o_fname; temp--);
   
