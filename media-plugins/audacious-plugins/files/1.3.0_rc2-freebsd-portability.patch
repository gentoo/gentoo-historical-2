diff -ruN audacious-plugins-1.3.0-rc2.orig/configure.ac audacious-plugins-1.3.0-rc2/configure.ac
--- audacious-plugins-1.3.0-rc2.orig/configure.ac	2007-02-25 22:41:03 -0300
+++ audacious-plugins-1.3.0-rc2/configure.ac	2007-02-27 05:23:02 -0300
@@ -876,7 +876,11 @@
 AC_CHECK_HEADERS(wchar.h)
 AC_CHECK_HEADERS(fts.h)
 
-AC_CHECK_FUNCS([mkdtemp getmntinfo statvfs strtoul lrintf])
+AC_CHECK_DECL([lrintf],[AC_DEFINE(HAVE_LRINTF,1)],[AC_CHECK_FUNCS([lrintf])],[
+#define _ISOC9X_SOURCE
+#include <math.h>
+])
+AC_CHECK_FUNCS([mkdtemp getmntinfo statvfs strtoul])
 
 
 if test "${ac_cv_header_linux_cdrom_h}" = "yes" || test "${ac_cv_header_sys_cdio_h}" = "yes"
diff -ruN audacious-plugins-1.3.0-rc2.orig/src/aosd/ghosd.h audacious-plugins-1.3.0-rc2/src/aosd/ghosd.h
--- audacious-plugins-1.3.0-rc2.orig/src/aosd/ghosd.h	2007-01-31 16:50:36 -0300
+++ audacious-plugins-1.3.0-rc2/src/aosd/ghosd.h	2007-02-27 03:18:36 -0300
@@ -10,7 +10,7 @@
 
 #include <cairo/cairo.h>
 
-#include <values.h>  /* MAXINT */
+#include <limits.h>  /* INT_MAX */
 #include <sys/time.h>  /* timeval */
 
 typedef struct _Ghosd Ghosd;
@@ -32,7 +32,7 @@
 Ghosd *ghosd_new(void);
 void   ghosd_destroy(Ghosd* ghosd);
 
-#define GHOSD_COORD_CENTER MAXINT
+#define GHOSD_COORD_CENTER INT_MAX
 void ghosd_set_transparent(Ghosd *ghosd, int transparent);
 void ghosd_set_position(Ghosd *ghosd, int x, int y, int width, int height);
 void ghosd_set_render(Ghosd *ghosd, GhosdRenderFunc render_func,
diff -ruN audacious-plugins-1.3.0-rc2.orig/src/tta/id3.c audacious-plugins-1.3.0-rc2/src/tta/id3.c
--- audacious-plugins-1.3.0-rc2.orig/src/tta/id3.c	2006-11-22 14:55:20 -0300
+++ audacious-plugins-1.3.0-rc2/src/tta/id3.c	2007-02-27 03:17:09 -0300
@@ -1,5 +1,4 @@
 #include <stdio.h>
-#include <malloc.h>
 #include <string.h>
 #include "ttalib.h"
 #include "id3genre.h"