--- ext.c	2005-04-23 16:44:21.000000000 +0200
+++ ext-new.c	2005-04-24 16:34:07.000000000 +0200
@@ -469,7 +469,7 @@
 
     if (type&MEM_RESERVE && (unsigned)address&0xffff) {
        size += (unsigned)address&0xffff;
-       (unsigned)address &= ~0xffff;
+       address = (LPVOID)((unsigned)address & ~0xffff);
     }
     pgsz = sysconf(_SC_PAGESIZE);
     if (type&MEM_COMMIT && (unsigned)address%pgsz) {
--- win32.c	2005-04-23 16:44:29.000000000 +0200
+++ win32-new.c	2005-04-24 16:34:07.000000000 +0200
@@ -2623,7 +2623,7 @@
     dbgprintf("GetWindowThreadProcessId(0x%x, 0x%x) => %d\n",
 	win, pid_data, tid);
     if (pid_data)
-	(int)*pid_data = tid;
+	*pid_data = tid;
     return tid;
 }
 
