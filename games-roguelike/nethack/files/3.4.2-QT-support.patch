--- include/config.h.orig	2003-06-21 21:03:14.000000000 -0400
+++ include/config.h	2003-06-21 21:03:20.000000000 -0400
@@ -47 +47 @@
-/* #define QT_GRAPHICS */	/* Qt interface */
+#define QT_GRAPHICS
@@ -89 +88,0 @@
-# define USE_XPM		/* Use XPM format for images (required) */
--- src/Makefile.orig	2003-06-21 21:04:41.000000000 -0400
+++ src/Makefile	2003-06-21 21:04:58.000000000 -0400
@@ -179 +179 @@
-WINQTOBJ = qt_win.o qt_clust.o qttableview.o tile.o
+WINQTOBJ = qt_win.o qt_clust.o qttableview.o
@@ -207,2 +207,2 @@
-WINSRC = $(WINTTYSRC) $(WINX11SRC)
-WINOBJ = $(WINTTYOBJ) $(WINX11OBJ)
+WINSRC = $(WINTTYSRC) $(WINX11SRC) $(WINQTSRC)
+WINOBJ = $(WINTTYOBJ) $(WINX11OBJ) $(WINQTOBJ)
@@ -248 +248 @@
-WINLIB = $(WINTTYLIB) $(WINX11LIB)
+WINLIB = $(WINTTYLIB) $(WINX11LIB) $(WINQTLIB)
diff -ur nethack-3.4.2/win/Qt/qt_win.cpp nethack-3.4.2-gentoo/win/Qt/qt_win.cpp
--- win/Qt/qt_win.cpp.orig	2003-09-30 01:47:32.000000000 +1200
+++ win/Qt/qt_win.cpp	2003-09-30 02:16:34.000000000 +1200
@@ -57,6 +57,7 @@
 #include "dlb.h"
 #include "patchlevel.h"
 #include "tile2x11.h"
+#undef Invisible
 #undef Warning
 #undef red
 #undef green
