diff -x '*~' -ur libtorrent-0.6.2/src/data/file.cc libtorrent-0.6.2-gcc4/src/data/file.cc
--- libtorrent-0.6.2/src/data/file.cc	2005-04-21 20:39:39.000000000 +0200
+++ libtorrent-0.6.2-gcc4/src/data/file.cc	2005-05-30 00:08:45.358865976 +0200
@@ -102,7 +102,7 @@
 
   if (((prot & MemoryChunk::prot_read) && !is_readable()) ||
       ((prot & MemoryChunk::prot_write) && !is_writable())) {
-    int buf = get_size();
+    off_t buf = get_size();
 
     throw internal_error(std::string((char*)buf, 4));
     //    throw internal_error("File::get_chunk() permission denied");
diff -x '*~' -ur libtorrent-0.6.2/src/data/memory_chunk.cc libtorrent-0.6.2-gcc4/src/data/memory_chunk.cc
--- libtorrent-0.6.2/src/data/memory_chunk.cc	2005-04-14 21:45:04.000000000 +0200
+++ libtorrent-0.6.2-gcc4/src/data/memory_chunk.cc	2005-05-29 23:51:27.853590752 +0200
@@ -53,7 +53,7 @@
   if (page_align() >= m_pagesize)
     throw internal_error("MemoryChunk::MemoryChunk(...) received an page alignment >= page size");
 
-  if ((uint32_t)ptr % m_pagesize)
+  if ((ptrdiff_t)ptr % m_pagesize)
     throw internal_error("MemoryChunk::MemoryChunk(...) is not aligned to a page");
 }
 
