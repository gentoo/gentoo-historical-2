diff -ru dvb-apps-snapshot-20050702-orig/lib/libdvbcfg/Makefile dvb-apps-snapshot-20050702/lib/libdvbcfg/Makefile
--- dvb-apps-snapshot-20050702-orig/lib/libdvbcfg/Makefile	2005-07-02 15:34:55.000000000 +0200
+++ dvb-apps-snapshot-20050702/lib/libdvbcfg/Makefile	2005-07-03 12:22:55.000000000 +0200
@@ -16,7 +16,7 @@
 		dvbcfg_common.h \
 		dvbcfg_multiplex.h
 
-CFLAGS = -I.
+CFLAGS += -I. -I../../include
 
 LIB = libdvbcfg.a
 RANLIB = ranlib
diff -ru dvb-apps-snapshot-20050702-orig/lib/libdvbcfg/test/Makefile dvb-apps-snapshot-20050702/lib/libdvbcfg/test/Makefile
--- dvb-apps-snapshot-20050702-orig/lib/libdvbcfg/test/Makefile	2005-07-02 15:34:55.000000000 +0200
+++ dvb-apps-snapshot-20050702/lib/libdvbcfg/test/Makefile	2005-07-03 12:22:55.000000000 +0200
@@ -1,5 +1,5 @@
 
-CFLAGS = -I..
+CFLAGS += -I..
 
 test: dvbcfg_test.o ../libdvbcfg.a
 	gcc -o dvbcfg_test dvbcfg_test.o ../libdvbcfg.a
diff -ru dvb-apps-snapshot-20050702-orig/lib/libdvben50221/Makefile dvb-apps-snapshot-20050702/lib/libdvben50221/Makefile
--- dvb-apps-snapshot-20050702-orig/lib/libdvben50221/Makefile	2005-07-02 15:34:55.000000000 +0200
+++ dvb-apps-snapshot-20050702/lib/libdvben50221/Makefile	2005-07-03 12:22:55.000000000 +0200
@@ -1,6 +1,7 @@
 CC=gcc
-CFLAGS= -g -Wall -W -I ../libdvbsi $(ARCH)
-CPPFLAGS = -MD -I../libdvbsi -I. $(DEFS)
+CFLAGS ?= -g -Wall -W
+CFLAGS += -I ../libdvbsi $(ARCH)
+CPPFLAGS += -MD -I../libdvbsi -I. -I../../include $(DEFS)
 OBJS = en50221_hlci.o asn_1.o en50221_encode.o gimmick.o
 RM=rm
 
@@ -9,10 +10,12 @@
 $(OBJS): %.o : %.c
 	$(CC) -c $(CPPFLAGS) $(CFLAGS) $< -o $@
 
-libs:
+libs: $(OBJS)
 	ar rcs libdvben50221.a en50221_hlci.o asn_1.o en50221_encode.o gimmick.o
 
 clean:
 	$(RM) *.a *.o *.d
 
+install:
+
 -include $(wildcard *.d) dummy
diff -ru dvb-apps-snapshot-20050702-orig/lib/libdvbsi/Makefile dvb-apps-snapshot-20050702/lib/libdvbsi/Makefile
--- dvb-apps-snapshot-20050702-orig/lib/libdvbsi/Makefile	2005-07-02 15:34:55.000000000 +0200
+++ dvb-apps-snapshot-20050702/lib/libdvbsi/Makefile	2005-07-03 12:22:55.000000000 +0200
@@ -1,6 +1,7 @@
 CC=gcc
-CFLAGS= -g -Wall -O2 $(ARCH)
-CPPFLAGS = -MD -I../../include -I../lib -I. $(DEFS)
+CFLAGS ?= -g -Wall -O2
+CFLAGS += $(ARCH)
+CPPFLAGS += -MD -I../../include -I../lib -I. $(DEFS)
 RM=rm
 
 OBJS = filter.o pat.o pmt.o si.o descriptor.o channels.o
@@ -12,7 +13,9 @@
 clean:
 	$(RM) *.o *.d *.a
 
-libs:
+libs: $(OBJS)
 	ar rcs libdvbsi.a filter.o pat.o pmt.o si.o descriptor.o channels.o
 
+install:
+
 -include $(wildcard *.d) dummy
diff -ru dvb-apps-snapshot-20050702-orig/test/Makefile dvb-apps-snapshot-20050702/test/Makefile
--- dvb-apps-snapshot-20050702-orig/test/Makefile	2005-07-02 15:34:55.000000000 +0200
+++ dvb-apps-snapshot-20050702/test/Makefile	2005-07-03 12:22:55.000000000 +0200
@@ -1,8 +1,9 @@
 # Makefile for Linux DVB API Version 3 test programs
 
 CC = gcc
-CFLAGS = -g -O2 -W -Wall -D__user= $(ARCH)
-CPPFLAGS = -I../include $(DEFS)
+CFLAGS ?= -g -O2 -W -Wall
+CFLAGS += -D__user= $(ARCH)
+CPPFLAGS += -I../include $(DEFS)
 
 TARGETS = \
 	diseqc		\
diff -ru dvb-apps-snapshot-20050702-orig/util/av7110_loadkeys/Makefile dvb-apps-snapshot-20050702/util/av7110_loadkeys/Makefile
--- dvb-apps-snapshot-20050702-orig/util/av7110_loadkeys/Makefile	2005-07-02 15:34:55.000000000 +0200
+++ dvb-apps-snapshot-20050702/util/av7110_loadkeys/Makefile	2005-07-03 12:22:55.000000000 +0200
@@ -1,6 +1,7 @@
 CC = gcc
-CFLAGS = -g -Wall -O2 $(ARCH)
-CPPFLAGS = $(DEFS)
+CFLAGS ?= -g -Wall -O2
+CFLAGS += $(ARCH)
+CPPFLAGS += $(DEFS)
 DEFS = '-DDATADIR="$(datadir)"'
 bindir  = /usr/local/bin
 datadir = /usr/local/share
diff -ru dvb-apps-snapshot-20050702-orig/util/ca_zap/Makefile dvb-apps-snapshot-20050702/util/ca_zap/Makefile
--- dvb-apps-snapshot-20050702-orig/util/ca_zap/Makefile	2005-07-02 15:34:55.000000000 +0200
+++ dvb-apps-snapshot-20050702/util/ca_zap/Makefile	2005-07-03 12:22:55.000000000 +0200
@@ -1,6 +1,7 @@
 CC = gcc
-CFLAGS = -g -O2 -W -Wall -o $(ARCH)
-CPPFLAGS = -MD -I../../lib/libdvbsi -I../../lib/libdvben50221
+CFLAGS ?= -g -O2 -W -Wall
+CFLAGS += $(ARCH)
+CPPFLAGS += -MD -I../../lib/libdvbsi -I../../lib/libdvben50221 -I../../include
 LDFLAGS = -g -O2 -L ../../lib/libdvbsi -ldvbsi -L ../../lib/libdvben50221 -ldvben50221
 RM = rm -f
 
@@ -9,10 +10,12 @@
 
 all: $(OBJS) $(TARGETS)
 
-ca_zap:
-	$(CC) $(CPPFLAGS) $(CFLAGS) ca_zap ca_zap.o $(LDFLAGS)
+ca_zap: $(OBJS)
+	$(CC) $(CPPFLAGS) $(CFLAGS) -o ca_zap ca_zap.o $(LDFLAGS)
 
 clean:
 	$(RM) $(TARGETS) *.o *.d ca_zap
 
+install:
+
 -include $(wildcard *.d) dummy
diff -ru dvb-apps-snapshot-20050702-orig/util/dib3000-watch/Makefile dvb-apps-snapshot-20050702/util/dib3000-watch/Makefile
--- dvb-apps-snapshot-20050702-orig/util/dib3000-watch/Makefile	2005-07-02 15:34:55.000000000 +0200
+++ dvb-apps-snapshot-20050702/util/dib3000-watch/Makefile	2005-07-03 12:22:55.000000000 +0200
@@ -1,11 +1,11 @@
 CC=gcc
 TARGET=dib3000-watch
 OBJECTS=dib3000-watch.o
-CFLAGS=-c -Wall
+CFLAGS ?= -Wall
 LFLAGS=-lm
 
 .c.o:
-	$(CC) $(CFLAGS) $< -o $@
+	$(CC) -c $(CFLAGS) $< -o $@
 
 all: $(TARGET)
 
diff -ru dvb-apps-snapshot-20050702-orig/util/dst-utils/Makefile dvb-apps-snapshot-20050702/util/dst-utils/Makefile
--- dvb-apps-snapshot-20050702-orig/util/dst-utils/Makefile	2005-07-02 15:34:55.000000000 +0200
+++ dvb-apps-snapshot-20050702/util/dst-utils/Makefile	2005-07-03 12:22:55.000000000 +0200
@@ -1,6 +1,7 @@
 CC = gcc
-CFLAGS = -g -O2 -W -Wall -o $(ARCH)
-CPPFLAGS = -MD -I../../lib/libdvbsi -I../../lib/libdvben50221
+CFLAGS ?= -g -O2 -W -Wall
+CFLAGS += $(ARCH)
+CPPFLAGS += -MD -I../../lib/libdvbsi -I../../lib/libdvben50221 -I../../include
 LDFLAGS = -g -O2 -L ../../lib/libdvbsi -ldvbsi -L ../../lib/libdvben50221 -ldvben50221
 RM = rm -f
 
@@ -9,10 +10,12 @@
 
 all: $(OBJS) $(TARGETS)
 
-dst_test:
-	$(CC) $(CPPFLAGS) $(CFLAGS) dst_test dst_test.o $(LD_FLAGS)
+dst_test: $(OBJS)
+	$(CC) $(CPPFLAGS) $(CFLAGS) -o dst_test dst_test.o $(LD_FLAGS)
 
 clean:
 	$(RM) $(TARGETS) *.o dst_test
 
+install:
+
 -include $(wildcard *.d) dummy
diff -ru dvb-apps-snapshot-20050702-orig/util/dvbdate/Makefile dvb-apps-snapshot-20050702/util/dvbdate/Makefile
--- dvb-apps-snapshot-20050702-orig/util/dvbdate/Makefile	2005-07-02 15:34:55.000000000 +0200
+++ dvb-apps-snapshot-20050702/util/dvbdate/Makefile	2005-07-03 12:22:55.000000000 +0200
@@ -1,7 +1,8 @@
 
 CC      = gcc
-CFLAGS  = -g -O2 -Wall $(ARCH)
-CPPFLAGS= -MD -I../../include $(DEFS)
+CFLAGS  ?= -g -O2 -Wall
+CFLAGS  += $(ARCH)
+CPPFLAGS += -MD -I../../include $(DEFS)
 LFLAGS  =
 
 OBJS    = dvbdate.o
diff -ru dvb-apps-snapshot-20050702-orig/util/dvbnet/Makefile dvb-apps-snapshot-20050702/util/dvbnet/Makefile
--- dvb-apps-snapshot-20050702-orig/util/dvbnet/Makefile	2005-07-02 15:34:55.000000000 +0200
+++ dvb-apps-snapshot-20050702/util/dvbnet/Makefile	2005-07-03 12:22:55.000000000 +0200
@@ -1,7 +1,8 @@
 
 CC      = gcc
-CFLAGS  = -g -O2 -Wall $(ARCH)
-CPPFLAGS= -MD -I. -I../../include $(DEFS)
+CFLAGS  ?= -g -O2 -Wall
+CFLAGS  += $(ARCH)
+CPPFLAGS += -MD -I. -I../../include $(DEFS)
 LFLAGS  =
 bindir = /usr/local/bin
 libdir = /usr/local/lib
@@ -14,6 +15,8 @@
 .c.o:
 	$(CC) $(CPPFLAGS) $(CFLAGS) -c $< -o $@
 
+dvbnet.o: version.h
+
 $(TARGET): $(OBJS)
 	$(CC) -o $@ $(OBJS) $(LFLAGS)
 
diff -ru dvb-apps-snapshot-20050702-orig/util/dvbtraffic/Makefile dvb-apps-snapshot-20050702/util/dvbtraffic/Makefile
--- dvb-apps-snapshot-20050702-orig/util/dvbtraffic/Makefile	2005-07-02 15:34:55.000000000 +0200
+++ dvb-apps-snapshot-20050702/util/dvbtraffic/Makefile	2005-07-03 12:22:55.000000000 +0200
@@ -1,5 +1,6 @@
-CFLAGS   = -g -O2 -Wall $(ARCH)
-CPPFLAGS = -MD -I../../include $(DEFS)
+CFLAGS   ?= -g -O2 -Wall
+CFLAGS   += $(ARCH)
+CPPFLAGS += -MD -I../../include $(DEFS)
 bindir = /usr/local/bin
 
 dvbtraffic: dvbtraffic.c
diff -ru dvb-apps-snapshot-20050702-orig/util/lib/Makefile dvb-apps-snapshot-20050702/util/lib/Makefile
--- dvb-apps-snapshot-20050702-orig/util/lib/Makefile	2005-07-02 15:34:55.000000000 +0200
+++ dvb-apps-snapshot-20050702/util/lib/Makefile	2005-07-03 12:22:55.000000000 +0200
@@ -1,7 +1,8 @@
 
 CC = gcc
-CFLAGS = -g -Wall -O2 $(ARCH)
-CPPFLAGS = -MD -I../../include -I. $(DEFS)
+CFLAGS ?= -g -Wall -O2
+CFLAGS += $(ARCH)
+CPPFLAGS += -MD -I../../include -I. $(DEFS)
 bindir = /usr/local/bin
 
 OBJS = lnb.o
diff -ru dvb-apps-snapshot-20050702-orig/util/scan/Makefile dvb-apps-snapshot-20050702/util/scan/Makefile
--- dvb-apps-snapshot-20050702-orig/util/scan/Makefile	2005-07-02 15:34:55.000000000 +0200
+++ dvb-apps-snapshot-20050702/util/scan/Makefile	2005-07-03 12:22:55.000000000 +0200
@@ -1,7 +1,8 @@
 
 CC = gcc
-CFLAGS = -g -Wall -O2 $(ARCH)
-CPPFLAGS = -MD -I../../include -I../lib $(DEFS)
+CFLAGS ?= -g -Wall -O2
+CFLAGS +=$(ARCH)
+CPPFLAGS += -MD -I../../include -I../lib $(DEFS)
 LFLAGS = -g -Wall
 DEFS = '-DDATADIR="$(datadir)"'
 bindir = /usr/local/bin
@@ -35,9 +36,11 @@
 	mkdir -p $(DESTDIR)$(datadir)/dvb
 	for d in dvb-* atsc ; do test -d $$d || continue ; echo ..... $$d ..... \
 	; mkdir -p $(DESTDIR)$(datadir)/dvb/$$d/ \
-	; cp `find $$d -type f` $(DESTDIR)$(datadir)/dvb/$$d/ ; done
+	; cp `find $$d -type f|grep -v CVS` $(DESTDIR)$(datadir)/dvb/$$d/ ; done
 
 -include $(wildcard *.d) dummy
 
+atsc_psip_section.h: atsc_psip_section.c
+
 atsc_psip_section.c: atsc_psip_section.pl section_generate.pl
 	perl section_generate.pl atsc_psip_section.pl
diff -ru dvb-apps-snapshot-20050702-orig/util/szap/Makefile dvb-apps-snapshot-20050702/util/szap/Makefile
--- dvb-apps-snapshot-20050702-orig/util/szap/Makefile	2005-07-02 15:34:55.000000000 +0200
+++ dvb-apps-snapshot-20050702/util/szap/Makefile	2005-07-03 12:22:55.000000000 +0200
@@ -1,6 +1,7 @@
 CC = gcc
-CFLAGS = -Wall -g -O2 $(ARCH)
-CPPFLAGS = -MD -I../../include -I../lib $(DEFS)
+CFLAGS ?= -Wall -g -O2
+CFLAGS += $(ARCH)
+CPPFLAGS += -MD -I../../include -I../lib $(DEFS)
 LFLAGS = -Wall -g -O2
 RM = rm -f
 DEFS = '-DDATADIR="$(datadir)"'
diff -ru dvb-apps-snapshot-20050702-orig/util/ttusb_dec_reset/Makefile dvb-apps-snapshot-20050702/util/ttusb_dec_reset/Makefile
--- dvb-apps-snapshot-20050702-orig/util/ttusb_dec_reset/Makefile	2005-07-02 15:34:55.000000000 +0200
+++ dvb-apps-snapshot-20050702/util/ttusb_dec_reset/Makefile	2005-07-03 12:22:55.000000000 +0200
@@ -1,7 +1,8 @@
 CC	= gcc
 RM	= rm -f
-CFLAGS	= -g -Wall -O2 $(ARCH)
-CPPFLAGS = $(DEFS)
+CFLAGS  ?= -g -Wall -O2 
+CFLAGS  += $(ARCH)
+CPPFLAGS += $(DEFS)
 LFLAGS	= -g -Wall
 LDFLAGS = -lusb
 bindir  = /usr/local/bin
