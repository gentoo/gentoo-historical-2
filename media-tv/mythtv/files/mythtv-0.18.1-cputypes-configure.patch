--- configure.orig	2005-07-19 22:23:17.000000000 +0100
+++ configure	2005-07-19 22:38:56.000000000 +0100
@@ -5,10 +5,11 @@
 
 x86_mmx_cpus="pentium-mmx,pentium2,pentium3,pentium3m,pentium-m"
 x86_mmx_cpus="$x86_mmx_cpus,pentium4,pentium4m,prescott,athlon,athlon-xp"
-x86_mmx_cpus="$x86_mmx_cpus,c3,c3-2"
+x86_mmx_cpus="$x86_mmx_cpus,athlon-tbird,athlon-4,athlon-mp,c3,c3-2,k6,k6-2,k6-3"
 x86_cpus="i386,i486,i586,i686,pentium,pentiumpro,${x86_mmx_cpus}"
 x86_cmov_cpus="i686,pentiumpro,pentium2,pentium3,pentium3m,pentium-m,pentium4,"
-x86_cmov_cpus="pentium4m,prescott,athlon,athlon-xp,c3-2"
+x86_cmov_cpus="pentium4m,prescott,athlon,athlon-xp,athlon-tbird,athlon-4,athlon-mp,c3-2"
+x86_64_cpus="x86-64,athlon64,k8,opteron,athlon-fx,nocona"
 
 # default parameters
 compile_type="release"
@@ -223,6 +224,14 @@
     cpu="x86"
 fi
 
+is_x86_64_cpu() {
+    expr ",${x86_64_cpus}," : ".*,$1," > /dev/null
+}
+
+if is_x86_64_cpu "$cpu" ; then
+    cpu="x86_64"
+fi
+
 case "$cpu" in
   x86)
   ;;
