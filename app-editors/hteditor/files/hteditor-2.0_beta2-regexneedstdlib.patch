--- /tmp/ht-2.0beta2/regex.c	2002-06-30 23:47:48.000000000 +1000
+++ ht-2.0beta2/regex.c	2007-01-27 21:08:15.000000000 +1100
@@ -32,6 +32,7 @@
 
 /* We need this for `regex.h', and perhaps for the Emacs include files.  */
 #include <sys/types.h>
+#include <stdlib.h>
 
 /* This is for other GNU distributions with internationalized messages.  */
 #if HAVE_LIBINTL_H || defined (_LIBC)
@@ -55,13 +56,6 @@
    even if config.h says that we can.  */
 #undef REL_ALLOC
 
-#if defined (STDC_HEADERS) || defined (_LIBC)
-#include <stdlib.h>
-#else
-char *malloc ();
-char *realloc ();
-#endif
-
 /* When used in Emacs's lib-src, we need to get bzero and bcopy somehow.
    If nothing else has been done, use the method below.  */
 #ifdef INHIBIT_STRING_HEADER
