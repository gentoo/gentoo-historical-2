To: vim-dev@vim.org
Subject: Patch 6.0.001
Fcc: outbox
From: Bram Moolenaar <Bram@moolenaar.net>
------------

Patch 6.0.001
Problem:    Loading the sh.vim syntax file causes error messages . (Corinna
	    Vinschen)
Solution:   Add an "if". (Charles Campbell)
Files:	    runtime/syntax/sh.vim


*** ../vim60/runtime/syntax/sh.vim	Thu Sep 20 17:29:50 2001
--- runtime/syntax/sh.vim	Thu Sep 27 22:00:30 2001
***************
*** 2,9 ****
  " Language:		shell (sh) Korn shell (ksh) bash (sh)
  " Maintainer:		Dr. Charles E. Campbell, Jr. <Charles.E.Campbell.1@gsfc.nasa.gov>
  " Previous Maintainer:	Lennart Schultz <Lennart.Schultz@ecmwf.int>
! " Last Change:	September 18, 2001
! " Version: 26
  "
  " Using the following VIM variables:
  " b:is_kornshell               if defined, enhance with kornshell syntax
--- 2,9 ----
  " Language:		shell (sh) Korn shell (ksh) bash (sh)
  " Maintainer:		Dr. Charles E. Campbell, Jr. <Charles.E.Campbell.1@gsfc.nasa.gov>
  " Previous Maintainer:	Lennart Schultz <Lennart.Schultz@ecmwf.int>
! " Last Change:	September 26, 2001
! " Version: 27
  "
  " Using the following VIM variables:
  " b:is_kornshell               if defined, enhance with kornshell syntax
***************
*** 318,325 ****
  syn sync match shForSync	groupthere	shFor	"\<in\>"
  syn sync match shIfSync	grouphere	shIf	"\<if\>"
  syn sync match shIfSync	groupthere	shIf	"\<fi\>"
! syn sync match shUntilSync	grouphere	shRepeat	"\<until\>"
! syn sync match shWhileSync	grouphere	shRepeat	"\<while\>"
  
  " The default highlighting.
  hi def link shArithRegion		shShellVariables
--- 318,327 ----
  syn sync match shForSync	groupthere	shFor	"\<in\>"
  syn sync match shIfSync	grouphere	shIf	"\<if\>"
  syn sync match shIfSync	groupthere	shIf	"\<fi\>"
! if exists("b:is_kornshell") || exists("b:is_bash")
!  syn sync match shUntilSync	grouphere	shRepeat	"\<until\>"
!  syn sync match shWhileSync	grouphere	shRepeat	"\<while\>"
! endif
  
  " The default highlighting.
  hi def link shArithRegion		shShellVariables
***************
*** 382,388 ****
  hi def link shFunctionName		Function
  hi def link shNumber		Number
  hi def link shOperator		Operator
! hi def link shRepeat		Repeat
  hi def link shSetList		Identifier
  hi def link shShellVariables		PreProc
  hi def link shSpecial		Special
--- 384,392 ----
  hi def link shFunctionName		Function
  hi def link shNumber		Number
  hi def link shOperator		Operator
! if exists("b:is_kornshell") || exists("b:is_bash")
!  hi def link shRepeat		Repeat
! endif
  hi def link shSetList		Identifier
  hi def link shShellVariables		PreProc
  hi def link shSpecial		Special
*** ../vim60/src/version.c	Tue Sep 25 21:43:37 2001
--- src/version.c	Thu Sep 27 22:07:59 2001
***************
*** 608,609 ****
--- 608,611 ----
  {   /* Add new patch number below this line */
+ /**/
+     1,
  /**/

-- 
This planet has -- or rather had -- a problem, which was this: most
of the people living on it were unhappy for pretty much of the time.
Many solutions were suggested for this problem, but most of these
were largely concerned with the movements of small green pieces of
paper, which is odd because on the whole it wasn't the small green
pieces of paper that were unhappy.
		-- Douglas Adams, "The Hitchhiker's Guide to the Galaxy"

 ///  Bram Moolenaar -- Bram@moolenaar.net -- http://www.moolenaar.net  \\\
(((   Creator of Vim -- http://vim.sf.net -- ftp://ftp.vim.org/pub/vim   )))
 \\\  Help me helping AIDS orphans in Uganda - http://iccf-holland.org  ///
