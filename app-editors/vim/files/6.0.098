To: vim-dev@vim.org
Subject: Patch 6.0.098
Fcc: outbox
From: Bram Moolenaar <Bram@moolenaar.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
------------

Patch 6.0.098
Problem:    GTK: When using Gnome the "Search" and "Search and Replace" dialog
	    boxes are not translated.
Solution:   Define ENABLE_NLS before including gnome.h. (Eduardo Fernandez)
Files:	    src/gui_gtk.c, src/gui_gtk_x11.c


*** ../vim60.97/src/gui_gtk.c	Tue Nov  6 11:58:54 2001
--- src/gui_gtk.c	Fri Dec 14 20:09:40 2001
***************
*** 43,48 ****
--- 43,51 ----
  # ifdef bindtextdomain
  #  undef bindtextdomain
  # endif
+ # if defined(FEAT_GETTEXT) && !defined(ENABLE_NLS)
+ #  define ENABLE_NLS	/* so the texts in the dialog boxes are translated */
+ # endif
  # include <gnome.h>
  #endif
  
*** ../vim60.97/src/gui_gtk_x11.c	Thu Nov  1 14:41:29 2001
--- src/gui_gtk_x11.c	Fri Dec 14 20:10:23 2001
***************
*** 31,36 ****
--- 31,39 ----
  # ifdef bindtextdomain
  #  undef bindtextdomain
  # endif
+ # if defined(FEAT_GETTEXT) && !defined(ENABLE_NLS)
+ #  define ENABLE_NLS	/* so the texts in the dialog boxes are translated */
+ # endif
  # include <gnome.h>
  # include "version.h"
  #endif
*** ../vim60.97/src/version.c	Thu Dec 13 19:15:02 2001
--- src/version.c	Fri Dec 14 20:07:55 2001
***************
*** 608,609 ****
--- 608,611 ----
  {   /* Add new patch number below this line */
+ /**/
+     98,
  /**/

-- 
hundred-and-one symptoms of being an internet addict:
93. New mail alarm on your palmtop annoys other churchgoers.

 ///  Bram Moolenaar -- Bram@moolenaar.net -- http://www.moolenaar.net  \\\
(((   Creator of Vim -- http://vim.sf.net -- ftp://ftp.vim.org/pub/vim   )))
 \\\  Help me helping AIDS orphans in Uganda - http://iccf-holland.org  ///
