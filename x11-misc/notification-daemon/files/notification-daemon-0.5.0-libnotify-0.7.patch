diff -ur notification-daemon-0.5.0.orig/src/capplet/notification-properties.c notification-daemon-0.5.0/src/capplet/notification-properties.c
--- notification-daemon-0.5.0.orig/src/capplet/notification-properties.c	2010-05-28 17:41:17.000000000 +0300
+++ notification-daemon-0.5.0/src/capplet/notification-properties.c	2011-02-05 12:47:22.000000000 +0200
@@ -27,6 +27,10 @@
 #include <string.h>
 #include <libnotify/notify.h>
 
+#ifndef NOTIFY_CHECK_VERSION
+#define NOTIFY_CHECK_VERSION(x,y,z) 0
+#endif
+
 #include "stack.h"
 
 #define GCONF_KEY_DAEMON         "/apps/notification-daemon"
@@ -402,8 +406,12 @@
 
         dialog->preview = notify_notification_new (_("Notification Test"),
                                                    _("Just a test"),
-                                                   "gnome-util",
-                                                   NULL);
+                                                   "gnome-util"
+#if NOTIFY_CHECK_VERSION (0, 7, 0)
+                                                   );
+#else
+                                                   , NULL);
+#endif
 
         if (!notify_notification_show (dialog->preview, &error)) {
                 char *message;
