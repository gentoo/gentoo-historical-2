--- lavaps-2.7/src/process_model.cc
+++ lavaps-2.7/src/process_model.cc
@@ -86,7 +86,7 @@
 void
 process_model::dump()
 {
-	cout << int(this) << " "<< pid_ << " " << uid_ << " " << cmd_.c_str() << " " <<
+	cout << long(this) << " "<< pid_ << " " << uid_ << " " << cmd_.c_str() << " " <<
 		endl;
 }
 
--- lavaps-2.7/src/blob.cc
+++ lavaps-2.7/src/blob.cc
@@ -503,7 +503,7 @@
 blob::print()
 {
 	ENTRY_TRACE(__FILE__,__LINE__);
-	cout << O_("blob: ") << (unsigned)this << O_(" x=") << x_ << O_(" step=") << x_step_ << O_(" num=") << num_ << O_(":");
+	cout << O_("blob: ") << (unsigned long)this << O_(" x=") << x_ << O_(" step=") << x_step_ << O_(" num=") << num_ << O_(":");
 	for (int i = 0; i < num_; i++) {
 		cout << O_(" ") << y_lows_[i] << O_("-") << y_highs_[i];
 	};
--- lavaps-2.7/src/linux/proc/ps.h
+++ lavaps-2.7/src/linux/proc/ps.h
@@ -5,9 +5,6 @@
 /* get definition of HZ */
 #include <asm/param.h>
 
-/* get page info */
-#include <asm/page.h>
-
 char *wchan(unsigned long);
 char *find_func(unsigned long address);
 void *xcalloc(void *pointer, int size);
--- lavaps-2.7.orig/acinclude.m4
+++ lavaps-2.7/acinclude.m4
@@ -1556,7 +1556,7 @@
 ], [])[extern int _nl_msg_cat_cntr;
 extern int *_nl_domain_bindings;],
             [bindtextdomain ("", "");
-return (int) gettext ("")]ifelse([$2], [need-ngettext], [ + (int) ngettext ("", "", 0)], [])[ + _nl_msg_cat_cntr + *_nl_domain_bindings],
+return (long) gettext ("")]ifelse([$2], [need-ngettext], [ + (long) ngettext ("", "", 0)], [])[ + _nl_msg_cat_cntr + *_nl_domain_bindings],
             gt_cv_func_gnugettext_libc=yes,
             gt_cv_func_gnugettext_libc=no)])
 
@@ -1592,7 +1592,7 @@
 #endif
 const char *_nl_expand_alias ();],
               [bindtextdomain ("", "");
-return (int) gettext ("")]ifelse([$2], [need-ngettext], [ + (int) ngettext ("", "", 0)], [])[ + _nl_msg_cat_cntr + *_nl_expand_alias (0)],
+return (long) gettext ("")]ifelse([$2], [need-ngettext], [ + (long) ngettext ("", "", 0)], [])[ + _nl_msg_cat_cntr + *_nl_expand_alias (0)],
               gt_cv_func_gnugettext_libintl=yes,
               gt_cv_func_gnugettext_libintl=no)
             dnl Now see whether libintl exists and depends on libiconv.
@@ -1613,7 +1613,7 @@
 #endif
 const char *_nl_expand_alias ();],
                 [bindtextdomain ("", "");
-return (int) gettext ("")]ifelse([$2], [need-ngettext], [ + (int) ngettext ("", "", 0)], [])[ + _nl_msg_cat_cntr + *_nl_expand_alias (0)],
+return (long) gettext ("")]ifelse([$2], [need-ngettext], [ + (long) ngettext ("", "", 0)], [])[ + _nl_msg_cat_cntr + *_nl_expand_alias (0)],
                [LIBINTL="$LIBINTL $LIBICONV"
                 LTLIBINTL="$LTLIBINTL $LTLIBICONV"
                 gt_cv_func_gnugettext_libintl=yes
@@ -2077,7 +2077,7 @@
         [AC_TRY_LINK([
 #include <libintl.h>
 ],
-          [return (int) dgettext ("","")],
+          [return (long) dgettext ("","")],
 	  gt_cv_func_dgettext_libc=yes,
           gt_cv_func_dgettext_libc=no)
         ])
