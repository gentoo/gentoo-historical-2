--- configure.in.orig	2003-01-25 19:12:25.000000000 -0500
+++ configure.in	2003-01-25 19:16:01.000000000 -0500
@@ -8,6 +8,10 @@
 AC_PROG_INSTALL
 AC_PROG_MAKE_SET
 AC_HEADER_STDC
+
+dnl Set PACKAGE_DATA_DIR in config.h.
+AC_DEFINE_UNQUOTED(PACKAGE_DATA_DIR, "${datadir}", [pkg data dir])
+
 AC_C_CONST
 AC_TYPE_SIZE_T
 AC_HEADER_TIME
--- electricsheep.c.orig	2003-01-25 19:24:57.000000000 -0500
+++ electricsheep.c	2003-01-25 19:25:44.000000000 -0500
@@ -38,7 +38,7 @@
 #include "config.h"
 
 // should get this from configure
-char *splash_prefix = "/usr/local/share/";
+char *splash_prefix = PACKAGE_DATA_DIR;
 
 char *proxy_name = 0;
 char *proxy_user = 0;
@@ -421,7 +421,7 @@
 
     if (nobg || (!on_root && !window_id)) return;
     if (more)
-	sprintf(ob, "-merge -at 500,0 %selectricsheep-%s.tif",
+	sprintf(ob, "-merge -at 500,0 %s/electricsheep-%s.tif",
 		splash_prefix, more);
     else
 	ob[0] = 0;
@@ -432,8 +432,8 @@
       qbuf[0] = 0;
 
     sprintf(pbuf, "xsetbg %s "
-	    "-border black -at 0,0 %selectricsheep-splash-0.tif " 
-	    "-merge -center %selectricsheep-splash-1.tif %s",
+	    "-border black -at 0,0 %s/electricsheep-splash-0.tif " 
+	    "-merge -center %s/electricsheep-splash-1.tif %s",
 	    qbuf, splash_prefix, splash_prefix, ob);
     mysystem2(pbuf, "splash0");
 }
@@ -1360,7 +1360,7 @@
   else
     qbuf[0] = 0;
   
-  sprintf(pbuf, "xsetbg %s -at 0,0 %selectricsheep-splash-1.tif",
+  sprintf(pbuf, "xsetbg %s -at 0,0 %s/electricsheep-splash-1.tif",
 	  qbuf, splash_prefix);
   mysystem2(pbuf, "logo");
   while (1) sleep(60);
