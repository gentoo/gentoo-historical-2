--- grun-0.9.2.orig/Makefile.in
+++ grun-0.9.2/Makefile.in
@@ -1,4 +1,4 @@
-# Makefile.in generated automatically by automake 1.4 from Makefile.am
+# Makefile.in generated automatically by automake 1.4-p4 from Makefile.am
 
 # Copyright (C) 1994, 1995-8, 1999 Free Software Foundation, Inc.
 # This Makefile.in is free software; the Free Software Foundation
@@ -57,24 +57,27 @@
 NORMAL_UNINSTALL = :
 PRE_UNINSTALL = :
 POST_UNINSTALL = :
+host_alias = @host_alias@
+host_triplet = @host@
+BUILD_INCLUDED_LIBINTL = @BUILD_INCLUDED_LIBINTL@
 CATALOGS = @CATALOGS@
 CATOBJEXT = @CATOBJEXT@
 CC = @CC@
 DATADIRNAME = @DATADIRNAME@
 GENCAT = @GENCAT@
+GLIBC21 = @GLIBC21@
 GMOFILES = @GMOFILES@
 GMSGFMT = @GMSGFMT@
 GRUN_VERSION = @GRUN_VERSION@
 GTK_CFLAGS = @GTK_CFLAGS@
 GTK_CONFIG = @GTK_CONFIG@
 GTK_LIBS = @GTK_LIBS@
-GT_NO = @GT_NO@
-GT_YES = @GT_YES@
-INCLUDE_LOCALE_H = @INCLUDE_LOCALE_H@
 INSTOBJEXT = @INSTOBJEXT@
-INTLDEPS = @INTLDEPS@
+INTLBISON = @INTLBISON@
 INTLLIBS = @INTLLIBS@
 INTLOBJS = @INTLOBJS@
+INTL_LIBTOOL_SUFFIX_PREFIX = @INTL_LIBTOOL_SUFFIX_PREFIX@
+LIBICONV = @LIBICONV@
 MAKEINFO = @MAKEINFO@
 MKINSTALLDIRS = @MKINSTALLDIRS@
 MSGFMT = @MSGFMT@
@@ -85,7 +88,6 @@
 USE_INCLUDED_LIBINTL = @USE_INCLUDED_LIBINTL@
 USE_NLS = @USE_NLS@
 VERSION = @VERSION@
-l = @l@
 
 AUTOMAKE_OPTIONS = no-dependencies
 SUBDIRS = po intl
@@ -98,6 +100,7 @@
 LDADD = $(INTLLIBS)
 grundatadir = $(datadir)/grun
 grundata_DATA = gassoc consfile
+CFLAGS = -Wall $(COPT) $(GTK_CFLAGS)
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
 CONFIG_HEADER = config.h
@@ -112,7 +115,6 @@
 grun_LDADD = $(LDADD)
 grun_DEPENDENCIES = 
 grun_LDFLAGS = 
-CFLAGS = @CFLAGS@
 COMPILE = $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
 CCLD = $(CC)
 LINK = $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(LDFLAGS) -o $@
@@ -147,7 +149,7 @@
 $(ACLOCAL_M4):  configure.in 
 	cd $(srcdir) && $(ACLOCAL)
 
-config.status: $(srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
+config.status: $(srcdir)/configure.in $(CONFIG_STATUS_DEPENDENCIES)
 	$(SHELL) ./config.status --recheck
 $(srcdir)/configure: $(srcdir)/configure.in $(ACLOCAL_M4) $(CONFIGURE_DEPENDENCIES)
 	cd $(srcdir) && $(AUTOCONF)
@@ -416,7 +418,7 @@
 	@for file in $(DISTFILES); do \
 	  d=$(srcdir); \
 	  if test -d $$d/$$file; then \
-	    cp -pr $$/$$file $(distdir)/$$file; \
+	    cp -pr $$d/$$file $(distdir)/$$file; \
 	  else \
 	    test -f $(distdir)/$$file \
 	    || ln $$d/$$file $(distdir)/$$file 2> /dev/null \
--- grun-0.9.2.orig/aclocal.m4
+++ grun-0.9.2/aclocal.m4
@@ -1,4 +1,4 @@
-dnl aclocal.m4 generated automatically by aclocal 1.4
+dnl aclocal.m4 generated automatically by aclocal 1.4-p4
 
 dnl Copyright (C) 1994, 1995-8, 1999 Free Software Foundation, Inc.
 dnl This file is free software; the Free Software Foundation
@@ -129,13 +129,45 @@
 # Ulrich Drepper <drepper@cygnus.com>, 1995.
 #
 # This file can be copied and used freely without restrictions.  It can
-# be used in projects which are not available under the GNU Public License
-# but which still want to provide support for the GNU gettext functionality.
-# Please note that the actual code is *not* freely available.
-
-# serial 5
-
-AC_DEFUN(AM_WITH_NLS,
+# be used in projects which are not available under the GNU General Public
+# License or the GNU Library General Public License but which still want
+# to provide support for the GNU gettext functionality.
+# Please note that the actual code of the GNU gettext library is covered
+# by the GNU Library General Public License, and the rest of the GNU
+# gettext package package is covered by the GNU General Public License.
+# They are *not* in the public domain.
+
+# serial 10
+
+dnl Usage: AM_WITH_NLS([TOOLSYMBOL], [NEEDSYMBOL], [LIBDIR]).
+dnl If TOOLSYMBOL is specified and is 'use-libtool', then a libtool library
+dnl    $(top_builddir)/intl/libintl.la will be created (shared and/or static,
+dnl    depending on --{enable,disable}-{shared,static} and on the presence of
+dnl    AM-DISABLE-SHARED). Otherwise, a static library
+dnl    $(top_builddir)/intl/libintl.a will be created.
+dnl If NEEDSYMBOL is specified and is 'need-ngettext', then GNU gettext
+dnl    implementations (in libc or libintl) without the ngettext() function
+dnl    will be ignored.
+dnl LIBDIR is used to find the intl libraries.  If empty,
+dnl    the value `$(top_builddir)/intl/' is used.
+dnl
+dnl The result of the configuration is one of three cases:
+dnl 1) GNU gettext, as included in the intl subdirectory, will be compiled
+dnl    and used.
+dnl    Catalog format: GNU --> install in $(datadir)
+dnl    Catalog extension: .mo after installation, .gmo in source tree
+dnl 2) GNU gettext has been found in the system's C library.
+dnl    Catalog format: GNU --> install in $(datadir)
+dnl    Catalog extension: .mo after installation, .gmo in source tree
+dnl 3) No internationalization, always use English msgid.
+dnl    Catalog format: none
+dnl    Catalog extension: none
+dnl The use of .gmo is historical (it was needed to avoid overwriting the
+dnl GNU format catalogs when building on a platform with an X/Open gettext),
+dnl but we keep it in order not to force irrelevant filename changes on the
+dnl maintainers.
+dnl
+AC_DEFUN([AM_WITH_NLS],
   [AC_MSG_CHECKING([whether NLS is requested])
     dnl Default is enabled NLS
     AC_ARG_ENABLE(nls,
@@ -144,11 +176,15 @@
     AC_MSG_RESULT($USE_NLS)
     AC_SUBST(USE_NLS)
 
+    BUILD_INCLUDED_LIBINTL=no
     USE_INCLUDED_LIBINTL=no
+    INTLLIBS=
 
     dnl If we use NLS figure out what method
     if test "$USE_NLS" = "yes"; then
-      AC_DEFINE(ENABLE_NLS)
+      AC_DEFINE(ENABLE_NLS, 1,
+        [Define to 1 if translation of program messages to the user's native language
+   is requested.])
       AC_MSG_CHECKING([whether included gettext is requested])
       AC_ARG_WITH(included-gettext,
         [  --with-included-gettext use the GNU gettext library included here],
@@ -159,86 +195,74 @@
       nls_cv_use_gnu_gettext="$nls_cv_force_use_gnu_gettext"
       if test "$nls_cv_force_use_gnu_gettext" != "yes"; then
         dnl User does not insist on using GNU NLS library.  Figure out what
-        dnl to use.  If gettext or catgets are available (in this order) we
-        dnl use this.  Else we have to fall back to GNU NLS library.
-	dnl catgets is only used if permitted by option --with-catgets.
-	nls_cv_header_intl=
-	nls_cv_header_libgt=
+        dnl to use.  If GNU gettext is available we use this.  Else we have
+        dnl to fall back to GNU NLS library.
 	CATOBJEXT=NONE
 
+        dnl Add a version number to the cache macros.
+        define(gt_cv_func_gnugettext_libc, [gt_cv_func_gnugettext]ifelse([$2], need-ngettext, 2, 1)[_libc])
+        define(gt_cv_func_gnugettext_libintl, [gt_cv_func_gnugettext]ifelse([$2], need-ngettext, 2, 1)[_libintl])
+
 	AC_CHECK_HEADER(libintl.h,
-	  [AC_CACHE_CHECK([for gettext in libc], gt_cv_func_gettext_libc,
-	    [AC_TRY_LINK([#include <libintl.h>], [return (int) gettext ("")],
-	       gt_cv_func_gettext_libc=yes, gt_cv_func_gettext_libc=no)])
-
-	   if test "$gt_cv_func_gettext_libc" != "yes"; then
-	     AC_CHECK_LIB(intl, bindtextdomain,
-	       [AC_CACHE_CHECK([for gettext in libintl],
-		 gt_cv_func_gettext_libintl,
-		 [AC_CHECK_LIB(intl, gettext,
-		  gt_cv_func_gettext_libintl=yes,
-		  gt_cv_func_gettext_libintl=no)],
-		 gt_cv_func_gettext_libintl=no)])
+	  [AC_CACHE_CHECK([for GNU gettext in libc], gt_cv_func_gnugettext_libc,
+	    [AC_TRY_LINK([#include <libintl.h>
+extern int _nl_msg_cat_cntr;],
+	       [bindtextdomain ("", "");
+return (int) gettext ("")]ifelse([$2], need-ngettext, [ + (int) ngettext ("", "", 0)], [])[ + _nl_msg_cat_cntr],
+	       gt_cv_func_gnugettext_libc=yes,
+	       gt_cv_func_gnugettext_libc=no)])
+
+	   if test "$gt_cv_func_gnugettext_libc" != "yes"; then
+	     AC_CACHE_CHECK([for GNU gettext in libintl],
+	       gt_cv_func_gnugettext_libintl,
+	       [gt_save_LIBS="$LIBS"
+		LIBS="$LIBS -lintl $LIBICONV"
+		AC_TRY_LINK([#include <libintl.h>
+extern int _nl_msg_cat_cntr;],
+		  [bindtextdomain ("", "");
+return (int) gettext ("")]ifelse([$2], need-ngettext, [ + (int) ngettext ("", "", 0)], [])[ + _nl_msg_cat_cntr],
+		  gt_cv_func_gnugettext_libintl=yes,
+		  gt_cv_func_gnugettext_libintl=no)
+		LIBS="$gt_save_LIBS"])
 	   fi
 
-	   if test "$gt_cv_func_gettext_libc" = "yes" \
-	      || test "$gt_cv_func_gettext_libintl" = "yes"; then
-	      AC_DEFINE(HAVE_GETTEXT)
-	      AM_PATH_PROG_WITH_TEST(MSGFMT, msgfmt,
-		[test -z "`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`"], no)dnl
-	      if test "$MSGFMT" != "no"; then
-		AC_CHECK_FUNCS(dcgettext)
-		AC_PATH_PROG(GMSGFMT, gmsgfmt, $MSGFMT)
-		AM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,
-		  [test -z "`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`"], :)
-		AC_TRY_LINK(, [extern int _nl_msg_cat_cntr;
-			       return _nl_msg_cat_cntr],
-		  [CATOBJEXT=.gmo
-		   DATADIRNAME=share],
-		  [CATOBJEXT=.mo
-		   DATADIRNAME=lib])
-		INSTOBJEXT=.mo
-	      fi
-	    fi
-	])
+	   dnl If an already present or preinstalled GNU gettext() is found,
+	   dnl use it.  But if this macro is used in GNU gettext, and GNU
+	   dnl gettext is already preinstalled in libintl, we update this
+	   dnl libintl.  (Cf. the install rule in intl/Makefile.in.)
+	   if test "$gt_cv_func_gnugettext_libc" = "yes" \
+	      || { test "$gt_cv_func_gnugettext_libintl" = "yes" \
+		   && test "$PACKAGE" != gettext; }; then
+	     AC_DEFINE(HAVE_GETTEXT, 1,
+               [Define if the GNU gettext() function is already present or preinstalled.])
+
+	     if test "$gt_cv_func_gnugettext_libintl" = "yes"; then
+	       dnl If iconv() is in a separate libiconv library, then anyone
+	       dnl linking with libintl{.a,.so} also needs to link with
+	       dnl libiconv.
+	       INTLLIBS="-lintl $LIBICONV"
+	     fi
+
+	     gt_save_LIBS="$LIBS"
+	     LIBS="$LIBS $INTLLIBS"
+	     AC_CHECK_FUNCS(dcgettext)
+	     LIBS="$gt_save_LIBS"
+
+	     dnl Search for GNU msgfmt in the PATH.
+	     AM_PATH_PROG_WITH_TEST(MSGFMT, msgfmt,
+	       [$ac_dir/$ac_word --statistics /dev/null >/dev/null 2>&1], :)
+	     AC_PATH_PROG(GMSGFMT, gmsgfmt, $MSGFMT)
+
+	     dnl Search for GNU xgettext in the PATH.
+	     AM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,
+	       [$ac_dir/$ac_word --omit-header /dev/null >/dev/null 2>&1], :)
 
-        if test "$CATOBJEXT" = "NONE"; then
-	  AC_MSG_CHECKING([whether catgets can be used])
-	  AC_ARG_WITH(catgets,
-	    [  --with-catgets          use catgets functions if available],
-	    nls_cv_use_catgets=$withval, nls_cv_use_catgets=no)
-	  AC_MSG_RESULT($nls_cv_use_catgets)
-
-	  if test "$nls_cv_use_catgets" = "yes"; then
-	    dnl No gettext in C library.  Try catgets next.
-	    AC_CHECK_LIB(i, main)
-	    AC_CHECK_FUNC(catgets,
-	      [AC_DEFINE(HAVE_CATGETS)
-	       INTLOBJS="\$(CATOBJS)"
-	       AC_PATH_PROG(GENCAT, gencat, no)dnl
-	       if test "$GENCAT" != "no"; then
-		 AC_PATH_PROG(GMSGFMT, gmsgfmt, no)
-		 if test "$GMSGFMT" = "no"; then
-		   AM_PATH_PROG_WITH_TEST(GMSGFMT, msgfmt,
-		    [test -z "`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`"], no)
-		 fi
-		 AM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,
-		   [test -z "`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`"], :)
-		 USE_INCLUDED_LIBINTL=yes
-		 CATOBJEXT=.cat
-		 INSTOBJEXT=.cat
-		 DATADIRNAME=lib
-		 INTLDEPS='$(top_builddir)/intl/libintl.a'
-		 INTLLIBS=$INTLDEPS
-		 LIBS=`echo $LIBS | sed -e 's/-lintl//'`
-		 nls_cv_header_intl=intl/libintl.h
-		 nls_cv_header_libgt=intl/libgettext.h
-	       fi])
-	  fi
-        fi
+	     CATOBJEXT=.gmo
+	   fi
+	])
 
         if test "$CATOBJEXT" = "NONE"; then
-	  dnl Neither gettext nor catgets in included in the C library.
+	  dnl GNU gettext is not found in the C library.
 	  dnl Fall back on GNU gettext library.
 	  nls_cv_use_gnu_gettext=yes
         fi
@@ -248,27 +272,38 @@
         dnl Mark actions used to generate GNU NLS library.
         INTLOBJS="\$(GETTOBJS)"
         AM_PATH_PROG_WITH_TEST(MSGFMT, msgfmt,
-	  [test -z "`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`"], msgfmt)
+	  [$ac_dir/$ac_word --statistics /dev/null >/dev/null 2>&1], :)
         AC_PATH_PROG(GMSGFMT, gmsgfmt, $MSGFMT)
         AM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,
-	  [test -z "`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`"], :)
+	  [$ac_dir/$ac_word --omit-header /dev/null >/dev/null 2>&1], :)
         AC_SUBST(MSGFMT)
+	BUILD_INCLUDED_LIBINTL=yes
 	USE_INCLUDED_LIBINTL=yes
         CATOBJEXT=.gmo
-        INSTOBJEXT=.mo
-        DATADIRNAME=share
-	INTLDEPS='$(top_builddir)/intl/libintl.a'
-	INTLLIBS=$INTLDEPS
-	LIBS=`echo $LIBS | sed -e 's/-lintl//'`
-        nls_cv_header_intl=intl/libintl.h
-        nls_cv_header_libgt=intl/libgettext.h
+	INTLLIBS="ifelse([$3],[],\$(top_builddir)/intl,[$3])/libintl.ifelse([$1], use-libtool, [l], [])a $LIBICONV"
+	LIBS=`echo " $LIBS " | sed -e 's/ -lintl / /' -e 's/^ //' -e 's/ $//'`
       fi
 
+      dnl This could go away some day; the PATH_PROG_WITH_TEST already does it.
+      dnl Test whether we really found GNU msgfmt.
+      if test "$GMSGFMT" != ":"; then
+	dnl If it is no GNU msgfmt we define it as : so that the
+	dnl Makefiles still can work.
+	if $GMSGFMT --statistics /dev/null >/dev/null 2>&1; then
+	  : ;
+	else
+	  AC_MSG_RESULT(
+	    [found msgfmt program is not GNU msgfmt; ignore it])
+	  GMSGFMT=":"
+	fi
+      fi
+
+      dnl This could go away some day; the PATH_PROG_WITH_TEST already does it.
       dnl Test whether we really found GNU xgettext.
       if test "$XGETTEXT" != ":"; then
 	dnl If it is no GNU xgettext we define it as : so that the
 	dnl Makefiles still can work.
-	if $XGETTEXT --omit-header /dev/null 2> /dev/null; then
+	if $XGETTEXT --omit-header /dev/null >/dev/null 2>&1; then
 	  : ;
 	else
 	  AC_MSG_RESULT(
@@ -277,25 +312,76 @@
 	fi
       fi
 
-      # We need to process the po/ directory.
+      dnl We need to process the po/ directory.
       POSUB=po
-    else
-      DATADIRNAME=share
-      nls_cv_header_intl=intl/libintl.h
-      nls_cv_header_libgt=intl/libgettext.h
     fi
-    AC_LINK_FILES($nls_cv_header_libgt, $nls_cv_header_intl)
     AC_OUTPUT_COMMANDS(
-     [case "$CONFIG_FILES" in *po/Makefile.in*)
-        sed -e "/POTFILES =/r po/POTFILES" po/Makefile.in > po/Makefile
-      esac])
+     [for ac_file in $CONFIG_FILES; do
+        # Support "outfile[:infile[:infile...]]"
+        case "$ac_file" in
+          *:*) ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
+        esac
+        # PO directories have a Makefile.in generated from Makefile.in.in.
+        case "$ac_file" in */Makefile.in)
+          # Adjust a relative srcdir.
+          ac_dir=`echo "$ac_file"|sed 's%/[^/][^/]*$%%'`
+          ac_dir_suffix="/`echo "$ac_dir"|sed 's%^\./%%'`"
+          ac_dots=`echo "$ac_dir_suffix"|sed 's%/[^/]*%../%g'`
+          # In autoconf-2.13 it is called $ac_given_srcdir.
+          # In autoconf-2.50 it is called $srcdir.
+          test -n "$ac_given_srcdir" || ac_given_srcdir="$srcdir"
+          case "$ac_given_srcdir" in
+            .)  top_srcdir=`echo $ac_dots|sed 's%/$%%'` ;;
+            /*) top_srcdir="$ac_given_srcdir" ;;
+            *)  top_srcdir="$ac_dots$ac_given_srcdir" ;;
+          esac
+          if test -f "$ac_given_srcdir/$ac_dir/POTFILES.in"; then
+            rm -f "$ac_dir/POTFILES"
+            test -n "$as_me" && echo "$as_me: creating $ac_dir/POTFILES" || echo "creating $ac_dir/POTFILES"
+            sed -e "/^#/d" -e "/^[ 	]*\$/d" -e "s,.*,     $top_srcdir/& \\\\," -e "\$s/\(.*\) \\\\/\1/" < "$ac_given_srcdir/$ac_dir/POTFILES.in" > "$ac_dir/POTFILES"
+            test -n "$as_me" && echo "$as_me: creating $ac_dir/Makefile" || echo "creating $ac_dir/Makefile"
+            sed -e "/POTFILES =/r $ac_dir/POTFILES" "$ac_dir/Makefile.in" > "$ac_dir/Makefile"
+          fi
+          ;;
+        esac
+      done])
 
 
-    # If this is used in GNU gettext we have to set USE_NLS to `yes'
-    # because some of the sources are only built for this goal.
+    dnl If this is used in GNU gettext we have to set BUILD_INCLUDED_LIBINTL
+    dnl to 'yes' because some of the testsuite requires it.
     if test "$PACKAGE" = gettext; then
-      USE_NLS=yes
-      USE_INCLUDED_LIBINTL=yes
+      BUILD_INCLUDED_LIBINTL=yes
+    fi
+
+    dnl intl/plural.c is generated from intl/plural.y. It requires bison,
+    dnl because plural.y uses bison specific features. It requires at least
+    dnl bison-1.26 because earlier versions generate a plural.c that doesn't
+    dnl compile.
+    dnl bison is only needed for the maintainer (who touches plural.y). But in
+    dnl order to avoid separate Makefiles or --enable-maintainer-mode, we put
+    dnl the rule in general Makefile. Now, some people carelessly touch the
+    dnl files or have a broken "make" program, hence the plural.c rule will
+    dnl sometimes fire. To avoid an error, defines BISON to ":" if it is not
+    dnl present or too old.
+    AC_CHECK_PROGS([INTLBISON], [bison])
+    if test -z "$INTLBISON"; then
+      ac_verc_fail=yes
+    else
+      dnl Found it, now check the version.
+      AC_MSG_CHECKING([version of bison])
+changequote(<<,>>)dnl
+      ac_prog_version=`$INTLBISON --version 2>&1 | sed -n 's/^.*GNU Bison.* \([0-9]*\.[0-9.]*\).*$/\1/p'`
+      case $ac_prog_version in
+        '') ac_prog_version="v. ?.??, bad"; ac_verc_fail=yes;;
+        1.2[6-9]* | 1.[3-9][0-9]* | [2-9].*)
+changequote([,])dnl
+           ac_prog_version="$ac_prog_version, ok"; ac_verc_fail=no;;
+        *) ac_prog_version="$ac_prog_version, bad"; ac_verc_fail=yes;;
+      esac
+      AC_MSG_RESULT([$ac_prog_version])
+    fi
+    if test $ac_verc_fail = yes; then
+      INTLBISON=:
     fi
 
     dnl These rules are solely for the distribution goal.  While doing this
@@ -307,22 +393,38 @@
     done
 
     dnl Make all variables we use known to autoconf.
+    AC_SUBST(BUILD_INCLUDED_LIBINTL)
     AC_SUBST(USE_INCLUDED_LIBINTL)
     AC_SUBST(CATALOGS)
     AC_SUBST(CATOBJEXT)
-    AC_SUBST(DATADIRNAME)
     AC_SUBST(GMOFILES)
-    AC_SUBST(INSTOBJEXT)
-    AC_SUBST(INTLDEPS)
     AC_SUBST(INTLLIBS)
     AC_SUBST(INTLOBJS)
     AC_SUBST(POFILES)
     AC_SUBST(POSUB)
+
+    dnl For backward compatibility. Some configure.ins may be using this.
+    nls_cv_header_intl=
+    nls_cv_header_libgt=
+
+    dnl For backward compatibility. Some Makefiles may be using this.
+    DATADIRNAME=share
+    AC_SUBST(DATADIRNAME)
+
+    dnl For backward compatibility. Some Makefiles may be using this.
+    INSTOBJEXT=.mo
+    AC_SUBST(INSTOBJEXT)
+
+    dnl For backward compatibility. Some Makefiles may be using this.
+    GENCAT=gencat
+    AC_SUBST(GENCAT)
   ])
 
-AC_DEFUN(AM_GNU_GETTEXT,
+dnl Usage: Just like AM_WITH_NLS, which see.
+AC_DEFUN([AM_GNU_GETTEXT],
   [AC_REQUIRE([AC_PROG_MAKE_SET])dnl
    AC_REQUIRE([AC_PROG_CC])dnl
+   AC_REQUIRE([AC_CANONICAL_HOST])dnl
    AC_REQUIRE([AC_PROG_RANLIB])dnl
    AC_REQUIRE([AC_ISC_POSIX])dnl
    AC_REQUIRE([AC_HEADER_STDC])dnl
@@ -332,21 +434,18 @@
    AC_REQUIRE([AC_TYPE_SIZE_T])dnl
    AC_REQUIRE([AC_FUNC_ALLOCA])dnl
    AC_REQUIRE([AC_FUNC_MMAP])dnl
+   AC_REQUIRE([jm_GLIBC21])dnl
 
-   AC_CHECK_HEADERS([argz.h limits.h locale.h nl_types.h malloc.h string.h \
-unistd.h sys/param.h])
-   AC_CHECK_FUNCS([getcwd munmap putenv setenv setlocale strchr strcasecmp \
-strdup __argz_count __argz_stringify __argz_next])
-
-   if test "${ac_cv_func_stpcpy+set}" != "set"; then
-     AC_CHECK_FUNCS(stpcpy)
-   fi
-   if test "${ac_cv_func_stpcpy}" = "yes"; then
-     AC_DEFINE(HAVE_STPCPY)
-   fi
+   AC_CHECK_HEADERS([argz.h limits.h locale.h nl_types.h malloc.h stddef.h \
+stdlib.h string.h unistd.h sys/param.h])
+   AC_CHECK_FUNCS([feof_unlocked fgets_unlocked getcwd getegid geteuid \
+getgid getuid mempcpy munmap putenv setenv setlocale stpcpy strchr strcasecmp \
+strdup strtoul tsearch __argz_count __argz_stringify __argz_next])
 
+   AM_ICONV
+   AM_LANGINFO_CODESET
    AM_LC_MESSAGES
-   AM_WITH_NLS
+   AM_WITH_NLS([$1],[$2],[$3])
 
    if test "x$CATOBJEXT" != "x"; then
      if test "x$ALL_LINGUAS" = "x"; then
@@ -354,10 +453,21 @@
      else
        AC_MSG_CHECKING(for catalogs to be installed)
        NEW_LINGUAS=
-       for lang in ${LINGUAS=$ALL_LINGUAS}; do
-         case "$ALL_LINGUAS" in
-          *$lang*) NEW_LINGUAS="$NEW_LINGUAS $lang" ;;
-         esac
+       for presentlang in $ALL_LINGUAS; do
+         useit=no
+         for desiredlang in ${LINGUAS-$ALL_LINGUAS}; do
+           # Use the presentlang catalog if desiredlang is
+           #   a. equal to presentlang, or
+           #   b. a variant of presentlang (because in this case,
+           #      presentlang can be used as a fallback for messages
+           #      which are not translated in the desiredlang catalog).
+           case "$desiredlang" in
+             "$presentlang"*) useit=yes;;
+           esac
+         done
+         if test $useit = yes; then
+           NEW_LINGUAS="$NEW_LINGUAS $presentlang"
+         fi
        done
        LINGUAS=$NEW_LINGUAS
        AC_MSG_RESULT($LINGUAS)
@@ -369,47 +479,8 @@
      fi
    fi
 
-   dnl The reference to <locale.h> in the installed <libintl.h> file
-   dnl must be resolved because we cannot expect the users of this
-   dnl to define HAVE_LOCALE_H.
-   if test $ac_cv_header_locale_h = yes; then
-     INCLUDE_LOCALE_H="#include <locale.h>"
-   else
-     INCLUDE_LOCALE_H="\
-/* The system does not provide the header <locale.h>.  Take care yourself.  */"
-   fi
-   AC_SUBST(INCLUDE_LOCALE_H)
-
-   dnl Determine which catalog format we have (if any is needed)
-   dnl For now we know about two different formats:
-   dnl   Linux libc-5 and the normal X/Open format
-   test -d intl || mkdir intl
-   if test "$CATOBJEXT" = ".cat"; then
-     AC_CHECK_HEADER(linux/version.h, msgformat=linux, msgformat=xopen)
-
-     dnl Transform the SED scripts while copying because some dumb SEDs
-     dnl cannot handle comments.
-     sed -e '/^#/d' $srcdir/intl/$msgformat-msg.sed > intl/po2msg.sed
-   fi
-   dnl po2tbl.sed is always needed.
-   sed -e '/^#.*[^\\]$/d' -e '/^#$/d' \
-     $srcdir/intl/po2tbl.sed.in > intl/po2tbl.sed
-
-   dnl In the intl/Makefile.in we have a special dependency which makes
-   dnl only sense for gettext.  We comment this out for non-gettext
-   dnl packages.
-   if test "$PACKAGE" = "gettext"; then
-     GT_NO="#NO#"
-     GT_YES=
-   else
-     GT_NO=
-     GT_YES="#YES#"
-   fi
-   AC_SUBST(GT_NO)
-   AC_SUBST(GT_YES)
-
    dnl If the AC_CONFIG_AUX_DIR macro for autoconf is used we possibly
-   dnl find the mkinstalldirs script in another subdir but ($top_srcdir).
+   dnl find the mkinstalldirs script in another subdir but $(top_srcdir).
    dnl Try to locate is.
    MKINSTALLDIRS=
    if test -n "$ac_aux_dir"; then
@@ -420,40 +491,28 @@
    fi
    AC_SUBST(MKINSTALLDIRS)
 
-   dnl *** For now the libtool support in intl/Makefile is not for real.
-   l=
-   AC_SUBST(l)
-
-   dnl Generate list of files to be processed by xgettext which will
-   dnl be included in po/Makefile.
-   test -d po || mkdir po
-   if test "x$srcdir" != "x."; then
-     if test "x`echo $srcdir | sed 's@/.*@@'`" = "x"; then
-       posrcprefix="$srcdir/"
-     else
-       posrcprefix="../$srcdir/"
-     fi
-   else
-     posrcprefix="../"
-   fi
-   rm -f po/POTFILES
-   sed -e "/^#/d" -e "/^\$/d" -e "s,.*,	$posrcprefix& \\\\," -e "\$s/\(.*\) \\\\/\1/" \
-	< $srcdir/po/POTFILES.in > po/POTFILES
+   dnl Enable libtool support if the surrounding package wishes it.
+   INTL_LIBTOOL_SUFFIX_PREFIX=ifelse([$1], use-libtool, [l], [])
+   AC_SUBST(INTL_LIBTOOL_SUFFIX_PREFIX)
   ])
 
 # Search path for a program which passes the given test.
 # Ulrich Drepper <drepper@cygnus.com>, 1996.
 #
 # This file can be copied and used freely without restrictions.  It can
-# be used in projects which are not available under the GNU Public License
-# but which still want to provide support for the GNU gettext functionality.
-# Please note that the actual code is *not* freely available.
+# be used in projects which are not available under the GNU General Public
+# License or the GNU Library General Public License but which still want
+# to provide support for the GNU gettext functionality.
+# Please note that the actual code of the GNU gettext library is covered
+# by the GNU Library General Public License, and the rest of the GNU
+# gettext package package is covered by the GNU General Public License.
+# They are *not* in the public domain.
 
-# serial 1
+# serial 2
 
 dnl AM_PATH_PROG_WITH_TEST(VARIABLE, PROG-TO-CHECK-FOR,
 dnl   TEST-PERFORMED-ON-FOUND_PROGRAM [, VALUE-IF-NOT-FOUND [, PATH]])
-AC_DEFUN(AM_PATH_PROG_WITH_TEST,
+AC_DEFUN([AM_PATH_PROG_WITH_TEST],
 [# Extract the first word of "$2", so it can be a program name with args.
 set dummy $2; ac_word=[$]2
 AC_MSG_CHECKING([for $ac_word])
@@ -481,7 +540,7 @@
   ;;
 esac])dnl
 $1="$ac_cv_path_$1"
-if test -n "[$]$1"; then
+if test ifelse([$4], , [-n "[$]$1"], ["[$]$1" != "$4"]); then
   AC_MSG_RESULT([$]$1)
 else
   AC_MSG_RESULT(no)
@@ -489,23 +548,161 @@
 AC_SUBST($1)dnl
 ])
 
+#serial 1
+# This test replaces the one in autoconf.
+# Currently this macro should have the same name as the autoconf macro
+# because gettext's gettext.m4 (distributed in the automake package)
+# still uses it.  Otherwise, the use in gettext.m4 makes autoheader
+# give these diagnostics:
+#   configure.in:556: AC_TRY_COMPILE was called before AC_ISC_POSIX
+#   configure.in:556: AC_TRY_RUN was called before AC_ISC_POSIX
+
+undefine([AC_ISC_POSIX])
+
+AC_DEFUN([AC_ISC_POSIX],
+  [
+    dnl This test replaces the obsolescent AC_ISC_POSIX kludge.
+    AC_CHECK_LIB(cposix, strerror, [LIBS="$LIBS -lcposix"])
+  ]
+)
+
+#serial 2
+
+# Test for the GNU C Library, version 2.1 or newer.
+# From Bruno Haible.
+
+AC_DEFUN([jm_GLIBC21],
+  [
+    AC_CACHE_CHECK(whether we are using the GNU C Library 2.1 or newer,
+      ac_cv_gnu_library_2_1,
+      [AC_EGREP_CPP([Lucky GNU user],
+	[
+#include <features.h>
+#ifdef __GNU_LIBRARY__
+ #if (__GLIBC__ == 2 && __GLIBC_MINOR__ >= 1) || (__GLIBC__ > 2)
+  Lucky GNU user
+ #endif
+#endif
+	],
+	ac_cv_gnu_library_2_1=yes,
+	ac_cv_gnu_library_2_1=no)
+      ]
+    )
+    AC_SUBST(GLIBC21)
+    GLIBC21="$ac_cv_gnu_library_2_1"
+  ]
+)
+
+#serial AM2
+
+dnl From Bruno Haible.
+
+AC_DEFUN([AM_ICONV],
+[
+  dnl Some systems have iconv in libc, some have it in libiconv (OSF/1 and
+  dnl those with the standalone portable GNU libiconv installed).
+
+  AC_ARG_WITH([libiconv-prefix],
+[  --with-libiconv-prefix=DIR  search for libiconv in DIR/include and DIR/lib], [
+    for dir in `echo "$withval" | tr : ' '`; do
+      if test -d $dir/include; then CPPFLAGS="$CPPFLAGS -I$dir/include"; fi
+      if test -d $dir/lib; then LDFLAGS="$LDFLAGS -L$dir/lib"; fi
+    done
+   ])
+
+  AC_CACHE_CHECK(for iconv, am_cv_func_iconv, [
+    am_cv_func_iconv="no, consider installing GNU libiconv"
+    am_cv_lib_iconv=no
+    AC_TRY_LINK([#include <stdlib.h>
+#include <iconv.h>],
+      [iconv_t cd = iconv_open("","");
+       iconv(cd,NULL,NULL,NULL,NULL);
+       iconv_close(cd);],
+      am_cv_func_iconv=yes)
+    if test "$am_cv_func_iconv" != yes; then
+      am_save_LIBS="$LIBS"
+      LIBS="$LIBS -liconv"
+      AC_TRY_LINK([#include <stdlib.h>
+#include <iconv.h>],
+        [iconv_t cd = iconv_open("","");
+         iconv(cd,NULL,NULL,NULL,NULL);
+         iconv_close(cd);],
+        am_cv_lib_iconv=yes
+        am_cv_func_iconv=yes)
+      LIBS="$am_save_LIBS"
+    fi
+  ])
+  if test "$am_cv_func_iconv" = yes; then
+    AC_DEFINE(HAVE_ICONV, 1, [Define if you have the iconv() function.])
+    AC_MSG_CHECKING([for iconv declaration])
+    AC_CACHE_VAL(am_cv_proto_iconv, [
+      AC_TRY_COMPILE([
+#include <stdlib.h>
+#include <iconv.h>
+extern
+#ifdef __cplusplus
+"C"
+#endif
+#if defined(__STDC__) || defined(__cplusplus)
+size_t iconv (iconv_t cd, char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);
+#else
+size_t iconv();
+#endif
+], [], am_cv_proto_iconv_arg1="", am_cv_proto_iconv_arg1="const")
+      am_cv_proto_iconv="extern size_t iconv (iconv_t cd, $am_cv_proto_iconv_arg1 char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);"])
+    am_cv_proto_iconv=`echo "[$]am_cv_proto_iconv" | tr -s ' ' | sed -e 's/( /(/'`
+    AC_MSG_RESULT([$]{ac_t:-
+         }[$]am_cv_proto_iconv)
+    AC_DEFINE_UNQUOTED(ICONV_CONST, $am_cv_proto_iconv_arg1,
+      [Define as const if the declaration of iconv() needs const.])
+  fi
+  LIBICONV=
+  if test "$am_cv_lib_iconv" = yes; then
+    LIBICONV="-liconv"
+  fi
+  AC_SUBST(LIBICONV)
+])
+
+#serial AM1
+
+dnl From Bruno Haible.
+
+AC_DEFUN([AM_LANGINFO_CODESET],
+[
+  AC_CACHE_CHECK([for nl_langinfo and CODESET], am_cv_langinfo_codeset,
+    [AC_TRY_LINK([#include <langinfo.h>],
+      [char* cs = nl_langinfo(CODESET);],
+      am_cv_langinfo_codeset=yes,
+      am_cv_langinfo_codeset=no)
+    ])
+  if test $am_cv_langinfo_codeset = yes; then
+    AC_DEFINE(HAVE_LANGINFO_CODESET, 1,
+      [Define if you have <langinfo.h> and nl_langinfo(CODESET).])
+  fi
+])
+
 # Check whether LC_MESSAGES is available in <locale.h>.
 # Ulrich Drepper <drepper@cygnus.com>, 1995.
 #
 # This file can be copied and used freely without restrictions.  It can
-# be used in projects which are not available under the GNU Public License
-# but which still want to provide support for the GNU gettext functionality.
-# Please note that the actual code is *not* freely available.
+# be used in projects which are not available under the GNU General Public
+# License or the GNU Library General Public License but which still want
+# to provide support for the GNU gettext functionality.
+# Please note that the actual code of the GNU gettext library is covered
+# by the GNU Library General Public License, and the rest of the GNU
+# gettext package package is covered by the GNU General Public License.
+# They are *not* in the public domain.
 
-# serial 1
+# serial 2
 
-AC_DEFUN(AM_LC_MESSAGES,
+AC_DEFUN([AM_LC_MESSAGES],
   [if test $ac_cv_header_locale_h = yes; then
     AC_CACHE_CHECK([for LC_MESSAGES], am_cv_val_LC_MESSAGES,
       [AC_TRY_LINK([#include <locale.h>], [return LC_MESSAGES],
        am_cv_val_LC_MESSAGES=yes, am_cv_val_LC_MESSAGES=no)])
     if test $am_cv_val_LC_MESSAGES = yes; then
-      AC_DEFINE(HAVE_LC_MESSAGES)
+      AC_DEFINE(HAVE_LC_MESSAGES, 1,
+        [Define if your <locale.h> file defines LC_MESSAGES.])
     fi
   fi])
 
@@ -530,7 +727,7 @@
   do
       case "$module" in
          gthread) 
-             glib_config_args="$glib_config_args gthread"
+             gtk_config_args="$gtk_config_args gthread"
          ;;
       esac
   done
--- grun-0.9.2.orig/po/grun.pot
+++ grun-0.9.2/po/grun.pot
@@ -6,19 +6,19 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: PACKAGE VERSION\n"
-"POT-Creation-Date: 1999-02-06 15:28+0200\n"
+"POT-Creation-Date: 2002-02-23 02:43+0900\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=CHARSET\n"
-"Content-Transfer-Encoding: ENCODING\n"
+"Content-Transfer-Encoding: 8bit\n"
 
-#: grun.c:838
+#: grun.c:841
 msgid "Choose Application"
 msgstr ""
 
-#: grun.c:912
+#: grun.c:915
 msgid ""
 "gRun launches applications under X\n"
 "\n"
@@ -34,7 +34,7 @@
 "Copyright Southern Gold Development 1998\n"
 msgstr ""
 
-#: grun.c:916
+#: grun.c:919
 #, c-format
 msgid ""
 "gRun version %s\n"
@@ -42,60 +42,60 @@
 "Copyright Southern Gold Development 1998\n"
 msgstr ""
 
-#: grun.c:968 grun.c:969
+#: grun.c:971 grun.c:972
 #, c-format
 msgid "gRun %s"
 msgstr ""
 
-#: grun.c:987
+#: grun.c:990
 msgid "Launch Application"
 msgstr ""
 
-#: grun.c:1023
+#: grun.c:1026
 msgid "OK"
 msgstr ""
 
-#: grun.c:1027
+#: grun.c:1030
 msgid "Launch application"
 msgstr ""
 
-#: grun.c:1027
+#: grun.c:1030
 msgid "The OK button launches the application given in the entry box"
 msgstr ""
 
-#: grun.c:1031
+#: grun.c:1034
 msgid "Close"
 msgstr ""
 
-#: grun.c:1034
+#: grun.c:1037
 msgid "Cancel"
 msgstr ""
 
-#: grun.c:1041
+#: grun.c:1044
 msgid "Close gRun"
 msgstr ""
 
-#: grun.c:1041
+#: grun.c:1044
 msgid "The Close button will close the persistant gRun window"
 msgstr ""
 
-#: grun.c:1044
+#: grun.c:1047
 msgid "Cancel launch"
 msgstr ""
 
-#: grun.c:1044
+#: grun.c:1047
 msgid "The Cancel button cancels the launch process and closes gRun"
 msgstr ""
 
-#: grun.c:1048
+#: grun.c:1051
 msgid "Browse"
 msgstr ""
 
-#: grun.c:1052
+#: grun.c:1055
 msgid "Browse for command"
 msgstr ""
 
-#: grun.c:1052
+#: grun.c:1055
 msgid ""
 "The Browse button opens a file selection box so the user can browse for the "
 "command to launch"
--- grun-0.9.2.orig/debian/menu
+++ grun-0.9.2/debian/menu
@@ -0,0 +1,3 @@
+?package(grun):needs=X11 section=Apps/Tools\
+  title="grun" icon="/usr/share/pixmaps/grun.xpm"\
+  command="/usr/bin/grun"
--- grun-0.9.2.orig/debian/dirs
+++ grun-0.9.2/debian/dirs
@@ -0,0 +1,4 @@
+usr/bin
+usr/share/doc/grun
+usr/share/man/man1
+usr/share/locale
--- grun-0.9.2.orig/debian/docs
+++ grun-0.9.2/debian/docs
@@ -0,0 +1,6 @@
+AUTHORS
+BUGS
+LANGUAGES
+NEWS
+README
+TODO
--- grun-0.9.2.orig/debian/changelog
+++ grun-0.9.2/debian/changelog
@@ -0,0 +1,79 @@
+grun (0.9.2-9) unstable; urgency=low
+
+  * new maintainer
+  * adopting an orphaned package (closes: #131205)
+  * grun.c: added cast to strsep(), declared the return value of main()
+    as int and added dummy return to main() to avoid gcc warnings
+  * grun.c: added #include <locale.h> so that it can build without gcc
+    -O2 flag (LC_ALL must be defined)
+  * Makefile.am: added CFLAGS to build without gcc -g flag by default
+  * Makefile.am, debian/rules: added DEB_BUILD_OPTIONS "debug" and
+    "nostrip" support
+  * grun.c: added #include <string.h> and removed cnt from main() to
+    avoid gcc -Wall warnings
+  * debian/control: added gettext to Build-Depends:
+  * consfile: added many commands
+  * gassoc: removed comments because they are not allowed
+  * grun.c: fixed search path for the global configuration files
+  * gassoc: s/gnome-gv/gv/, s/gedit/sensible-editor/
+
+ -- Oohara Yuuma <oohara@debian.org>  Sat, 23 Feb 2002 02:57:47 +0900
+
+grun (0.9.2-8) unstable; urgency=low
+
+  * Setting maintainer to Debian QA, orphaning the package
+
+ -- Gustavo Noronha Silva <kov@debian.org>  Sun, 27 Jan 2002 23:38:55 -0200
+
+grun (0.9.2-7) unstable; urgency=low
+
+  * debian/control: Minor corrections to the packages description
+    thanks to Matt Zimmerman.
+  
+ -- Gustavo Noronha Silva <kov@debian.org>  Fri, 23 Nov 2001 12:15:24 -0200
+
+grun (0.9.2-6) unstable; urgency=low
+
+  * copyright: debianized by me =)
+  * rules: changed to DH_COMPAT 3
+
+ -- Gustavo Noronha Silva <kov@debian.org>  Sun,  1 Jul 2001 11:53:04 -0300
+
+grun (0.9.2-5) unstable; urgency=low
+
+  * Rebuild with dpkg-dev version 1.9.14.1 (hope this helps as I couldn't
+  find 1.9.10 on the archive)
+
+ -- Gustavo Noronha Silva <kov@debian.org>  Sat, 30 Jun 2001 03:45:33 -0300
+
+grun (0.9.2-4) unstable; urgency=low
+
+  * menu: Added icon to menu
+  * debian/grun.xpm: the icon =) it is installed in /usr/share/pixmaps
+
+ -- Gustavo Noronha Silva <kov@debian.org>  Mon, 25 Jun 2001 23:02:32 -0300
+
+grun (0.9.2-3) unstable; urgency=low
+
+  * New Maintainer
+
+ -- Gustavo Noronha Silva <kov@debian.org>  Sat,  9 Jun 2001 14:42:38 -0300
+
+grun (0.9.2-2) unstable; urgency=low
+
+  * Added a conflicts entry in control to fix a package overlap with the
+    gnome-utils package in Debian testing; closes: #90319 
+  * Moved section from misc to x11 to fix override disparity.
+  * Corrected a typo in copyright file.
+  * Removed call of deprecated dh_testversion in rules.
+
+ -- Dr. Guenter Bechly <gbechly@debian.org>  Mon, 26 Mar 2001 17:50:26 +0200
+
+grun (0.9.2-1) unstable; urgency=low
+
+  * Initial Release; closes: #88330.
+  * Modified the files gassoc and consfile.
+
+ -- Dr. Guenter Bechly <gbechly@debian.org>  Sat,  3 Mar 2001 11:19:48 +0100
+
+
--- grun-0.9.2.orig/debian/prerm
+++ grun-0.9.2/debian/prerm
@@ -0,0 +1,9 @@
+#! /bin/sh
+
+rm /usr/share/grun
+
+# dh_installdeb will replace this with shell code automatically
+# generated by other debhelper scripts.
+
+#DEBHELPER#
+
--- grun-0.9.2.orig/debian/grun.xpm
+++ grun-0.9.2/debian/grun.xpm
@@ -0,0 +1,68 @@
+/* XPM */
+static char * grun_xpm[] = {
+"48 48 17 1",
+" 	c None",
+".	c #1F1A29",
+"+	c #5FB747",
+"@	c #AD4229",
+"#	c #354845",
+"$	c #447C5A",
+"%	c #D99AAE",
+"&	c #6F77C7",
+"*	c #A788AF",
+"=	c #7FB27D",
+"-	c #7F4D7E",
+";	c #4F50B6",
+">	c #856F7C",
+",	c #A8B4C0",
+"'	c #AF558C",
+")	c #7AAAD5",
+"!	c #E4E1E5",
+".##$$#$$$$+$#$$$++++++++$$$$>>>--@-@@@@@@@@@@@@@",
+"#;$;$$>#$$....$$$++++$$#...####$>@-@@@@@@@@@@@@@",
+"##$#$$$$#....#$$$#$$$+$$$####->>>->@'@@@@'@@'@@@",
+"##$$$$$....$$$####$$##$$$$#.>>>>>@>--@@@@@@@@''@",
+"#$$$##....$#.##+++++++$#####,*>>@-@>-@-@'@'''@'@",
+"$$$$#...##.##++!!!!++++$###$,,>->-@-@@'@'@@@''''",
+"$#$$...##.##+!!!!++$$$$+$##$!!*>-@-@-@@-'@@@'@''",
+"$$$...###.#+!!!+++$+$#$$$##+!,$>-;----@''@'@@'''",
+"$$#..##..$$!!!+$$$$$$$##$##=!=>>;>$--@-'@''@'@@'",
+"$#..#$.##$!!!+$$$$$$$+##$##!!*$$>&---'-'''@''@'@",
+"$...#..#$+!!++$$$$$$$+$.#$$!!=$;$;&---'-'''''@@@",
+"#..##.#$$+!!$$$$$$$+$$$$##=!!&;>;&-&--&-''''''''",
+"#..#.##$+!!++$$$+$$$$$$$$&)=$;$;>&&&&&*&*>>''-'-",
+"..$#.#$++!!+$$+$$$$$$$$$$$&$$;&--&'->'>*>>&&''-'",
+".#$##$$+!!+)$$$$$$$#.......#;$;&&&&*&&*&****&**&",
+".$$.#$++!=+)$$+++$..........#;&'&&&)*)&&&*)*)&*&",
+".+$##+++!!+$$$$$$#..####.###;;&&&&)&)&)&***))*&)",
+".+$#$$+!!++)++$+$#.#....;.#;;)&&))))))*)*)*&&)))",
+".+##$++!+!+++$)$+#.#;;#;.;)!!)&&)))),=)))))))*))",
+".+$#$++!+++++))$$;.#;..;;&!!!)&)),)),,))*)*)&)*)",
+".+##$$+!++++))+));..&.##;,!!)**))),)=)))))))))))",
+".+$$$+++!=++)))&);..;..;&!!!*&*),,,)!=,)))))))))",
+".++#$++!++!+!+)&)..#;.;;$!!)*&*)),)=+)))),))))))",
+".++#$++!))+)=,*)*..;#.#;)!,*>&)&),++!=)))))$)++)",
+".++##++++)$)=,))*..;..;;,!,&'***,))+++=!)$))$+++",
+"$#++#$++==&#)),&...&..;;,!**&&&&))!=+)+)))$)$)))",
+"+#$++$$==,=$......;;..;-!!*&****))))))))$&$&$$$&",
+"+$$$+)$))$,)$....-&...;%!,)&)&)*)),)))))&)&)&;&&",
+"+++$$+=$>$)>&&&;;;..;;*!!,&&&)&)*)))))$)&&&$&&;&",
+"+!+$$$+,=&$>;#-#;.;->,!!!&&&&)))*)))))$))&&$;;&;",
+"++++=#$=,),,=*->*%**%!!!,&;;&)&))*)*)))))&&&&;$;",
+"+!==$#-==,,*)*&)****,!,&;#..#;#....#;.....;&;;;&",
+"=!+>#.#>*,%=*****)***&-;...................;;;;;",
+"==,#..>*=*%,,&**)*&&;-;....##.##;;#;####;;#;;$;;",
+"=!=#.#$.#$**#.;,*;#.;-;;.;..;&&.#.#*&;...&&$&;$;",
+"==%#.-*@#*,>>#;***-.;----...-->*-.;&>;&;#;,);;#;",
+"=%*>.#*-#**,,**>*&;.-;--@..;-&-&;.&;;&>;.&!,&$;#",
+"==*>.#*.#*!!!%>&*'..''-@-..-'&&&.#&>>&&.#&!,$#;#",
+"**%-..>.@>!!!,--&-.;-''-..--'''&.;$***&..,!);###",
+">>*..#-.-!!!%%#.&;.-''''..--->>-.#*)**#.#,,)$###",
+">*>..-.#>!!!'%..'..>'''..--'&''.#>*=**#.&!,&####",
+">--..@.#%!!%*@..'.-''''@.-'*>*>.#>=*=>..*!,&####",
+"->...-.@!!%%'-..'.-'''''.@*'**-.-*,>*$.#,,*$####",
+"-@..@..@!!%%*..@-.@%'-'--'*'**#.>==*>#.#,#>#####",
+"-#..#..%!%%''..@..@'@'%@.''***.#>%=>$#.->>$###.#",
+"-...@.@!!%'''..'.@@''''@@@%%%'.-,!,*>#.#>,$####.",
+"@-...'%!!%'''@.@'@''%%'%''%%,***!!,$$>#=!,>####.",
+"-@..-''!%%''''.@''''%%'%%%%%%**%,!=>>>$*!=#$###."};
--- grun-0.9.2.orig/debian/conffiles
+++ grun-0.9.2/debian/conffiles
@@ -0,0 +1,2 @@
+/etc/grun/gassoc
+/etc/grun/consfile
--- grun-0.9.2.orig/debian/postinst
+++ grun-0.9.2/debian/postinst
@@ -0,0 +1,8 @@
+#! /bin/sh
+
+ln -s /etc/grun /usr/share/grun
+
+# dh_installdeb will replace this with shell code automatically
+# generated by other debhelper scripts.
+
+#DEBHELPER#
--- grun-0.9.2.orig/debian/copyright
+++ grun-0.9.2/debian/copyright
@@ -0,0 +1,15 @@
+This package was debianized by Gustavo Noronha Silva <kov@debian.org> on
+Sat,  1 Jul 2001 11:19:48 -0300.
+
+It was downloaded from http://www.geocities.com/ResearchTriangle/Facility/1468/sg/grun-0.9.2.tar.gz
+
+Upstream Author(s): Bruce Smith <tangomanrulz@geocities.com>
+
+Copyright: GPL
+
+This software is copyright (c) by Bruce Smith
+
+You are free to distribute this software under the terms of
+the GNU General Public Licence.
+On Debian systems, the complete text of the GNU General Public
+Licence can be found in /usr/share/common-licenses/GPL file.
--- grun-0.9.2.orig/debian/rules
+++ grun-0.9.2/debian/rules
@@ -0,0 +1,98 @@
+#!/usr/bin/make -f
+# Sample debian/rules that uses debhelper.
+# GNU copyright 1997 to 1999 by Joey Hess.
+
+# Uncomment this to turn on verbose mode.
+#export DH_VERBOSE=1
+
+# This is the debhelper compatability version to use.
+export DH_COMPAT=3
+
+### "debug" support
+# this hack is here because automake sucks
+ifneq (,$(findstring debug,$(DEB_BUILD_OPTIONS)))
+# compile with debugging information and don't optimize
+export COPT = -g
+else
+# compile without debugging information and do optimize
+export COPT = -O2
+endif
+
+configure: configure-stamp
+configure-stamp:
+	dh_testdir
+# Add here commands to configure the package.
+	./configure --with-default-xterm=x-terminal-emulator --enable-testfile --enable-associations --prefix=/usr --mandir=\$${prefix}/share/man --infodir=\$${prefix}/share/info
+
+	touch configure-stamp
+
+build: configure-stamp build-stamp
+build-stamp:
+	dh_testdir
+
+# Add here commands to compile the package.
+	$(MAKE)
+#	/usr/bin/docbook-to-man debian/grun.sgml > grun.1
+
+	touch build-stamp
+
+clean:
+	dh_testdir
+	dh_testroot
+	rm -f build-stamp configure-stamp
+
+# Add here commands to clean up after the build process.
+	-$(MAKE) distclean
+
+	dh_clean
+
+install: build
+	dh_testdir
+	dh_testroot
+	dh_clean -k
+	dh_installdirs
+
+# Add here commands to install the package into debian/grun.
+	$(MAKE) install prefix=$(CURDIR)/debian/grun/usr
+	mkdir $(CURDIR)/debian/grun/etc
+	mv $(CURDIR)/debian/grun/usr/share/grun $(CURDIR)/debian/grun/etc
+	install -d $(CURDIR)/debian/grun/usr/share/pixmaps
+	cp debian/grun.xpm $(CURDIR)/debian/grun/usr/share/pixmaps
+
+# Build architecture-independent files here.
+binary-indep: build install
+# We have nothing to do by default.
+
+# Build architecture-dependent files here.
+binary-arch: build install
+#	dh_testversion 2
+	dh_testdir
+	dh_testroot
+#	dh_installdebconf	
+	dh_installdocs
+#	dh_installexamples
+	dh_installmenu
+#	dh_installemacsen
+#	dh_installpam
+#	dh_installinit
+#	dh_installcron
+#	dh_installmanpages
+#	dh_installinfo
+#	dh_undocumented
+	dh_installchangelogs ChangeLog
+	dh_link
+	dh_strip
+	dh_compress
+	dh_fixperms
+# You may want to make some executables suid here.
+#	dh_suidregister
+#	dh_makeshlibs
+	dh_installdeb
+#	dh_perl
+	dh_shlibdeps
+	dh_gencontrol
+	dh_md5sums
+	dh_builddeb
+
+binary: binary-indep binary-arch
+.PHONY: build clean binary-indep binary-arch binary install configure
--- grun-0.9.2.orig/debian/control
+++ grun-0.9.2/debian/control
@@ -0,0 +1,31 @@
+Source: grun
+Section: x11
+Priority: optional
+Maintainer: Oohara Yuuma <oohara@debian.org>
+Build-Depends: debhelper (>> 2.0.0), autoconf, automake, libgtk1.2-dev, gettext
+Standards-Version: 3.2.1
+
+Package: grun
+Architecture: any
+Depends: ${shlibs:Depends}
+Suggests: x-terminal-emulator
+Conflicts: gnome-utils (<= 1.0.50-5)
+Description: GTK based Run dialog
+ gRun is a GTK based Run dialog that closely resembles
+ the Windows Run dialog, just like xexec. It has a
+ intelligent history mechanism and a dual level fork()
+ mechanism for launching the application in its own
+ process. gRun also has support for launching console
+ mode application in an XTerm as well as associations
+ for file types.
+ .
+ gRun is much more powerful than xexec, looks a lot
+ better, and has the big advantage that you can start
+ typing a command without having to mouse-click into
+ the text field.
+ .
+ gRun is especially useful if you do not use the
+ GNOME desktop which has a built-in run command, and
+ if you use a window-manager (e.g. IceWM) where you can
+ define a  keyboard shortcut (e.g. Alt-F2) for staring
+ gRun.
--- grun-0.9.2.orig/Makefile.am
+++ grun-0.9.2/Makefile.am
@@ -9,3 +9,4 @@
 LDADD = $(INTLLIBS)
 grundatadir = $(datadir)/grun
 grundata_DATA = gassoc consfile
+CFLAGS = -Wall $(COPT) $(GTK_CFLAGS)
--- grun-0.9.2.orig/consfile.old
+++ grun-0.9.2/consfile.old
@@ -0,0 +1,12 @@
+telnet
+ftp
+lynx
+elm
+top
+vi
+mc
+mcedit
+mutt
+w3m
+slrn
+links
--- grun-0.9.2.orig/consfile.src
+++ grun-0.9.2/consfile.src
@@ -0,0 +1,74 @@
+ae
+ash
+bash
+rbash
+sash
+sh
+aumix
+bc
+bug
+bvi
+cdcd
+chfn
+chsh
+csh
+dc
+dselect
+ee
+elm
+elvis
+elvis-tiny
+esh
+fetchmail
+ftp
+gdb
+gnuplot
+hexedit
+hexeditor
+info
+jed
+joe
+jove
+ksh
+lftp
+links
+lsh
+lynx
+man
+mc
+mcedit
+mp3blaster
+mutt
+nano
+ncftp
+nvi
+osh
+passwd
+ppxp
+python
+script
+sg
+sl
+slrn
+sted
+su
+tasksel
+telnet
+tclsh
+tcsh
+the
+top
+vi
+vim
+w3m
+w3m-en
+w3m-ja
+zed
+zsh
+cfdisk
+taper
+backgammon
+boggle
+hangman
+nethack
+typespeed
--- grun-0.9.2.orig/gassoc
+++ grun-0.9.2/gassoc
@@ -1,14 +1,21 @@
-# This is the file association database for grun 0.8pre1
-jpg:xv
-jpeg:xv
-gif:xv
-xpm:xv
-bmp:xv
+jpg:eeyes
+jpeg:eeyes
+gif:eeyes
+png:eeyes
+xpm:eeyes
+bmp:eeyes
+tif:eeyes
 xcf:gimp
-html:netscape
-htm:netscape
-pdf:xpdf
-mov:xanim
-avi:xanim
-qt:xanim
-ps:ghostview
+html:mozilla
+htm:mozilla
+pdf:gv
+mov:gxanim
+avi:gxanim
+qt:gxanim
+ps:gv
+dvi:xdvi
+mp3:xmms
+wav:xmms
+mpg:xmms
+mpeg:xmms
+txt:sensible-editor
--- grun-0.9.2.orig/grun.c
+++ grun-0.9.2/grun.c
@@ -52,6 +52,9 @@
 
 #include <sys/stat.h>
 
+#include <locale.h>
+#include <string.h>
+
 #define MAX_BUFF	1024
 
 typedef struct grun sgrun;
@@ -114,7 +117,7 @@
 	
 	twrk = g_strdup(file);
 	hold = twrk;
-	split = strsep(&twrk, " ");
+	split = (gchar *) strsep(&twrk, " ");
 	rdx = rindex(split, '/');
 	if (rdx) {
 		split = ++rdx;
@@ -126,7 +129,7 @@
 	err = stat(fname, &buff);
 	if (err == -1) {
 			g_free(fname);
-			fname = g_strconcat(PREFIX, "/share/grun/consfile", NULL);
+			fname = g_strconcat("/etc", "/grun/consfile", NULL);
 	}
 
 	fHnd = fopen(fname, "rb");
@@ -170,7 +173,7 @@
 	err = stat(fname, &buff);
 	if (err == -1) {
 			g_free(fname);
-			fname = g_strconcat(PREFIX, "/share/grun/gassoc", NULL);
+			fname = g_strconcat("/etc", "/grun/gassoc", NULL);
 	}
 
 	fHnd = fopen(fname, "rb");
@@ -183,7 +186,7 @@
 	line = getLine(fHnd);
 	while (line) {
 		fname = line;
-		split = strsep(&line, ":");
+		split = (gchar *) strsep(&line, ":");
 		if (strcasecmp(split, ext) == 0) {
 			rsp = g_strdup(line);
 			g_free(fname);
@@ -209,7 +212,7 @@
 	inc = g_strdup(file);
 	hold = inc;
 #ifndef WIN32
-	split = strsep(&inc, " ");
+	split = (char *) strsep(&inc, " ");
 #else
 	split = strtok(inc, " ");
 #endif
@@ -220,7 +223,7 @@
 		path = g_strdup(twrk);
 		inc = path;
 #ifndef WIN32
-		twrk = strsep(&path, PATH_CHAR);
+		twrk = (char *) strsep(&path, PATH_CHAR);
 #else
 		twrk = strtok(path, PATH_CHAR);
 #endif
@@ -240,7 +243,7 @@
 			}
 			else {
 #ifndef WIN32
-				twrk = strsep(&path, PATH_CHAR);
+				twrk = (char *) strsep(&path, PATH_CHAR);
 #else
 				twrk = strtok(NULL, PATH_CHAR);
 #endif
@@ -362,7 +365,7 @@
 #ifdef ASSOC
 			twrk = g_strdup(cmd);
 			hold = twrk;
-			split = strsep(&twrk, " ");
+			split = (char *) strsep(&twrk, " ");
 			twrk = g_strdup(split);
 			g_free(hold);
 			split = rindex(twrk, '.');
@@ -573,7 +576,7 @@
 #ifdef WIN32
 	wdir = strtok(path, PATH_CHAR);
 #else
-	wdir = strsep(&path, PATH_CHAR);
+	wdir = (gchar *) strsep(&path, PATH_CHAR);
 #endif
 	while (wdir) {
 		dir = opendir(wdir);
@@ -606,7 +609,7 @@
 #ifdef WIN32
 		wdir = strtok(NULL, PATH_CHAR);
 #else
-		wdir = strsep(&path, PATH_CHAR);
+		wdir = (gchar *) strsep(&path, PATH_CHAR);
 #endif
 	}
 	g_free(hold);
@@ -843,13 +846,13 @@
 }
 
 #ifndef WIN32
-void main(int argc, char **argv) {
+int main(int argc, char **argv) {
 #else
 int PASCAL WinMain(HINSTANCE hInst, HINSTANCE hPrevInst, LPSTR lpCmdLine, int nShowCmd) {
 #endif
 	GtkWidget *win, *btn, *lbl, *cmb, *fix;
 	GtkTooltips *tips;
-	int c, cnt, len, persist, tooltips;
+	int c, len, persist, tooltips;
 	char *home_env, *fname, *cmd, *icmd;
 	GList *list;
 	sgrun *gdat;
@@ -1065,4 +1068,5 @@
 #endif
 	gtk_widget_show(win);
 	gtk_main();
+        return 0;
 }
--- grun-0.9.2.orig/config.h.in
+++ grun-0.9.2/config.h.in
@@ -1,4 +1,4 @@
-/* config.h.in.  Generated automatically from configure.in by autoheader.  */
+/* config.h.in.  Generated automatically from configure.in by autoheader 2.13.  */
 
 /* Define if using alloca.c.  */
 #undef C_ALLOCA
@@ -25,9 +25,6 @@
 /* Define to `long' if <sys/types.h> doesn't define.  */
 #undef off_t
 
-/* Define if you need to in order for stat and other things to work.  */
-#undef _POSIX_SOURCE
-
 /* Define to `unsigned' if <sys/types.h> doesn't define.  */
 #undef size_t
 
@@ -43,21 +40,6 @@
 /* Define if you have the ANSI C header files.  */
 #undef STDC_HEADERS
 
-/* Define to 1 if NLS is requested.  */
-#undef ENABLE_NLS
-
-/* Define as 1 if you have catgets and don't want to use GNU gettext.  */
-#undef HAVE_CATGETS
-
-/* Define as 1 if you have gettext and don't want to use GNU gettext.  */
-#undef HAVE_GETTEXT
-
-/* Define if your locale.h file contains LC_MESSAGES.  */
-#undef HAVE_LC_MESSAGES
-
-/* Define if have stpcpy */
-#undef HAVE_STPCPY
-
 /* for testfile features */
 #undef TESTFILE
 #undef XTERM
@@ -80,12 +62,33 @@
 /* Define if you have the dcgettext function.  */
 #undef HAVE_DCGETTEXT
 
+/* Define if you have the feof_unlocked function.  */
+#undef HAVE_FEOF_UNLOCKED
+
+/* Define if you have the fgets_unlocked function.  */
+#undef HAVE_FGETS_UNLOCKED
+
 /* Define if you have the getcwd function.  */
 #undef HAVE_GETCWD
 
+/* Define if you have the getegid function.  */
+#undef HAVE_GETEGID
+
+/* Define if you have the geteuid function.  */
+#undef HAVE_GETEUID
+
+/* Define if you have the getgid function.  */
+#undef HAVE_GETGID
+
 /* Define if you have the getpagesize function.  */
 #undef HAVE_GETPAGESIZE
 
+/* Define if you have the getuid function.  */
+#undef HAVE_GETUID
+
+/* Define if you have the mempcpy function.  */
+#undef HAVE_MEMPCPY
+
 /* Define if you have the munmap function.  */
 #undef HAVE_MUNMAP
 
@@ -110,6 +113,12 @@
 /* Define if you have the strdup function.  */
 #undef HAVE_STRDUP
 
+/* Define if you have the strtoul function.  */
+#undef HAVE_STRTOUL
+
+/* Define if you have the tsearch function.  */
+#undef HAVE_TSEARCH
+
 /* Define if you have the <argz.h> header file.  */
 #undef HAVE_ARGZ_H
 
@@ -125,6 +134,12 @@
 /* Define if you have the <nl_types.h> header file.  */
 #undef HAVE_NL_TYPES_H
 
+/* Define if you have the <stddef.h> header file.  */
+#undef HAVE_STDDEF_H
+
+/* Define if you have the <stdlib.h> header file.  */
+#undef HAVE_STDLIB_H
+
 /* Define if you have the <string.h> header file.  */
 #undef HAVE_STRING_H
 
@@ -134,12 +149,28 @@
 /* Define if you have the <unistd.h> header file.  */
 #undef HAVE_UNISTD_H
 
-/* Define if you have the i library (-li).  */
-#undef HAVE_LIBI
-
 /* Name of package */
 #undef PACKAGE
 
 /* Version number of package */
 #undef VERSION
+
+/* Define if you have the iconv() function. */
+#undef HAVE_ICONV
+
+/* Define as const if the declaration of iconv() needs const. */
+#undef ICONV_CONST
+
+/* Define if you have <langinfo.h> and nl_langinfo(CODESET). */
+#undef HAVE_LANGINFO_CODESET
+
+/* Define if your <locale.h> file defines LC_MESSAGES. */
+#undef HAVE_LC_MESSAGES
+
+/* Define to 1 if translation of program messages to the user's native language
+   is requested. */
+#undef ENABLE_NLS
+
+/* Define if the GNU gettext() function is already present or preinstalled. */
+#undef HAVE_GETTEXT
 
--- grun-0.9.2.orig/consfile
+++ grun-0.9.2/consfile
@@ -1,9 +1,74 @@
-telnet
+ae
+ash
+aumix
+backgammon
+bash
+bc
+boggle
+bug
+bvi
+cdcd
+cfdisk
+chfn
+chsh
+csh
+dc
+dselect
+ee
+elm
+elvis
+elvis-tiny
+esh
+fetchmail
 ftp
-linuxconf
+gdb
+gnuplot
+hangman
+hexedit
+hexeditor
+info
+jed
+joe
+jove
+ksh
+lftp
+links
+lsh
 lynx
-elm
-top
-vi
+man
 mc
 mcedit
+mp3blaster
+mutt
+nano
+ncftp
+nethack
+nvi
+osh
+passwd
+ppxp
+python
+rbash
+sash
+script
+sg
+sh
+sl
+slrn
+sted
+su
+taper
+tasksel
+tclsh
+tcsh
+telnet
+the
+top
+typespeed
+vi
+vim
+w3m
+w3m-en
+w3m-ja
+zed
+zsh
