*** misc.c.orig	Sat Jan 13 08:59:29 2001
--- misc.c	Mon Jul  9 15:45:09 2001
***************
*** 201,217 ****
  {
    char const *p = name + FILESYSTEM_PREFIX_LEN (name);
  
    for (;;)
      {
!       if (p[0] == '.' && p[1] == '.' && (ISSLASH (p[2]) || !p[2]))
  	return 1;
  
        do
  	{
! 	  if (! *p++)
  	    return 0;
  	}
!       while (! ISSLASH (*p));
      }
  }
  
--- 201,218 ----
  {
    char const *p = name + FILESYSTEM_PREFIX_LEN (name);
  
+   if(ISSLASH (*p) ) return 1;
    for (;;)
      {
!       if (p[0] == '.' && p[1] == '.'  && (!p[2] || ISSLASH (p[2])))
  	return 1;
  
        do
  	{
! 	  if (! *p)
  	    return 0;
  	}
!       while (! ISSLASH (*p++));
      }
  }
  
