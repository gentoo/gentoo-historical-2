Index: libarchive-2.0b6/libarchive/archive_write_disk.c
===================================================================
--- libarchive-2.0b6.orig/libarchive/archive_write_disk.c
+++ libarchive-2.0b6/libarchive/archive_write_disk.c
@@ -398,7 +398,7 @@ archive_write_disk_set_skip_file(struct 
 	return (ARCHIVE_OK);
 }
 
-static int
+static ssize_t
 _archive_write_data_block(struct archive *_a,
     const void *buff, size_t size, off_t offset)
 {
@@ -432,7 +432,7 @@ _archive_write_data_block(struct archive
 	return (ARCHIVE_OK);
 }
 
-static int
+static ssize_t
 _archive_write_data(struct archive *_a, const void *buff, size_t size)
 {
 	struct archive_write_disk *a = (struct archive_write_disk *)_a;
