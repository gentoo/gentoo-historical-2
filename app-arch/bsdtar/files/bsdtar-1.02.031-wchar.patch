Index: bsdtar-1.02.031/bsdtar.c
===================================================================
--- bsdtar-1.02.031.orig/bsdtar.c
+++ bsdtar-1.02.031/bsdtar.c
@@ -27,6 +27,10 @@
 #include "bsdtar_platform.h"
 __FBSDID("$FreeBSD: src/usr.bin/tar/bsdtar.c,v 1.64 2005/08/02 03:02:55 kientzle Exp $");
 
+#if HAVE_WCHAR_H
+#include <wchar.h>
+#endif
+
 #include <sys/param.h>
 #include <sys/stat.h>
 #include <archive.h>
Index: bsdtar-1.02.031/configure.ac
===================================================================
--- bsdtar-1.02.031.orig/configure.ac
+++ bsdtar-1.02.031/configure.ac
@@ -13,7 +13,7 @@ AC_PROG_YACC
 # Checks for header files.
 AC_HEADER_DIRENT
 AC_HEADER_STDC
-AC_CHECK_HEADERS([bzlib.h fcntl.h inttypes.h langinfo.h limits.h locale.h paths.h stdint.h stdlib.h string.h sys/ioctl.h sys/param.h unistd.h zlib.h])
+AC_CHECK_HEADERS([bzlib.h fcntl.h inttypes.h langinfo.h limits.h locale.h paths.h stdint.h stdlib.h string.h sys/ioctl.h sys/param.h unistd.h wchar.h zlib.h])
 
 # Checks for libraries.
 AC_CHECK_LIB([z], [inflate])
Index: bsdtar-1.02.031/read.c
===================================================================
--- bsdtar-1.02.031.orig/read.c
+++ bsdtar-1.02.031/read.c
@@ -27,6 +27,10 @@
 #include "bsdtar_platform.h"
 __FBSDID("$FreeBSD: src/usr.bin/tar/read.c,v 1.23 2005/04/17 17:20:54 kientzle Exp $");
 
+#if HAVE_WCHAR_H
+#include <wchar.h>
+#endif
+
 #include <sys/param.h>
 #include <sys/types.h>
 #include <sys/stat.h>
Index: bsdtar-1.02.031/util.c
===================================================================
--- bsdtar-1.02.031.orig/util.c
+++ bsdtar-1.02.031/util.c
@@ -27,6 +27,10 @@
 #include "bsdtar_platform.h"
 __FBSDID("$FreeBSD: src/usr.bin/tar/util.c,v 1.13 2005/04/17 19:46:50 kientzle Exp $");
 
+#ifdef HAVE_WCHAR_H
+#include <wchar.h>
+#endif
+
 #include <sys/stat.h>
 #include <sys/types.h>  /* Linux doesn't define mode_t, etc. in sys/stat.h. */
 #include <archive_entry.h>
Index: bsdtar-1.02.031/write.c
===================================================================
--- bsdtar-1.02.031.orig/write.c
+++ bsdtar-1.02.031/write.c
@@ -27,6 +27,10 @@
 #include "bsdtar_platform.h"
 __FBSDID("$FreeBSD: src/usr.bin/tar/write.c,v 1.41 2005/05/08 06:25:15 kientzle Exp $");
 
+#ifdef HAVE_WCHAR_H
+#include <wchar.h>
+#endif
+
 #include <sys/stat.h>
 #include <sys/types.h>
 #ifdef HAVE_POSIX_ACL
