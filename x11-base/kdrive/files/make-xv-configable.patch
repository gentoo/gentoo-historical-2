https://bugs.freedesktop.org/show_bug.cgi?id=4166

diff -urN xserver.orig/hw/kdrive/i810/Makefile.am xserver/hw/kdrive/i810/Makefile.am
--- xserver.orig/hw/kdrive/i810/Makefile.am	2005-08-14 20:19:34.000000000 -0700
+++ xserver/hw/kdrive/i810/Makefile.am	2005-08-20 20:52:47.000000000 -0700
@@ -6,18 +6,22 @@
 
 noinst_LIBRARIES = libi810.a
 
+if XV
+XV_SOURCES = i810_video.c
+endif
+
 if TSLIB
 TSLIB_FLAG = -lts
 endif
 
 libi810_a_SOURCES = 		\
 	i810_cursor.c	\
-	i810_video.c	\
 	i810draw.c	\
 	i810draw.h	\
 	i810_reg.h	\
 	i810.c		\
-	i810.h
+	i810.h \
+	$(XV_SOURCES)
 
 Xi810_SOURCES = \
 	i810stub.c
