# ChangeLog for x11-base/xorg-x11
# Copyright 2000-2004 Gentoo Technologies, Inc.; Distributed under the GPL v2
# $Header: /var/cvsroot/gentoo-x86/x11-base/xorg-x11/ChangeLog,v 1.49 2004/06/11 08:35:45 spyderous Exp $

*xorg-x11-6.7.0-r1 (11 Jun 2004)

  11 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>;
  +xorg-x11-6.7.0-r1.ebuild:
  PATCH_VER 1.1. Add 9920_all_6.7.0-xdm-open-chooserfd-CAN-2004-0419.patch to
  stop xdm from ignoring its "DisplayManager.requestPort" setting. xdm opens its
  "chooserFd" TCP socket on all network interfaces without this patch (xf86
  #1376). Update 9840_all_4.3.0-SDK-add-missing-includes-for-gatos-v2.patch for
  new gatos -- another include needed (battousai@gentoo.org). Update
  0120_all_4.3.99-parallel-make-v2.patch to remove a patched-in .rej and some
  patched-in .orig's (#49455). Update 0126_all_4.2.99.3-startx-v2.patch to
  remove pointless dependency on xvt (#49455). Big chunk of backports from CVS:
  9305_all_6.7.0-chips-segfault-on-mode-switch-and-video-overlay.patch to fix a
  segfault on video mode switching when pScrn->currentMode does not contain a
  valid mode. Also fix video overlays for double scan modes; Add
  9310_all_6.7.0-config-cf-cleanup.patch to clean up xorg.cf by factoring out
  many common defines. Make the fbdev driver only build on Linux (fbdevhw is
  just stubs on other OSes). Add AFB to AMD64 build, and include
  XF86OSCardDrivers. I continue adding things that aren't supported under Gentoo
  (BSD-related, or other archs) because I want to pre-emptively have work done
  for any ports. Also, it makes other backports easier. (fd.o #448, 449); Add
  9315_all_6.7.0-fb-render-fixes.patch to fix problems in render fb
  implementation found by rendercheck; Add
  9320_all_6.7.0-getconfig-xorg-name.patch to fix problem with getconfig where
  file '/usr/X11R6/lib/X11/getconfig/xorg.cfg' has bad signature (Change "Xorg
  Project" to "Xorg Foundation" to match getconfig script) (fd.o #678); Add
  9325_all_6.7.0-improve-xdm-auth-1-cookie.patch to improve 'uniqueness' of
  authorization cookie sent by client for XDM-AUTHORIZATION-1. Old 'uniqueness'
  consisted of the PID of the client, a time stamp (in seconds) and a number
  obtained by starting to count down from 0xffff. When a client did an
  XOpenDisplay() then execv'ed a child and did XOpenDisplay() again within the
  same second, the cookie was identical to the previous one (as the PID did not
  change but the static 'count down' variable was reinitialized) and thus
  refused by the server; Add 9330_all_6.7.0-link-with-pam-on-pam-builds.patch to
  link with PamLibraries if building with PAM support; Add
  9335_all_6.7.0-modular-imake-build.patch to fix build glitches when building
  modules independently using Imake; Add
  9340_all_6.7.0-remove-xmu-dep-on-xaw-header.patch to remove Xaw header
  dependency from Xmu library build (fd.o #634); Add
  9345_all_6.7.0-unlock-xauthority-on-sigpipe.patch to make xauth unlock
  .Xauthority on SIGPIPE (fd.o #550); Add
  9350_all_6.7.0-xrender-xorgconfig-xdmcp-msgs.patch to muffle compiler warnings
  in lib/Xrender/Xrender.c, fix an option name in a log message of
  programs/Xserver/hw/xfree86/common/xf86Configure.c and improve debugging
  messages in programs/xdm/xdmcp.c.

  03 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>; :
  Add credit for netwinder.org ARM patch.

  03 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  PATCH_VER 1.0. This patchset should get xorg-x11-6.7.0 ready to go stable on
  all archs that have tested it. Many of them have already stabled it, so I'm
  holding some non-crucial patches out for 6.7.0-r1.
  
  -Add 9210_all_XFree86-4.3.0-arm32-compiler.h.patch (#52707) from
  netwinder.org. This fixes compiles for the ARM architecture. Patch from PhilB,
  according to netwinder's RPM spec file.
  -Add 9215_all_xorg-x11-6.7.0-char-bit-and-ia64-asm-page.patch to remove a
  compiler-intrinsic define since it dies on makedepend otherwise (fd.o #601),
  and fix the IA64 build (broken because it includes kernel header asm/page.h,
  which doesn't work with -ansi) (fd.o #605).
  -Add 9220_all_xorg-x11-6.7.0-install-vera-italic.patch to install VeraIt.ttf.
  It was getting left out. Patch from xorg CVS by Eric Anholt.
  -Add 9225_all_xorg-x11-6.7.0-install-xfree86-lst.patch (fd.o #531) to install
  xfree86.lst. This should fix some XKB problems.
  -Add 9230_all_xorg-x11-6.7.0-try-tcp-without-local-and-fix-ipv6-xdmauth-
  segfault.patch to make XOpenDisplay try tcp connection if local fails (fd.o
  #546), and fix Xlib segfaults with IPv6 if compiled with HASXDMAUTH (NetBSD
  #25098).
  -Add 9235_all_xorg-x11-6.7.0-libxf86config-monitor-freq-fix.patch from RH.
  This prevents writing out the HorizSync/VertRefresh lines commented out, which
  forces all default X config files written out by this library to rely on DDC.
  Poor assumption that DDC is always available. Patch by Mike Harris.
  -Add 9240_all_xorgconfig-naming-xkb-font-path-fixes.patch to do a few things:
    - Clean up server name changes from TM branch
    - Set default XKB rules file name correctly
    - Use default font path from Imake configuration for the default font path
      in generated xorg.conf files.
    - Use path variables from Imake configuration for paths to files, in case
      vendor has configured them to install somewhere other than the defaults.
    Patch from xorg CVS by Alan Coopersmith.

  03 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Fix typo in xrender.pc generation, includ to include.

  02 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Fix generation of xrender.pc so version is resolved (#52843).

  03 Jun 2004; Pieter Van den Abeele <pvdabeel@gentoo.org> xorg-x11-6.7.0.ebuild:
  Masked stable on ppc

  02 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Work around upgrade problem where people have Option "XkbRules" "xfree86" in
  their config file.

  01 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Prevent -fomit-frame-pointer and k6 flags from being used together (#49310).

  29 May 2004; Ferris McCormick <fmccor@gentoo.org> xorg-x11-6.7.0.ebuild:
  Marked stable for sparc.

  29 May 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Force opengl-update to change to xorg-x11 if xfree is currently selected, else
  default to old behavior.

  28 May 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  PATCH_VER 0.7. Add 9860_all_xorg-xkb_winkeys.patch to fix broken windows keys
  (#48307).

  12 May 2004; Alexander Gabert <pappy@gentoo.org> xorg-x11-6.7.0.ebuild:
  removed hardened-gcc checks

  05 May 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Remove our custom SharedLibraryLoadFlags as a workaround until #49038 (fd.o
  #600) is fixed.

  25 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Update so gcc-3.4 is respected (#48933).

  21 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Add a couple of missing definitions for USE=sse -- HasSSESupport and
  MesaUseSSE, from eikke on Freenode.

  19 Apr 2004; Aron Griffis <agriffis@gentoo.org> xorg-x11-6.7.0.ebuild:
  Add ~alpha and ~ia64

  19 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  PATCH_VER 0.6. Add 9200_all_6.7.0-fix-zh-cn-utf8-crashes.patch, which fixes
  crashes when using core fonts in the zh_CN.UTF-8 locale. See fd.o bug #368.

  19 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Add them to IUSE.

  19 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Don't autodetect MMX/SSE/3DNOW, it breaks cross-compilation.

  19 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Don't remove fonts.* or encodings.dir in dirs not provided by this package
  (#30698).

  18 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Add more backwards compatibility things -- symlinks for all former font, doc
  and man dirs as well as autogeneration of new config files. Fix generation of
  xrender.pc.

  18 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Add explicit xfree to blockers.

  18 Apr 2004; Travis Tilley <lv@gentoo.org> xorg-x11-6.7.0.ebuild:
  marking stable on amd64 with the full realisation that the normal time period
  for waiting to mark things stable has yet to be met. A security vulnerability,
  outlined in bug 48107, forced me to mark the new xine-lib stable on amd64,
  where it will not compile with any unmasked version of xfree due to -fPIC
  errors (see bugs 48261, 44274, and 40646). Xorg-x11 is the only truly stable
  and fully functional option on amd64! Xfree 4.3.0, in general, is simply not
  amd64-friendly. Please CC me for any bugs relating to xorg-x11.

  14 Apr 2004; Stephen P. Becker <geoman@gentoo.org> xorg-x11-6.7.0.ebuild:
  Added ~mips keyword.

  12 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  ~hppa at gmsoft's request.

  12 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  PATCH_VER 0.5. Add 9500_all_6.7.0-hppa-fixes.patch so it builds on HPPA. Add
  HPPA fixes to 5900_all_6.7.0-acecad-v2.patch. Thanks to Guy Martin
  <gmsoft@gentoo.org> for these.

  12 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  PATCH_VER 0.4. Add 9300_all_4.3.0-ncurses-xf86cfg-bool-conflict.patch to avoid
  conflict of bool between ncurses-5.4 and xf86cfg (#43491).

  11 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Add some arch-specific CFLAGS mangling.

  11 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Added -g to ALLOWED_FLAGS at request of ajax on Freenode #xorg.

  10 Apr 2004; Jason Wever <weeve@gentoo.org> xorg-x11-6.7.0.ebuild:
  Added ~sparc keyword.

  10 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Add sys-apps/util-linux to DEPEND, reported by IceD^ in Freenode #gentoo.

  09 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  PATCH_VER 0.3. Add 9110_all_xorg-6.7.0-pci-domains.patch to close #43630. This
  makes 2.6 kernels, sparc and X work together.

  09 Apr 2004; Luca Barbato <lu_zero@gentoo.org> xorg-x11-6.7.0.ebuild:
  Marked ~ppc

  08 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Drop extra quote in OptimizedCplusplusDebugFlags.

  08 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Add PATCH_VER to XVendorString. It could come in handy.

  08 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Change XVendorString to be compatible with upstream so people can strstr for
  The X.Org Foundation.

  08 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Add GccAliasingArgs to the optimized CFLAGS and CXXFLAGS setup, so we get
  -fno-strict-aliasing. This avoids broken code, pending a patch from Luca to
  fix.

  08 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Remove xterm from DEPEND, it's still in PDEPEND. I accidentally copied instead
  of pasted earlier.

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Drop BuildLinuxDocText. It caused a bunch of docs to NOT be installed on
  USE=doc.

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Use gcc-getCC instead of manual hack.

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  PATCH_VER 0.2. Added 9400_all_4.3.0-mkcfm-FHS-install.patch to fix hard-coded
  path. Rework 9113_all_4.3.0-xterm-make-optional.patch to apply to xorg.cf
  instead of xfree86.cf and rename it
  9113_all_6.7.0-xterm-make-optional-v2.patch (#47100).

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Add x11-terms/xterm to PDEPEND.

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Change blocker on xfree to blocker on other virtual/x11.

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  FILES_VER 0.2. Fix libGL.la path -- #47100.

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Drop references to xterm since we're going external now.

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Change homepage to wiki.

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Change a couple of XF86Config references to xorg.conf.

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; :
  Looks like repoman doesn't auto-add Manifests.

*xorg-x11-6.7.0 (07 Apr 2004)

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; metadata.xml,
  xorg-x11-6.7.0.ebuild:
  Initial commit.

