# ChangeLog for x11-base/xfree
# Copyright 2002-2003 Gentoo Technologies, Inc.; Distributed under the GPL v2
# $Header: /var/cvsroot/gentoo-x86/x11-base/xfree/ChangeLog,v 1.139 2003/06/02 14:56:32 seemant Exp $

  02 Jun 2003; Seemant Kulleen <seemant@gentoo.org> xfree-4.3.0-r2.ebuild:
  Added a patch to the patch tarball for Sun Type6 keyboards. Thanks to: Jeremy
  Huddleston <jeremyhu@cory.eecs.berkeley.edu> in bug #21120 for the patch.
  Note patch level is now 1.1.6

  02 Jun 2003; Seemant Kulleen <seemant@gentoo.org> xfree-4.3.0-r2.ebuild,
  xfree-4.3.0-r3.ebuild:
  works with debug in USE now.  Closes bug #20511, by Cesar Eduardo Barros
  <cesarb@nitnet.com.br> 

  31 May 2003; Seemant Kulleen <seemant@gentoo.org> xfree-4.3.0-r2.ebuild,
  xfree-4.3.0-r3.ebuild:
  The locale fixes should be in place now. The only change was to the
  XFree86-compose.dir.bz2 file on the mirrors. It was changed as suggested in:
  http://bugs.xfree86.org//cgi-bin/bugzilla/show_bug.cgi?id=224 by Ivan Pascal
  <pascal@tsu.ru>

  30 May 2003; Seemant Kulleen <seemant@gentoo.org> xfree-4.3.0-r2.ebuild:
  Updated to patch 1.1.5 which contains a patch for libXi when using
  XinitThreads -- thanks to foser@gentoo.org in bug #21336

  30 May 2003; Seemant Kulleen <seemant@gentoo.org> xfree-4.3.0-r3.ebuild:
  switch from using xml to xml2 USE flag. Closes bug #19710 by Phil Richards
  <gentoo@derived-software.ltd.uk>

*xfree-4.3.0-r1 (29 May 2003)

  31 May 2003; Guy Martin <gmsoft@gentoo.org> xfree-4.3.0-r1.ebuild:
  Unmasked for hppa.

  29 May 2003; Grant Goodyear <g2boojum@gentoo.org> xfree-4.3.0-r1.ebuild:
  Added 4.3.0-r1 back in, since it's required for hppa (by request of GMsoft).

*xfree-4.3.0-r3 (28 May 2003)

  28 May 2003; Seemant Kulleen <seemant@gentoo.org> xfree-4.3.0-r2.ebuild,
  xfree-4.3.0-r3.ebuild:
  added patch to fix some i810 issues, to try and solve bug #8927 by Jan Knipper
  <jan-gentoo@spline.de>

  20 May 2003; Seemant Kulleen <seemant@gentoo.org> xfree-4.2.1-r1.ebuild,
  xfree-4.2.1-r1.ebuild, xfree-4.3.0-r1.ebuild, xfree-4.3.0-r1.ebuild,
  xfree-4.3.0.ebuild, xfree-4.3.0.ebuild,
  files/4.2.1-r1/108_all_4.2.1-xterm-enable-backspace.patch,
  files/4.2.1-r1/109_ppc_4.2.1-xterm-eightBitInput-fix.patch,
  files/4.2.1-r1/10xfree,
  files/4.2.1-r1/110_all_4.2.1-xf86_h-missing-bracket-fix.patch,
  files/4.2.1-r1/XftConfig, files/4.2.1-r1/Xsession, files/4.2.1-r1/Xsetup_0,
  files/4.2.1-r1/chooser.sh, files/4.2.1-r1/site.def,
  files/4.2.1-r1/startDM.sh, files/4.2.1-r1/xdm.pamd,
  files/4.2.1-r1/xdm.start, files/4.2.1-r1/xfs.conf.d,
  files/4.2.1-r1/xfs.config, files/4.2.1-r1/xfs.start,
  files/4.2.1-r1/xft-quality.diff, files/4.2.1-r1/xinitrc,
  files/4.2.1-r1/xserver.pamd, files/4.2.1-r1/Sessions/Xsession,
  files/4.2.1-r1/lib/libGL.la, files/4.2.1-r1/lib/libGLU.la,
  files/4.2.1-r1/lib/libOSMesa.la,
  files/4.3.0-patches/XFree86-4.3.0-enable-nv-on-ppc.patch,
  files/4.3.0-patches/XFree86-4.3.0-sparc-kb.patch:
  removed crusty ebuilds

  05 May 2003; Daniel Robbins <drobbins@gentoo.org>: xfree-4.3.0*.ebuild: moved
  "inherit" line below DEPEND definition, since the "newdepend" lines in the
  eclass were causing RDEPEND to get fried. RDEPEND should now be set
  correctly.

*xfree-4.3.0-r2 (08 Apr 2003)

  23 Apr 2003; Michael Fitzpatrick <leahcim@gentoo.org> xfree-4.3.0-r2.ebuild:
  Updated patch tarball to v1.1.3. Adds a tdfx patch to prevent a dri hang bug
  #19812. Allow X to auto use vc13(+) bug #19844.

  20 Apr 2003; Seemant Kulleen <seemant@gentoo.org> Manifest,
  xfree-4.3.0-r2.ebuild:
  Added TaD's three gentoo themes, changed the default cursor to core. Also,
  i18n fonts are built when "nls" is set in USE. and CJK fonts when both
  "nls" and "cjk" are set in USE.

  19 Apr 2003; Seemant Kulleen <seemant@gentoo.org> Manifest,
  xfree-4.3.0-r2.ebuild:
  Updated the patch tarball - this time to 1.1.1 -- this contains two more DRI
  patches for radeon -- one is Mesa, the other is a reinit patch

  15 Apr 2003; Seemant Kulleen <seemant@gentoo.org> xfree-4.3.0-r2.ebuild:
  changed default to core (black) pointer instead of whiteglass, at vlado's
  request.  The patch version is updated.  The previous patchset caused the
  compilation to fail on virgin systems (ie, those without X already
  installed).  Thanks to Bret Towe (Magnade in #gentoo-dev), the problem is
  fixed (the parallel make patch was a little wonky).  I want to express my
  thanks to lu_zero for helping out with the ATi stuff, the lads in #gentoo
  and the forums, and the chix0rs in #linuxchics for testing this
  extensively and pointing out my mistakes.  Please note that for this
  ebuild, Xinerama extensions on DRI enabled Radeon displays is disabled.  I
  will get to try and fixing this (one of the crucial patches for Radeon
  users disables this) for the more advanced users.  Everyone else -- enjoy!
  Also added newest SiS driver. Note that patch version is now 1.1.0

  15 Apr 2003; Seemant Kulleen <seemant@gentoo.org> Manifest,
  xfree-4.3.0-r2.ebuild:
  moved fc-cache step to be the last font related stuff in postinst -- thanks to
  danarmak@gentoo.org <Dan Armak, king of KDE> for the fix

  14 Apr 2003; Seemant Kulleen <seemant@gentoo.org> Manifest,
  xfree-4.3.0-r2.ebuild:
  upgrade to patch 1.0.8, which includes the fix for radeon/rage cards crashing
  with kdm logout. bug 94 on xfree's bugzilla has the oneliner patch from
  daenzer. The other option, apparently, is to make kdm actually restart x.
  Also, the ebuild now builds xfree with xft2 support -- thanks to
  foser@gentoo.org

  13 Apr 2003; Seemant Kulleen <seemant@gentoo.org> Manifest,
  xfree-4.3.0-r2.ebuild:
  updated the PATCH to 1.0.7 -- the gb-xtt-enc patch (#063) was including header
  files from <X11/....> which indicates a need for a current installation of X.
  Ashmodai in #gentoo and Rroet in #gentoo-sparc discovered that it wouldn't
  compile on a system without X. Thanks to Ashmodai for testing the fix

  13 Apr 2003; Seemant Kulleen <seemant@gentoo.org> Manifest,
  xfree-4.3.0-r2.ebuild:
  Added patch 1.0.6 -- the gb stuff is now separated again, and more radeon
  patches from daenzer

  13 Apr 2003; Seemant Kulleen <seemant@gentoo.org> xfree-4.3.0-r2.ebuild :

  Removed the generating koi8 fonts section thanks to Azarah :).  Also,
  added patches for radeon: first one that mharris pointed me to (a patch by
  daenzer, which fixes an issue with xcursors and xinerama); and a few more
  by daenzer that I found in his directory: http://penguinppc.org/~daenzer.
  Hopefully, this takes care of the issue where X crashes after logging out
  with kdm (using a radeon with drm/glx)

  12 Apr 2003; Martin Schlemmer <azarah@gentoo.org> xfree-4.3.0-r2.ebuild,
  files/4.3.0/xfs.start :
  Add 'mkfontdirs' target for users that do not use xfs to be able to
  regenerate the font dirs.  Some small tweaks to the ebuild for corner
  cases.

  11 Apr 2003; Seemant Kulleen <seemant@gentoo.org> xfree-4.3.0-r2.ebuild :

  The patch version is now 1.0.5.  Some redhat patches were added (the
  trivial and notable one is the die-die-die patch, which gets rid of the
  ugly initial checkerboard screen when X starts).  Also, the gb0830 patches
  were combined.  In previous tarball versions I had to add patches to undo
  duplicate effects.  The duplicate and undo patches are removed.
  Additionally, related patches have been combined.  Next stop -- xfree-drm

  08 Apr 2003; Seemant Kulleen <seemant@gentoo.org> xfree-4.3.0-r2.ebuild,
  xfree-4.3.0.ebuild, xfree-4.3.0.ebuild:
  many fixes in this ebuild -- using the old keymaps from 4.2 to sort out the
  keymap situation. Added patches from Mandrake. Additionally, this uses
  Xwrapper so normal X binaries are not installed SUID. Added additional
  european fonts and asien fonts, and freetype encodings for X font server. The
  next -r version will have the ability to slim down the compile a little bit,
  and only install the drivers needed

  24 Mar 2003; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r2.ebuild,
                                                    xfree-4.3.0-r1.ebuild :
  Update SiS driver to version 210303-1, bug #18069.

  20 Mar 2003; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r2.ebuild :
  Unset MAKE_OPTS here as well, closing bug #17102

  10 Mar 2003; Martin Schlemmer <azarah@gentoo.org> xfree-4.3.0-r1.ebuild :
  Add back Drobbins's fix that was dropped by mistake.  Move DRI patch
  to X_PATCHES as this was what its intended for.  Remove fc-{cache,list}
  from /usr/X11R6/bin.

*xfree-4.3.0-r1 (09 Mar 2003)

  20 Mar 2003; Jason Wever <weeve@gentoo.org> xfree-4.3.0-r1.ebuild:
  Removed sparc kb patch as it breaks on xfree upgrades.

  20 Mar 2003; Jason Wever <weeve@gentoo.org> xfree-4.3.0-r1.ebuild,
  files/4.3.0-patches/XFree86-4.3.0-gentoo-sparc-kb.patch:
  Added XFree86-4.3.0-gentoo-sparc-kb.patch to fix the Ctrl+Alt+FKeys so that
  key sequence now works. Patch is applied after install.

  12 Mar 2003; Zach Welch <zwelch@gentoo.org> xfree-4.3.0-r1.ebuild:
  add arm keyword

  09 Mar 2003; Guy Martin <gmsoft@gentoo.org> xfree-4.3.0-r1.ebuild :
  Added ~hppa to keywords.

  09 Mar 2003; Seemant Kulleen <seemant@gentoo.org> xfree-4.3.0-r1.ebuild:
  added a patch for sparc keyboards from the xfree86 mailing list:
  http://www.mail-archive.com/devel%40xfree86.org/msg01156.html

  09 Mar 2003; Seemant Kulleen <seemant@gentoo.org> xfree-4.3.0-r1.ebuild:
  Luca Barbato <lu_zero@gentoo.org> added some fixes for radeon issues

  08 Mar 2003; Daniel Robbins <drobbins@gentoo.org> xfree-4.3.0.ebuild: unset
  MAKE_OPTS before "emake World," since MAKE_OPTS is an internal XFree86
  Makefile variable. If a user mistakenly defined MAKE_OPTS in /etc/make.conf
  (instead of MAKEOPTS,) then the build will silently die. Since this is hard
  to track down, I'm adding a preemptive fix to the ebuild.
  
  06 Mar 2003; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r2.ebuild :
  Fix savage driver unpacking in wrong dir, thanks to
  roma1390 <roma1390@uosis.mif.vu.lt>, bug #16794.

*xfree-4.3.0 (27 Feb 2003)

  15 Mar 2003; Mark Guertin <gerk@gentoo.org> xfree-4.3.0.ebuild:
  set ppc in keywords

  09 Mar 2003; Guy Martin <gmsoft@gentoo.org> xfree-4.3.0.ebuild :
  Patched for hppa (thanks to Stephane Wirtel for his help).
  Added hppa to keywords.

  27 Feb 2003; Mark Guertin <gerk@gentoo.org> xfree-4.3.0.ebuild files/4.3.0-patches/XFree86-4.3.0-enable-nv-on-ppc.patch :
  updated nv patch for 4.3.0

  27 Feb 2003; Seemant Kulleen <seemant@gentoo.org> xfree-4.3.0.ebuild	
  files/digest-xfree-4.3.0 files/4.3.0 :

  Version bump to newest release.

*xfree-4.2.99.902 (24 Feb 2003)

  24 Feb 2003; Seemant Kulleen <seemant@gentoo.org> xfree-4.2.99.902.ebuild
  files/digest-xfree-4.2.99.902 :

  Version bump to release candidate 3 for X-4.3

  23 Feb 2003; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r2.ebuild :

  Do not disable DRI for 3dfx cards if resolution higher than 1024x768,
  bug #15001.

  17 Feb 2003; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r2.ebuild :

  Add unzip to DEPEND, needed by new savage driver.  Closes bug #15831.

  16 Feb 2003; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r2.ebuild,
                                                    xfree-4.2.99.4.ebuild :

  Add a patch for HOME and END keys not working in xterm.  Should fix bugs
  #15254 and #15608.  Update savage driver in xfree-4.2.1-r2, fixing bug
  #14534.

  15 Feb 2003; Hannes Mehnert <hannes@gentoo.org> xfree-4.2.99.4.ebuild :

  bumped savage driver to 1.1.27t (prior versions do not work). also added
  dep on app-arch/unzip (because 1.1.27t is a .zip)

  09 Feb 2003; Luca Barbato <lu_zero@gentoo.org> :

  Added some warnings to avoid reports for already known issues.
  
  05 Feb 2003; Martin Schlemmer <azarah@gentoo.org> :

  Fix the /usr/lib/X11 symlink to point to the correct ../X11R6/lib/X11.
  Some ebuild had this still wrong.  This closes bug #15017.

  04 Feb 2003; Olivier Reisch <doctomoe@gentoo.org> xfree-4.2.99.4.ebuild :
  
  Temporarily set to -ppc as we had to mask the fontconfig dependency, which
  tends to break fonts on ppc unless you recompile everything depending on it.
  Still pondering what to do about it :)

  Later, same day, a bit wiser: set back to ~ppc, tell ppl to recompile qt
  and kdelibs.

*xfree-4.2.99.4 (02 Feb 2003)

  24 Feb 2003; Seemant Kulleen <seemant@gentoo.org> xfree-4.2.99.4.ebuild files/4.2.99.4-patches/4.2.99.4-enable-nv-on-ppc.patch :
  moved nv-on-ppc patch to proper location

  23 Feb 2003; Aron Griffis <agriffis@gentoo.org> xfree-4.2.99.4.ebuild :
  Fix minor error in the ebuild where "die" could be called from within
  a subshell.

  15 Feb 2003; Mark Guertin <gerk@gentoo.org> xfree-4.2.99.4.ebuild :
  added patch to enable nv driver on ppc, thanks DarkSpecter.

  02 Feb 2003; Seemant Kulleen <seemant@gentoo.org> xfree-4.2.99.4.ebuild
  files/digest-xfree-4.2.99.4 files/4.2.99.4/* files/4.2.99.4-patches/* :

  Updated to newest cvs frozen branch (4_2_99_4) Same patches are still applying
  Also, this will be permanently ~arch masked and removed from package mask.

*xfree-4.2.99.3-r2 (16 Jan 2003)

  16 Jan 2002; Seemant Kulleen <seemant@gentoo.org> xfree-4.2.99.3-r2.ebuild
  files/digest-xfree-4.2.99.3-r2 files/4.2.99.3-r2/* :

  new ebuild for updated snapshot.  this seems to be frozen code for the
  X_4_2_99_3 branch.

*xfree-4.2.99.3-r1 (23 Dec 2002)

  24 Dec 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r2.ebuild,
                                                    xfree-4.2.99.3-r1.ebuild :

  Do not let portage strip binaries and libraries, as then it stips the
  DRI modules, which breaks things.  Change 4.2.99.3-r1 to compile fontconfig,
  but then we just remove all fontconfig related stuff.  This should fix things
  for Seemant and others.

  23 Dec 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r2.ebuild,
                                                    xfree-4.2.99.3-r1.ebuild :

  Fix bug #12599 (type o in Xsession).
  Update trident patches to fix bug #10624 again.
  Fix check for $DEBUGBUILD to test for "yes" and not "true",
  fixing bug #12572.

  23 Dec 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.99.3-r1.ebuild :
  Some form fixes.  Added some patches back in, although I should verify some
  of the left out ones.  Fix to not build Xft2.0 and fontconfig .. we rather
  depend on fontconfig and PDEPEND on x11-libs/xft.  Get it to depend on
  fixed ttmkfdir.  Fix permissons on modules and drivers.  Some other things
  I forgot.

  16 Dec 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r2.ebuild :
  Fix /usr/lib/X11 symlink.

  13 Dec 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r2.ebuild :
  Update Xrender to that of fontconfig-2.1.  Update fontconfig dep to 2.1.
  Add glide-v3 to PDEPEND if '3dfx' in USE.

  09 Dec 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r2.ebuild :
  Also do not overwrite Xft headers if Xft2.0 are installed.

  06 Dec 2002; Rodney Rees <manson@gentoo.org> :
  Changed sparc ~sparc keywords.
 
*xfree-4.2.1-r2 (05 Dec 2002)

  06 Apr 2003; Christian Birchinger <joker@gentoo.org> xfree-4.2.1-r2.ebuild:
  Changed replace-flags for sparc

  09 Mar 2003; Seemant Kulleen <seemant@gentoo.org> xfree-4.2.1-r2.ebuild:
  URL fix for SIS driver, thanks to: Ingo <inku@kangaroo.at> in bug #17144

  30 Jan 2003; Jack Morgan <jmorgan@gentoo.org> xfree-4.2.1-r*.ebuild
  Added replace-flags "-mcpu=ultrasparc" "-mcpu=v8" as per bug #14126 
  Changed -sparc to sparc

  15 Jan 2002; Mark Guertin <gerk@gentoo.org> xfree-4.2.1-r2.ebuild :
  Removed patch 082 as it was the one breaking keycodes, set ppc in 
  keywords. See bug #13073

  11 Jan 2003; Jack Morgan <jmorgan@gentoo.org> xfree-4.2.1-r2.ebuild :
  Changed sparc back to -sparc as it breakes keymaps

  09 Jan 2003; Jack Morgan <jmorgan@gentoo.org> xfree-4.2.1-r2.ebuild :
  Changed ~sparc to sparc

  28 Dec 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r2.ebuild :
  XFree86 do not like CFLAGS="-Os", filter for this, bug #12775.

  26 Dec 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r2.ebuild :
  Mark stable for x86.

  26 Dec 2002; Martin Schlemmer <azarah@gentoo.org> 10xfree :
  Add CONFIG_PROTECT=/usr/X11R6/lib/X11/xkb in the hopes to fix bug #6862.

  25 Dec 2002; Martin Schlemmer <azarah@gentoo.org> xfs.start, xfs.config,
                                                    Xsession :

  Changes to xfs.start of xfree-4.2.1-r2:
  - Update to that of xfree-4.2.99.3-r1 where we only run fc-cache if
    something changed.
  Changes to xfs.start of xfree-4.2.1-r2 and xfree-4.2.99.3-r1:
  - Replace some code for xfs.start with awk versions to increase speed.
  - Fix a bug where it did not drop duplicate font directories.
  - Also consider changes to fonts.scale and encodings.dir as reason to
    re-index that font directory.
  Changes to xfs.config of xfree-4.2.1-r2 and xfree-4.2.99.3-r1:
  - Remove a duplicate font directory entry.
  Changes to Xsession of xfree-4.2.1-r2 and xfree-4.2.99.3-r1:
  - Change the shell to '/bin/bash --login' to at least for xdm fix
    the environment problem.

  05 Dec 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r2.ebuild :
  Basically cleanup 4.2.1-r1.
  - Resolve bug #10624 (Updated trident patch).
  - Resolve bug #10407 (XFree86 ebuild should include i830 1mb stolen mem patch).
  - Resolve bug #10227 (Xfree requires new SiS driver for Asus P4S533-VM
    Motherboard).
  - Add xfree-4.2.x.-bison.fixes.patch for future bison-1.50 support, resolving
    bug #11595.

  28 Nov 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r1.ebuild :
  Do not apply 35_all_4.2.0-tdfx-fix-compiler-warnings.patch.bz2, bug #10507.

  20 Nov 2002; Martin Schlemmer <azarah@gentoo.org> files/4.2.1-r1/site.def :
  Tweak to compile libs (for x86) and glx with -fPIC.

*xfree-4.2.99.3 (13 Nov 2002)

  21 Dec 2002; Seemant Kulleen <seemant@gentoo.org> :
  updated snapshot again -- sis fixes.  andee and lanalyst in #gentoo were
  invaluable for this ebuild, which is a lot better than before.  Many many
  many many many thanks to them :)

  11 Dec 2002; Seemant Kulleen <seemant@gentoo.org> :
  updated snapshot again -- ibm chipset updates, evidently.

  -7 Dec 2002; Seemant Kulleen <seemant@gentoo.org> :
  Updated snapshot and newer ft2

  15 Nov 2002; Seemant Kulleen <seemant@gentoo.org>
  files/4.2.99.3-patches/XFree86-4.2.99.3-no-optimize.patch.bz2 :
  Patches one file to not optimise on a gcc-3 system.  Submitted by MrGr1m
  in #gentoo

  13 Nov 2002; Seemant Kulleen <seemant@gentoo.org> xfree-4.2.99.3.ebuild
  files/digest-xfree-4.2.9.3 :
  New X snapshot from 20021113.  Not using the FT2 stuff externally, coz it
  crashes.

  7 Nov 2002; Martin Schlemmer <azarah@gentoo.org> startDM.sh :
  Source /etc/profile before starting the DM to fix bug #10190.

  5 Nov 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r1.ebuild :
  Fix backspace in xterm not working.  This closes bug #10186.
  Added patch 108_all_4.2.1-xterm-enable-backspace.patch.
  
  Fix xterm exiting immediately on PPC.  Closes bug #10245.
  Also see http://www.geocrawler.com/archives/3/3/2001/9/100/6633199/
  Added patch 109_ppc_4.2.1-xterm-eightBitInput-fix.patch.

  Fix unterminated bracket in xf86.h, closing bug #10271, thanks Gerk!
  Added patch 110_all_4.2.1-xf86_h-missing-bracket-fix.patch.

  4 Nov 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r1.ebuild :

  Do not apply 107_all_4.2.1-gcc32-internal-compiler-error.patch for
  gcc-2.95.3, as it cause compile to fail, closing bug #10146.

*xfree-4.2.1-r1 (3 Nov 2002)

  22 Jan 2003; Jason Wever <weeve@gentoo.org> xfree-4.2.1-r1.ebuild
  Changed ~sparc keyword to -sparc as it introduces keymapping problems
  not present in xfree-4.2.1-r0.

  3 Nov 2002; Martin Schlemmer <azarah@gentoo.org> :

  New version to address major problems we are having with 4.2.1.
  Ripped out Xft-1.2 (with fontconfig support), as it causes crashes
  with gcc3 at least.  Sync patches with Redhat/Mandrake again.  I
  will try to get behind the problem, but even with an unpatched
  Radeon driver, I cannot get DRI to work for the Radeon :(

  28 Oct 2002; J Robert Ray <jrray@jrray.org> xfree-4.2.1.ebuild :

  Allow unpriviliged user install, non-root fails to overwrite file
  with 0444 perms.

  28 Oct 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild,
                                                    xfs.start :
  
  Fix ebuild and xfs.start to only generate fonts.scale files if
  truetype fonts are present (bug #9714).  Optimize xfs.start a bit
  for speed.  Make xfree depend on ttmkfdir-2.0 rather.  Remove
  Tahoma font, as a Windows license is needed (bug #9486).

  Fix typeo in pkg_postinst().

  26 Oct 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Do not install zlib includes, as it conflicts with those of the real
  zlib package (bug #9470).

  25 Oct 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Update Savage and SIS drivers.  Fix my braindead bork with the savage
  driver getting the binary and not the source.

  21 Oct 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Update bit that applies Xft quality hack, and also fix patch to apply
  against 4.2.1.  This closes bug #9383.

  20 Oct 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Remove /usr/X11R6/lib/X11/fonts/encodings from /etc/X11/fs/config.
  Get the font stuff in pkg_postinst() sane.  This should fix bug #9357.
  Should also fix bug #9354 if you specify -e option to ttmkfdir.

  Update /etc/init.d/xfs to scan and index font dirs.

  13 Oct 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Add ttmkfdir2 to build.  This should close bug #6402.
  
  Add X-TrueType patches from Redhat.

  12 Oct 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Create /tmp/.{ICE,X11}-unix and fix permissions.  Also remove stupid
  delay if not correct permissions.  This should close bug #8281.

  11 Oct 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Update Xrender and Xft (to 1.1).  Also now uses fontconfig.

  30 Sep 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Move all the patches to ibiblio.

  19 Sep 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Reimplement patch scheme.  Add patch for Sparc PCI domains, should
  close bug #7790 (for sparc at least).

  14 Sep 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Do not install libz.a, as it have missing functions .. thanks Dan !
  (bug #4777).

  10 Sep 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Gcc3 related fixes.

*xfree-4.2.1 (8 Sep 2002):

  8 Sep 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  New version.  Lots of cleanups.  Freetype-2.1.2 added.
  
  Fix security issue with xterms; bug #2618 and #7630.

  Fix compile issues for the tdfx driver.  This should fix bug #3735, thanks
  to ideas from Ron Simpkin <ron@doobedoobedo.f2s.com>

  Use buildin zlib to fix segfaults, thanks to Brad Laue <brad@brad-x.com>.
  This closes bug #4777.

  Integrate MS corefonts the right way (tm), thanks to great work from
  Santiago Tabares <santi___@softhome.net>.  This should close bug #6980,
  and maybe also bug #6968 and #5722.

  Do not update the Wacom driver if kernel version 2.2 is in use.  This
  should fix bug #4152.

  Update the Savaga driver to try and fix bug #3531.

  25 Aug 2002; Dan Armak <danarmak@gentoo.org> files/4.2.0-r12/Xsetup_0  :

  Update the kdmrc location logic: look in /usr/kde/*, i.e. in all the
  directories that actually exist under /usr/kde, instead of hardcoding a
  list of possible locations.

  12 Aug 2002; Martin Schlemmer <azarah@gentoo.org> :
  Add XFree86-imake-tmpdir.patch, which should resolve bug #5736.

  11 Aug 2002; Martin Schlemmer <azarah@gentoo.org> :
  Add XFree86-4.2.0-r128-lockup.patch, which should resolve bug #4518.

  10 Aug 2002; Mark Guertin <gerk@gentoo.org> :
  Added ARCH check to -mmx/-no-mmx gcc 3.2 fix, not used
  on ppc (breaks build)

  8 aug 2002; Bart Verwilst <verwilst@gentoo.org> :

  Fixed gcc 3.x based compilation error (with -mmmx)

  29 Jul 2002; Martin Schlemmer <azarah@gentoo.org> :

  Fixes for gcc-3.x and also fixes that should resolve bug #5613.

  Update /etc/X11/xinit/xinitrc ($FILESDIR/4.2.0-r12/xinitrc) to point
  to the proper place for system wide resources.  Bug #5684.

  17 Jul 2002; Martin Schlemmer <azarah@gentoo.org> :

  Make sure the standard symlinks (/usr/include/X11, etc) will not be removed.

  15 Jul 2002; Owen Stampflee <owen@gentoo.org> :

  Added PPC to KEYWORDS.

  7 Jul 2002; Martin Schlemmer <azarah@gentoo.org> xdm.start :

  Resolve bug #4627.

  6 Jul 2002; Martin Schlemmer <azarah@gentoo.org> :

  Update the gcc-3.1 fix to also work for gcc-3.1.1.

  26 Jun 2002; Martin Schlemmer <azarah@gentoo.org> :

  Add "-fno-merge-constants" to OptimizedCDebugFlags if the gcc in use is
  not version 2.95.3.  This should resolve bug #4189.

  25 Jun 2002; Martin Schlemmer <azarah@gentoo.org> :

  Add XFree86-4.2.0-i810_i845_20020524.patch and XFree86-4.2.0-Suse-Updates.patch,
  adding Intel 845, and Neomagic XV support among things.  Also a lot of fixes
  from Suse.  The Suse patch is a bit big, but I rather do not want to
  change the ebuild since if the patches are missing, things should still
  work fine.  This should among things resolve bug #3823.

*xfree-4.2.0-r12 (8 Jun 2002)

  8 Jun 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r12.ebuild :

  Basically r11, but just new version to make sure we dont have some
  of the weird issues in past because of a masked revision being changed
  and then unmasked.

*xfree-4.2.0-r11 (28 May 2002)

  7 Jun 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r11.ebuild :

  Add Nvidia GeForce2Go support; bug #2732.  Fix gcc-3.1 compile problem
  thanks to Verwilst.

  6 Jun 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r11.ebuild :

  Update grep expression to determine if the "xfs" user exist in
  /etc/init.d/xfs; bug #3314.

  2 Jun 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r11.ebuild :

  Some more symlink cleanups.  Dont nuke the host.def, just filter our
  hardcoded CFLAGS.

  Fix /etc/X11/xdm/Xsession to first run ~/.xsession, rather then the system
  default (bug #2731).

  30 May 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r11.ebuild,
                                                    xfs.start, xfs.conf.d,
						    xfs.config :

  Fix the xfs port issue in a sane manner ... btw, what happned to the
  idea that changes should be added to the Changelog ?

  29 May 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r11.ebuild :

  Too much coffee, and too little sleep :P  Moved libGLU.* to /usr/lib where
  it should be.

  28 May 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r11.ebuild :

  New ebuild that adds lots of fixes and patches.  Should fix the Wacom
  issues (bug #1632).  Added patch for i810 DRI (bug #1870).  Add libGLU.so.
  Update Xsession to load resources (bug #2731).  Update freetype2 used;
  didnt make it use the system freetype2, as this could make things
  unstable (bug #3082).  Fix problems with PPC and mouse scrolling, thanks
  to Mark Guertin.

*xfree-4.2.0-r10 (10 Apr 2002)

  20 May 2002; Arcady Genkin <agenkin@thpoon.com>
	files/4.2.0-r10/xfs.config files/4.2.0-r10/xfs.start :

  Moved the XFS TCP port specification from the startup file into the
  config file.

  12 May 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r10.ebuild :

  Move opengl-update to its own ebuild for flexibility.  Add some 3dfx fixes.

  16 Apr 2002; Matthew Kennedy <mkennedy@gentoo.org>
  xfree-4.2.0-r9.ebuild, ChangeLog :

  Resolves bug 1833 for LFH2.2 (section 4.4) compliant
  symlinks. Thanks goes to pst@ican.at

  15 Apr 2002; Seemant Kulleen <seeamnt@gentoo.org> xfree-4.2.0-r9.ebuild :

  Changed the glide USE flag to 3dfx USE flag instead.

  7 Apr 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r9.ebuild :

  Fix a stray symlink in /.  Also moved libGL.a to /usr/lib/opengl/xfree/lib, as
  it caused compile problems for tuxracer, etc.  Fixed opengl-update to generate
  the /usr/lib/libGLcore.so symlinks for nvidia implementation.

*xfree-4.2.0-r9 (7 Apr 2002)

  20 May 2002; Arcady Genkin <agenkin@thpoon.com>
	files/4.2.0-r9/xfs.config files/4.2.0-r9/xfs.start :

  Moved the XFS TCP port specification from the startup file into the
  config file.

  7 Apr 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r9.ebuild,
                                                   files/4.2.0-r9/opengl-update :

  Update for dynamic libGL switching with nvidia drivers.

  4 Apr 2002; Seemant Kulleen <seemant@gentoo.org> files/4.2.0-r8/xdm :

  Update to RedHat's xdm configuration for PAM.

  4 Apr 2002; Seemant Kulleen <seemant@gentoo.org> files/4.2.0-r8/xdm :

  Update to use safer PAM modules.  Update courtesy of Sorcerer.

  24 Mar 2002; Dan Armak <danarmak@gentoo.org> :
  
  New Xsetup_0 that runs kdmdesktop when appropriate. This means kdm can now
  set the background properly.

  21 Mar 2002; Martin Schlemmer <azarah@gentoo.org> :

  Add gcc-3.x compile patch.  Also resolve the mkfontdir issue in
  pkg_postinst(), closing bug #996.

*xfree-4.2.0-r8 (15 Mar 2002)

  15 Mar 2002; Martin Schlemmer <azarah@gentoo.org> : New release to fix zlib
  security issue.

  06 Mar 2002; Martin Schlemmer <azarah@gentoo.org> : Updated /etc/init.d/xdm
  and /etc/X11/startDM.sh to fix startDM.sh being a respawning process when
  no DM is running.

*xfree-4.2.0-r7 (05 Mar 2002)

  05 Mar 2002; Daniel Robbins <drobbins@gentoo.org> : New release of xfree.
  Incorporated Xft quality fixes from http://www.cs.mcgill.ca/~dchest/xfthack/;
  added Azarah's startDM.sh script.
  
  28 Feb 2002; M.Schlemmer <azarah@gentoo.org> ${FILESDIR}/chooser.sh :

  Actually source /etc/conf.d/basic and /etc/rc.conf.

*xfree-4.2.0-r6 (24 Feb 2002)

  24 Feb 2002; M.Schlemmer <azarah@gentoo.org> xfree-4.2.0-r6.ebuild, and co :

  Lots of updates, started before the ChangeLog, so not sure of them all, but
  the major ones is here:  Added Voodoo3/4/5 support, and fixed the locale
  bug #794.

*xfree-4.2.0-r5 (1 Feb 2002)

  1 Feb 2002; G.Bevin <gbevin@gentoo.org> ChangeLog :
  
  Added initial ChangeLog which should be updated whenever the package is
  updated in any way. This changelog is targetted to users. This means that the
  comments should well explained and written in clean English. The details about
  writing correct changelogs are explained in the skel.ChangeLog file which you
  can find in the root directory of the portage repository.
