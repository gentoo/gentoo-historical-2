# ChangeLog for x11-base/xfree
# Copyright 2002 Gentoo Technologies, Inc.; Distributed under the GPL v2
# $Header: /var/cvsroot/gentoo-x86/x11-base/xfree/ChangeLog,v 1.75 2002/12/23 05:08:39 azarah Exp $

  23 Dec 2002; Martin Schlemmer <azarah@gentoo.org> :

  Fix bug #12599 (type o in Xsession).

*xfree-4.2.99.3-r1 (23 Dec 2002)

  23 Dec 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.99.3-r1.ebuild :

  Some form fixes.  Added some patches back in, although I should verify some
  of the left out ones.  Fix to not build Xft2.0 and fontconfig .. we rather
  depend on fontconfig and PDEPEND on x11-libs/xft.  Get it to depend on
  fixed ttmkfdir.  Fix permissons on modules and drivers.  Some other things
  I forgot.

  16 Dec 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r2.ebuild :

  Fix /usr/lib/X11 symlink.

  13 Dec 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r2.ebuild :

  Update Xrender to that of fontconfig-2.1.  Update fontconfig dep to 2.1.
  Add glide-v3 to PDEPEND if '3dfx' in USE.

  09 Dec 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r2.ebuild :

  Also do not overwrite Xft headers if Xft2.0 are installed.

  06 Dec 2002; Rodney Rees <manson@gentoo.org> :
  
  Changed sparc ~sparc keywords.
 
*xfree-4.2.1-r2 (05 Dec 2002)

  05 Dec 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r2.ebuild :

  Basically cleanup 4.2.1-r1.
  - Resolve bug #10624 (Updated trident patch).
  - Resolve bug #10407 (XFree86 ebuild should include i830 1mb stolen mem patch).
  - Resolve bug #10227 (Xfree requires new SiS driver for Asus P4S533-VM
    Motherboard).
  - Add xfree-4.2.x.-bison.fixes.patch for future bison-1.50 support, resolving
    bug #11595.

  28 Nov 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r1.ebuild :

  Do not apply 35_all_4.2.0-tdfx-fix-compiler-warnings.patch.bz2, bug #10507.

  20 Nov 2002; Martin Schlemmer <azarah@gentoo.org> files/4.2.1-r1/site.def :

  Tweak to compile libs (for x86) and glx with -fPIC.

*xfree-4.2.99.3 (13 Nov 2002)

  21 Dec 2002; Seemant Kulleen <seemant@gentoo.org> :

  updated snapshot again -- sis fixes.  andee and lanalyst in #gentoo were
  invaluable for this ebuild, which is a lot better than before.  Many many
  many many many thanks to them :)

  11 Dec 2002; Seemant Kulleen <seemant@gentoo.org> :

  updated snapshot again -- ibm chipset updates, evidently.

  -7 Dec 2002; Seemant Kulleen <seemant@gentoo.org> :

  Updated snapshot and newer ft2

  15 Nov 2002; Seemant Kulleen <seemant@gentoo.org>
  files/4.2.99.3-patches/XFree86-4.2.99.3-no-optimize.patch.bz2 :

  Patches one file to not optimise on a gcc-3 system.  Submitted by MrGr1m
  in #gentoo

  13 Nov 2002; Seemant Kulleen <seemant@gentoo.org> xfree-4.2.99.3.ebuild
  files/digest-xfree-4.2.9.3 :

  New X snapshot from 20021113.  Not using the FT2 stuff externally, coz it
  crashes.

  7 Nov 2002; Martin Schlemmer <azarah@gentoo.org> startDM.sh :

  Source /etc/profile before starting the DM to fix bug #10190.

  5 Nov 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r1.ebuild :

  Fix backspace in xterm not working.  This closes bug #10186.
  Added patch 108_all_4.2.1-xterm-enable-backspace.patch.
  
  Fix xterm exiting immediately on PPC.  Closes bug #10245.
  Also see http://www.geocrawler.com/archives/3/3/2001/9/100/6633199/
  Added patch 109_ppc_4.2.1-xterm-eightBitInput-fix.patch.

  Fix unterminated bracket in xf86.h, closing bug #10271, thanks Gerk!
  Added patch 110_all_4.2.1-xf86_h-missing-bracket-fix.patch.

  4 Nov 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1-r1.ebuild :

  Do not apply 107_all_4.2.1-gcc32-internal-compiler-error.patch for
  gcc-2.95.3, as it cause compile to fail, closing bug #10146.

*xfree-4.2.1-r1 (3 Nov 2002)

  3 Nov 2002; Martin Schlemmer <azarah@gentoo.org> :

  New version to address major problems we are having with 4.2.1.
  Ripped out Xft-1.2 (with fontconfig support), as it causes crashes
  with gcc3 at least.  Sync patches with Redhat/Mandrake again.  I
  will try to get behind the problem, but even with an unpatched
  Radeon driver, I cannot get DRI to work for the Radeon :(

  28 Oct 2002; J Robert Ray <jrray@jrray.org> xfree-4.2.1.ebuild :

  Allow unpriviliged user install, non-root fails to overwrite file
  with 0444 perms.

  28 Oct 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild,
                                                    xfs.start :
  
  Fix ebuild and xfs.start to only generate fonts.scale files if
  truetype fonts are present (bug #9714).  Optimize xfs.start a bit
  for speed.  Make xfree depend on ttmkfdir-2.0 rather.  Remove
  Tahoma font, as a Windows license is needed (bug #9486).

  Fix typeo in pkg_postinst().

  26 Oct 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Do not install zlib includes, as it conflicts with those of the real
  zlib package (bug #9470).

  25 Oct 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Update Savage and SIS drivers.  Fix my braindead bork with the savage
  driver getting the binary and not the source.

  21 Oct 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Update bit that applies Xft quality hack, and also fix patch to apply
  against 4.2.1.  This closes bug #9383.

  20 Oct 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Remove /usr/X11R6/lib/X11/fonts/encodings from /etc/X11/fs/config.
  Get the font stuff in pkg_postinst() sane.  This should fix bug #9357.
  Should also fix bug #9354 if you specify -e option to ttmkfdir.

  Update /etc/init.d/xfs to scan and index font dirs.

  13 Oct 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Add ttmkfdir2 to build.  This should close bug #6402.
  
  Add X-TrueType patches from Redhat.

  12 Oct 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Create /tmp/.{ICE,X11}-unix and fix permissions.  Also remove stupid
  delay if not correct permissions.  This should close bug #8281.

  11 Oct 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Update Xrender and Xft (to 1.1).  Also now uses fontconfig.

  30 Sep 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Move all the patches to ibiblio.

  19 Sep 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Reimplement patch scheme.  Add patch for Sparc PCI domains, should
  close bug #7790 (for sparc at least).

  14 Sep 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Do not install libz.a, as it have missing functions .. thanks Dan !
  (bug #4777).

  10 Sep 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  Gcc3 related fixes.

*xfree-4.2.1 (8 Sep 2002):

  8 Sep 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.1.ebuild :

  New version.  Lots of cleanups.  Freetype-2.1.2 added.
  
  Fix security issue with xterms; bug #2618 and #7630.

  Fix compile issues for the tdfx driver.  This should fix bug #3735, thanks
  to ideas from Ron Simpkin <ron@doobedoobedo.f2s.com>

  Use buildin zlib to fix segfaults, thanks to Brad Laue <brad@brad-x.com>.
  This closes bug #4777.

  Integrate MS corefonts the right way (tm), thanks to great work from
  Santiago Tabares <santi___@softhome.net>.  This should close bug #6980,
  and maybe also bug #6968 and #5722.

  Do not update the Wacom driver if kernel version 2.2 is in use.  This
  should fix bug #4152.

  Update the Savaga driver to try and fix bug #3531.

  25 Aug 2002; Dan Armak <danarmak@gentoo.org> files/4.2.0-r12/Xsetup_0  :

  Update the kdmrc location logic: look in /usr/kde/*, i.e. in all the
  directories that actually exist under /usr/kde, instead of hardcoding a
  list of possible locations.

  12 Aug 2002; Martin Schlemmer <azarah@gentoo.org> :
  Add XFree86-imake-tmpdir.patch, which should resolve bug #5736.

  11 Aug 2002; Martin Schlemmer <azarah@gentoo.org> :
  Add XFree86-4.2.0-r128-lockup.patch, which should resolve bug #4518.

  10 Aug 2002; Mark Guertin <gerk@gentoo.org> :
  Added ARCH check to -mmx/-no-mmx gcc 3.2 fix, not used
  on ppc (breaks build)

  8 aug 2002; Bart Verwilst <verwilst@gentoo.org> :

  Fixed gcc 3.x based compilation error (with -mmmx)

  29 Jul 2002; Martin Schlemmer <azarah@gentoo.org> :

  Fixes for gcc-3.x and also fixes that should resolve bug #5613.

  Update /etc/X11/xinit/xinitrc ($FILESDIR/4.2.0-r12/xinitrc) to point
  to the proper place for system wide resources.  Bug #5684.

  17 Jul 2002; Martin Schlemmer <azarah@gentoo.org> :

  Make sure the standard symlinks (/usr/include/X11, etc) will not be removed.

  15 Jul 2002; Owen Stampflee <owen@gentoo.org> :

  Added PPC to KEYWORDS.

  7 Jul 2002; Martin Schlemmer <azarah@gentoo.org> xdm.start :

  Resolve bug #4627.

  6 Jul 2002; Martin Schlemmer <azarah@gentoo.org> :

  Update the gcc-3.1 fix to also work for gcc-3.1.1.

  26 Jun 2002; Martin Schlemmer <azarah@gentoo.org> :

  Add "-fno-merge-constants" to OptimizedCDebugFlags if the gcc in use is
  not version 2.95.3.  This should resolve bug #4189.

  25 Jun 2002; Martin Schlemmer <azarah@gentoo.org> :

  Add XFree86-4.2.0-i810_i845_20020524.patch and XFree86-4.2.0-Suse-Updates.patch,
  adding Intel 845, and Neomagic XV support among things.  Also a lot of fixes
  from Suse.  The Suse patch is a bit big, but I rather do not want to
  change the ebuild since if the patches are missing, things should still
  work fine.  This should among things resolve bug #3823.

*xfree-4.2.0-r12 (8 Jun 2002)

  8 Jun 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r12.ebuild :

  Basically r11, but just new version to make sure we dont have some
  of the weird issues in past because of a masked revision being changed
  and then unmasked.

*xfree-4.2.0-r11 (28 May 2002)

  7 Jun 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r11.ebuild :

  Add Nvidia GeForce2Go support; bug #2732.  Fix gcc-3.1 compile problem
  thanks to Verwilst.

  6 Jun 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r11.ebuild :

  Update grep expression to determine if the "xfs" user exist in
  /etc/init.d/xfs; bug #3314.

  2 Jun 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r11.ebuild :

  Some more symlink cleanups.  Dont nuke the host.def, just filter our
  hardcoded CFLAGS.

  Fix /etc/X11/xdm/Xsession to first run ~/.xsession, rather then the system
  default (bug #2731).

  30 May 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r11.ebuild,
                                                    xfs.start, xfs.conf.d,
						    xfs.config :

  Fix the xfs port issue in a sane manner ... btw, what happned to the
  idea that changes should be added to the Changelog ?

  29 May 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r11.ebuild :

  Too much coffee, and too little sleep :P  Moved libGLU.* to /usr/lib where
  it should be.

  28 May 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r11.ebuild :

  New ebuild that adds lots of fixes and patches.  Should fix the Wacom
  issues (bug #1632).  Added patch for i810 DRI (bug #1870).  Add libGLU.so.
  Update Xsession to load resources (bug #2731).  Update freetype2 used;
  didnt make it use the system freetype2, as this could make things
  unstable (bug #3082).  Fix problems with PPC and mouse scrolling, thanks
  to Mark Guertin.

*xfree-4.2.0-r10 (10 Apr 2002)

  20 May 2002; Arcady Genkin <agenkin@thpoon.com>
	files/4.2.0-r10/xfs.config files/4.2.0-r10/xfs.start :

  Moved the XFS TCP port specification from the startup file into the
  config file.

  12 May 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r10.ebuild :

  Move opengl-update to its own ebuild for flexibility.  Add some 3dfx fixes.

  16 Apr 2002; Matthew Kennedy <mkennedy@gentoo.org>
  xfree-4.2.0-r9.ebuild, ChangeLog :

  Resolves bug 1833 for LFH2.2 (section 4.4) compliant
  symlinks. Thanks goes to pst@ican.at

  15 Apr 2002; Seemant Kulleen <seeamnt@gentoo.org> xfree-4.2.0-r9.ebuild :

  Changed the glide USE flag to 3dfx USE flag instead.

  7 Apr 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r9.ebuild :

  Fix a stray symlink in /.  Also moved libGL.a to /usr/lib/opengl/xfree/lib, as
  it caused compile problems for tuxracer, etc.  Fixed opengl-update to generate
  the /usr/lib/libGLcore.so symlinks for nvidia implementation.

*xfree-4.2.0-r9 (7 Apr 2002)

  20 May 2002; Arcady Genkin <agenkin@thpoon.com>
	files/4.2.0-r9/xfs.config files/4.2.0-r9/xfs.start :

  Moved the XFS TCP port specification from the startup file into the
  config file.

  7 Apr 2002; Martin Schlemmer <azarah@gentoo.org> xfree-4.2.0-r9.ebuild,
                                                   files/4.2.0-r9/opengl-update :

  Update for dynamic libGL switching with nvidia drivers.

  4 Apr 2002; Seemant Kulleen <seemant@gentoo.org> files/4.2.0-r8/xdm :

  Update to RedHat's xdm configuration for PAM.

  4 Apr 2002; Seemant Kulleen <seemant@gentoo.org> files/4.2.0-r8/xdm :

  Update to use safer PAM modules.  Update courtesy of Sorcerer.

  24 Mar 2002; Dan Armak <danarmak@gentoo.org> :
  
  New Xsetup_0 that runs kdmdesktop when appropriate. This means kdm can now
  set the background properly.

  21 Mar 2002; Martin Schlemmer <azarah@gentoo.org> :

  Add gcc-3.x compile patch.  Also resolve the mkfontdir issue in
  pkg_postinst(), closing bug #996.

*xfree-4.2.0-r8 (15 Mar 2002)

  15 Mar 2002; Martin Schlemmer <azarah@gentoo.org> : New release to fix zlib
  security issue.

  06 Mar 2002; Martin Schlemmer <azarah@gentoo.org> : Updated /etc/init.d/xdm
  and /etc/X11/startDM.sh to fix startDM.sh being a respawning process when
  no DM is running.

*xfree-4.2.0-r7 (05 Mar 2002)

  05 Mar 2002; Daniel Robbins <drobbins@gentoo.org> : New release of xfree.
  Incorporated Xft quality fixes from http://www.cs.mcgill.ca/~dchest/xfthack/;
  added Azarah's startDM.sh script.
  
  28 Feb 2002; M.Schlemmer <azarah@gentoo.org> ${FILESDIR}/chooser.sh :

  Actually source /etc/conf.d/basic and /etc/rc.conf.

*xfree-4.2.0-r6 (24 Feb 2002)

  24 Feb 2002; M.Schlemmer <azarah@gentoo.org> xfree-4.2.0-r6.ebuild, and co :

  Lots of updates, started before the ChangeLog, so not sure of them all, but
  the major ones is here:  Added Voodoo3/4/5 support, and fixed the locale
  bug #794.

*xfree-4.2.0-r5 (1 Feb 2002)

  1 Feb 2002; G.Bevin <gbevin@gentoo.org> ChangeLog :
  
  Added initial ChangeLog which should be updated whenever the package is
  updated in any way. This changelog is targetted to users. This means that the
  comments should well explained and written in clean English. The details about
  writing correct changelogs are explained in the skel.ChangeLog file which you
  can find in the root directory of the portage repository.
