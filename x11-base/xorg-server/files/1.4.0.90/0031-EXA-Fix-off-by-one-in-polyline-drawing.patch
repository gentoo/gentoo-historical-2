From 6afcf996cade0c9464d6af9b04b177b1de138cfd Mon Sep 17 00:00:00 2001
From: Pierre Willenbrock <pierre@pirsoft.dnsalias.org>
Date: Tue, 23 Oct 2007 16:45:13 +0200
Subject: [PATCH] EXA: Fix off-by-one in polyline drawing.
 (cherry picked from commit d502521c3669f3f22b94c39a64ab63bfd92c6a97)

---
 exa/exa_accel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/exa/exa_accel.c b/exa/exa_accel.c
index aed4e42..e8444c6 100644
--- a/exa/exa_accel.c
+++ b/exa/exa_accel.c
@@ -535,7 +535,7 @@ exaPolylines(DrawablePtr pDrawable, GCPtr pGC, int mode, int npt,
     x1 = ppt[0].x;
     y1 = ppt[0].y;
     /* If we have any non-horizontal/vertical, fall back. */
-    for (i = 0; i < npt; i++) {
+    for (i = 0; i < npt - 1; i++) {
 	if (mode == CoordModePrevious) {
 	    x2 = x1 + ppt[i + 1].x;
 	    y2 = y1 + ppt[i + 1].y;
-- 
1.5.5.1

