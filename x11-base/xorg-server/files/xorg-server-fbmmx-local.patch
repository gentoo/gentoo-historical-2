https://bugs.freedesktop.org/show_bug.cgi?id=4073

xorg-server compilation dies, 2 undefined symbols

diff -ur fb.orig/fbmmx.c fb/fbmmx.c
--- xorg-server-0.99.1/fb.orig/fbmmx.c	2005-08-13 20:37:45 +0000
+++ xorg-server-0.99.1/fb/fbmmx.c	2005-08-13 20:35:13 +0000
@@ -2315,7 +2315,7 @@
              "pop %%eax\n"
              "mov $0x0, %%edx\n"
              "xor %%ebx, %%eax\n"
-             "jz skip\n"
+             "jz 1f\n"
 
              "mov $0x00000000, %%eax\n"
              "cpuid\n"
@@ -2324,7 +2324,7 @@
              "mov %%ecx, %3\n"
              "mov $0x00000001, %%eax\n"
              "cpuid\n"
-             "skip:\n"
+             "1:\n"
              "pop %%ebx\n"
              "mov %%edx, %0\n"
              : "=r" (result), 
@@ -2355,10 +2355,10 @@
                     "cpuid\n"
                     "xor %%edx, %%edx\n"
                     "cmp $0x1, %%eax\n"
-                    "jge skip2\n"
+                    "jge 2f\n"
                     "mov $0x80000001, %%eax\n"
                     "cpuid\n"
-                    "skip2:\n"
+                    "2:\n"
                     "mov %%edx, %0\n"
                     "pop %%ebx\n"
                     : "=r" (result)
