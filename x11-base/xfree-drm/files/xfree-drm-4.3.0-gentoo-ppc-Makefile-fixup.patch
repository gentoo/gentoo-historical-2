--- modules/drm-trunk/Makefile.linux.orig	2003-02-08 17:26:19.000000000 +0000
+++ modules/drm-trunk/Makefile.linux	2003-02-08 17:27:34.000000000 +0000
@@ -38,7 +38,7 @@
 
 # **** End of SMP/MODVERSIONS detection
 
-MODS =		gamma.o tdfx.o r128.o radeon.o
+MODS =		r128.o radeon.o
 LIBS =
 
 DRMTEMPLATES =	drm_auth.h drm_bufs.h drm_context.h drm_dma.h drm_drawable.h \
@@ -148,12 +148,15 @@
 ifeq ($(AGP),1)
 MODCFLAGS += -DCONFIG_AGP -DCONFIG_AGP_MODULE
 DRMTEMPLATES += drm_agpsupport.h
-MODS += mga.o
 ifeq ($(MACHINE),i386)
+MODS += mga.o
+MODS += sis.o
 MODS += i810.o
 MODS += i830.o
 endif
 ifeq ($(MACHINE),i686)
+MODS += mga.o
+MODS += sis.o
 MODS += i810.o
 MODS += i830.o
 endif
@@ -173,7 +176,6 @@
 MODCFLAGS+=      -ffixed-8 -mno-fp-regs -mcpu=ev56 -Wa,-mev6 
 endif
 
-MODS += sis.o
 
 SISOBJS=	sis_drv.o sis_mm.o sis_ds.o 
 SISHEADERS=	sis_drv.h sis_drm.h $(DRMHEADERS)
@@ -278,5 +280,12 @@
 $(I830OBJS): $(I830HEADERS)
 endif
 
+install: $(MODS)
+	install -d -m 0755 $(DESTDIR)/lib/modules/$(KV)/kernel/drivers/char/drm
+	@for i in $(MODS); do \
+		install -m 0755 $$i $(DESTDIR)/lib/modules/$(KV)/kernel/drivers/char/drm; \
+	done
+
+
 clean cleandir::
 	rm -f *.o *.a *~ core
