diff -Nru ipp2p-0.8.2.orig/ipt_ipp2p.c ipp2p-0.8.2/ipt_ipp2p.c
--- ipp2p-0.8.2.orig/ipt_ipp2p.c	2006-09-27 12:52:00.000000000 +0300
+++ ipp2p-0.8.2/ipt_ipp2p.c	2007-01-14 18:26:23.000000000 +0200
@@ -843,15 +843,6 @@
 }
 									    
 
-// TODO: find out what this structure is for (scheme taken
-// from kernel sources)
-// content seems to have a length of 8 bytes 
-// (at least on my x86 machine)
-struct ipp2p_match_info {
-	long int dunno_what_this_is_for;
-	long int i_also_dunno_what_this_is_for;
-};
-
 static struct ipt_match ipp2p_match = { 
 #if LINUX_VERSION_CODE < KERNEL_VERSION(2,6,0)
 	{ NULL, NULL }, 
@@ -870,7 +861,7 @@
 	.name		= "ipp2p",
 	.match		= &match,
 	.family         = AF_INET,
-	.matchsize      = sizeof(struct ipp2p_match_info),
+	.matchsize      = XT_ALIGN(sizeof(struct ipt_p2p_info)),
 	.checkentry	= &checkentry,
 	.me		= THIS_MODULE,
 #endif
