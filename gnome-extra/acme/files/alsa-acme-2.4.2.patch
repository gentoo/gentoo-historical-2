--- acme-2.4.2-old/configure.in	2003-11-23 01:19:14.000000000 +0100
+++ acme-2.4.2/configure.in	2004-02-09 03:40:09.024954918 +0100
@@ -47,10 +47,24 @@
 AC_MSG_RESULT($have_oss)
 AM_CONDITIONAL(HAVE_OSS, test x"$have_oss" = "xyes")
 
+AC_ARG_ENABLE(alsa,
+	AC_HELP_STRING([--disable-alsa],[Turn off support for ALSA version 0.9 or higher]),
+	[case "${enableval}" in
+		yes) WANT_ALSA=yes ;;
+		no)  WANT_ALSA=no ;;
+		*) AC_MSG_ERROR(bad value ${enableval} for --enable-alsa) ;;
+	esac],
+	[WANT_ALSA=yes]) dnl Default value
+
 have_alsa=no
-PKG_CHECK_MODULES(ALSA, alsa >= 0.9.0,
-	have_alsa=yes,
-	AC_MSG_RESULT(*** All of ALSA dependent parts will be disabled ***))
+if test x$WANT_ALSA = xyes ; then
+	PKG_CHECK_MODULES(ALSA, alsa >= 0.9.0,
+		have_alsa=yes,
+		AC_MSG_RESULT(*** All of ALSA dependent parts will be disabled ***))
+else
+	have_alsa=no
+fi
+
 AM_CONDITIONAL(HAVE_ALSA, test x"$have_alsa" = "xyes")
 AC_SUBST(ALSA_LIBS)
 AC_SUBST(ALSA_CFLAGS)
