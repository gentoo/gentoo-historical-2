diff -NurdpB libgnomedb-2.99.3/Makefile.am libgnomedb-2.99.3-patched/Makefile.am
--- libgnomedb-2.99.3/Makefile.am	2007-01-23 06:34:22.000000000 -0500
+++ libgnomedb-2.99.3-patched/Makefile.am	2007-01-29 14:00:03.000000000 -0500
@@ -59,7 +59,7 @@ EXTRA_DIST = \
 	intltool-update.in \
 	mkinstalldirs
 
-pixmapdir=$(datadir)/pixmaps/libgnomedb
+pixmapdir=$(datadir)/pixmaps
 pixmap_DATA=gnome-db.png
 
 pkgconfigdir=$(libdir)/pkgconfig
diff -NurdpB libgnomedb-2.99.3/configure.in libgnomedb-2.99.3-patched/configure.in
--- libgnomedb-2.99.3/configure.in	2007-01-27 09:22:54.000000000 -0500
+++ libgnomedb-2.99.3-patched/configure.in	2007-01-29 13:04:43.000000000 -0500
@@ -377,13 +377,12 @@ libgnomedb.spec
 libgnomedb-3.0.pc
 libgnomedb-graph-3.0.pc
 control-center/Makefile
-control-center/database-properties.desktop
 data/Makefile
 data/libgnomedb.keys
 data/16x16/Makefile
 data/22x22/Makefile
 doc/Makefile
-doc/libgnomedb-C.omf
+doc/libgnomedb-3.0-C.omf
 doc/C/Makefile
 glade/Makefile
 glade3/Makefile
diff -NurdpB libgnomedb-2.99.3/control-center/Makefile.am libgnomedb-2.99.3-patched/control-center/Makefile.am
--- libgnomedb-2.99.3/control-center/Makefile.am	2007-01-23 06:34:19.000000000 -0500
+++ libgnomedb-2.99.3-patched/control-center/Makefile.am	2007-01-29 14:00:52.000000000 -0500
@@ -1,4 +1,4 @@
-bin_PROGRAMS=gnome-database-properties
+bin_PROGRAMS=gnome-database-properties-3.0
 
 AM_CPPFLAGS = \
         -I$(top_srcdir) \
@@ -18,7 +18,7 @@ AM_CPPFLAGS = \
         -DDATADIR=\""$(datadir)"\" \
         -DLIBDIR=\""$(libdir)"\"
 
-gnome_database_properties_SOURCES=\
+gnome_database_properties_3_0_SOURCES=\
 	dsn-config.c \
 	dsn-config.h \
 	dsn-properties-dialog.c \
@@ -26,7 +26,7 @@ gnome_database_properties_SOURCES=\
 	main.c \
 	provider-config.c \
 	provider-config.h
-gnome_database_properties_LDADD=\
+gnome_database_properties_3_0_LDADD=\
 	$(LIBGNOMEDB_LIBS) \
 	$(top_builddir)/libgnomedb/libgnomedb-3.la \
 	$(top_builddir)/libgnomedb/data-entries/libgnomedb_handlers-3.la 
@@ -34,7 +34,7 @@ gnome_database_properties_LDADD=\
 @INTLTOOL_DESKTOP_RULE@
 
 desktopdir=$(datadir)/applications
-Desktop_in_files = database-properties.desktop.in
+Desktop_in_files = database-properties-3.0.desktop.in
 desktop_DATA = $(Desktop_in_files:.desktop.in=.desktop)
 
 EXTRA_DIST = $(Desktop_in_files) 
diff -NurdpB libgnomedb-2.99.3/control-center/database-properties.desktop.in libgnomedb-2.99.3-patched/control-center/database-properties.desktop.in
--- libgnomedb-2.99.3/control-center/database-properties.desktop.in	2007-01-12 17:28:48.000000000 -0500
+++ libgnomedb-2.99.3-patched/control-center/database-properties.desktop.in	2007-01-29 14:00:17.000000000 -0500
@@ -1,8 +1,8 @@
 [Desktop Entry]
-_Name=Database Access Properties 
+_Name=Database Access Properties
 _Comment=Configure your database environment
-Icon=libgnomedb/gnome-db.png
-Exec=gnome-database-properties
+Icon=gnome-db
+Exec=gnome-database-properties-3.0
 Terminal=0
 Type=Application
 Categories=Application;Settings;AdvancedSettings;
diff -NurdpB libgnomedb-2.99.3/data/Makefile.am libgnomedb-2.99.3-patched/data/Makefile.am
--- libgnomedb-2.99.3/data/Makefile.am	2007-01-23 06:38:06.000000000 -0500
+++ libgnomedb-2.99.3-patched/data/Makefile.am	2007-01-29 13:04:43.000000000 -0500
@@ -16,7 +16,7 @@ SUBDIRS = $(glade3_directory_16) $(glade
 
 # GConf schemas
 schemadir   = $(GCONF_SCHEMA_FILE_DIR)
-schema_DATA = libgnomedb.schemas
+schema_DATA = libgnomedb-3.0.schemas
 
 @INTLTOOL_SCHEMAS_RULE@
 
@@ -28,7 +28,7 @@ install-data-local:
 endif
 
 # Pixmaps
-pixmapdir=$(datadir)/pixmaps/libgnomedb
+pixmapdir=$(datadir)/pixmaps/libgnomedb-3.0
 pixmap_DATA= \
 	gnome-db-aggregates_16x16.png \
 	gnome-db-aggregates_24x24.png \
@@ -65,8 +65,10 @@ pixmap_DATA= \
 	gnome-db-console_48x48.png
 
 # MIME data
-Mimedir = $(datadir)/mime-info
-Mime_DATA = libgnomedb.keys libgnomedb.mime
+# Don't install these, since they clash with files from libgnomedb-1.2.x and
+# should be replaced by following the new shared-mime-info spec.
+#Mimedir = $(datadir)/mime-info
+#Mime_DATA = libgnomedb.keys libgnomedb.mime
 
 # other
 xmldir = $(datadir)/gnome-db
@@ -77,11 +79,11 @@ keys_files = $(keys_in_files:.keys.in=.k
 @INTLTOOL_KEYS_RULE@
 
 EXTRA_DIST = \
-	libgnomedb.schemas.in \
+	libgnomedb-3.0.schemas.in \
 	$(pixmap_DATA) \
 	libgnomedb.keys.in \
 	libgnomedb.mime \
 	import_encodings.xml \
 	server_operation.glade
 
-CLEANFILES = libgnomedb.keys libgnomedb.schemas
+CLEANFILES = libgnomedb.keys libgnomedb-3.0.schemas
diff -NurdpB libgnomedb-2.99.3/doc/C/Makefile.am libgnomedb-2.99.3-patched/doc/C/Makefile.am
--- libgnomedb-2.99.3/doc/C/Makefile.am	2007-01-27 09:08:27.000000000 -0500
+++ libgnomedb-2.99.3-patched/doc/C/Makefile.am	2007-01-29 13:04:43.000000000 -0500
@@ -3,7 +3,7 @@
 AUTOMAKE_OPTIONS = 1.6
 
 # The name of the module.
-DOC_MODULE=libgnomedb
+DOC_MODULE=libgnomedb-3.0
 
 # The top-level SGML file.
 DOC_MAIN_SGML_FILE=$(DOC_MODULE)-docs.sgml
diff -NurdpB libgnomedb-2.99.3/doc/Makefile.am libgnomedb-2.99.3-patched/doc/Makefile.am
--- libgnomedb-2.99.3/doc/Makefile.am	2007-01-12 17:28:54.000000000 -0500
+++ libgnomedb-2.99.3-patched/doc/Makefile.am	2007-01-29 13:04:43.000000000 -0500
@@ -19,4 +19,4 @@ uninstall-local:
 	-scrollkeeper-update -p $(scrollkeeper_localstate_dir)
 
 EXTRA_DIST = \
-	libgnomedb-C.omf.in
+	libgnomedb-3.0-C.omf.in
diff -NurdpB libgnomedb-2.99.3/doc/libgnomedb-C.omf.in libgnomedb-2.99.3-patched/doc/libgnomedb-C.omf.in
--- libgnomedb-2.99.3/doc/libgnomedb-C.omf.in	2007-01-12 17:28:54.000000000 -0500
+++ libgnomedb-2.99.3-patched/doc/libgnomedb-C.omf.in	2007-01-29 13:04:43.000000000 -0500
@@ -15,7 +15,7 @@
     </description>
     <type>user's guide</type>
     <format mime="text/html"/>
-    <identifier url="file:/@prefix@/share/gtk-doc/html/libgnomedb/index.html"/>
+    <identifier url="file:/@prefix@/share/gtk-doc/html/libgnomedb-3.0/index.html"/>
     <language code="C"/>
     <relation seriesid="0c3a2de2-d4ca-11d6-8994-cd3caececda4"/>
     <rights type="GNU FDL" license.version="1.1"/>
diff -NurdpB libgnomedb-2.99.3/glade/Makefile.am libgnomedb-2.99.3-patched/glade/Makefile.am
--- libgnomedb-2.99.3/glade/Makefile.am	2007-01-23 06:34:22.000000000 -0500
+++ libgnomedb-2.99.3-patched/glade/Makefile.am	2007-01-29 13:05:22.000000000 -0500
@@ -8,14 +8,14 @@ AM_CPPFLAGS = \
 	$(LIBGLADE_CFLAGS)
 
 glademoduledir = $(libdir)/libglade/2.0
-glademodule_LTLIBRARIES = libgnomedb.la
+glademodule_LTLIBRARIES = libgnomedb-3.0.la
 
-libgnomedb_la_LIBADD = \
+libgnomedb_3_0_la_LIBADD = \
 	$(top_builddir)/libgnomedb/libgnomedb-3.la	\
 	$(LIBGNOMEDB_LIBS) $(LIBGLADE_LIBS)
 
-libgnomedb_la_LDFLAGS = \
+libgnomedb_3_0_la_LDFLAGS = \
 	-export-dynamic -module -avoid-version $(NO_UNDEFINED)
 
-libgnomedb_la_SOURCES = \
+libgnomedb_3_0_la_SOURCES = \
 	glade-gnomedb.c
diff -NurdpB libgnomedb-2.99.3/libgnomedb/Makefile.am libgnomedb-2.99.3-patched/libgnomedb/Makefile.am
--- libgnomedb-2.99.3/libgnomedb/Makefile.am	2007-01-27 09:08:23.000000000 -0500
+++ libgnomedb-2.99.3-patched/libgnomedb/Makefile.am	2007-01-29 13:04:43.000000000 -0500
@@ -9,7 +9,7 @@ AM_CPPFLAGS = \
 	$(GTKSOURCEVIEW_CFLAGS) \
 	$(LIBGLADE_CFLAGS) \
 	$(GCONF_CFLAGS) \
-	-DLIBGNOMEDB_ICONSDIR=\""$(datadir)/pixmaps/libgnomedb"\" \
+	-DLIBGNOMEDB_ICONSDIR=\""$(datadir)/pixmaps/libgnomedb-3.0"\" \
 	-DLIBGNOMEDB_DATADIR=\""$(datadir)/gnome-db"\" \
 	-DLIBGNOMEDB_LOCALEDIR=\""$(datadir)/locale"\" \
 	-DLIBGNOMEDB_UIDIR=\""$(datadir)/gnome-db/ui"\" \
