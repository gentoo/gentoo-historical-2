--- Makefile.orig	2002-05-29 20:04:00.000000000 +0200
+++ Makefile	2002-05-29 20:28:16.000000000 +0200
@@ -103,22 +103,21 @@
 	@$(MAKE) real-install LIBDIR=$(LIBDIR)
 
 real-install:
-	if test -d $(INSTALLDIR); then : ; else mkdir -p $(INSTALLDIR); fi
-	if test `grep -s -c '^$(INSTALLDIR)$$' $(LIBDIR)/ld.conf || :` = 0; \
-	then echo $(INSTALLDIR) >> $(LIBDIR)/ld.conf; fi
-	cp $(MLOBJS:.cmo=.cmi) $(INSTALLDIR)
-	cp $(MLOBJS:.cmo=.mli) $(INSTALLDIR)
-	cp liblablgl.a lablgl.cma libtogl.a togl.cma $(INSTALLDIR)
-	cp lablgltop $(INSTALLDIR)
-	cp lablgl $(BINDIR)
+	mkdir -p $(DESTDIR)$(INSTALLDIR)
+	mkdir -p $(DESTDIR)$(BINDIR)
+	cp $(MLOBJS:.cmo=.cmi) $(DESTDIR)$(INSTALLDIR)
+	cp $(MLOBJS:.cmo=.mli) $(DESTDIR)$(INSTALLDIR)
+	cp liblablgl.a lablgl.cma libtogl.a togl.cma $(DESTDIR)$(INSTALLDIR)
+	cp lablgltop $(DESTDIR)$(INSTALLDIR)
+	cp lablgl $(DESTDIR)$(BINDIR)
 	@if test -f dlllablgl.so; then $(MAKE) installdll; fi
 	@if test -f lablgl.cmxa; then $(MAKE) installopt LIBDIR=$(LIBDIR); fi
 
 installdll:
-	cp dlllablgl.so dlltogl.so $(INSTALLDIR)
+	cp dlllablgl.so dlltogl.so $(DESTDIR)$(INSTALLDIR)
 
 installopt:
-	cp lablgl.cmxa lablgl.a togl.cmxa togl.a $(MLOBJS:.cmo=.cmx) $(INSTALLDIR)
+	cp lablgl.cmxa lablgl.a togl.cmxa togl.a $(MLOBJS:.cmo=.cmx) $(DESTDIR)$(INSTALLDIR)
 
 clean:
 	rm -f *.cm* *.a *.o *.opt *_tags.c *_tags.h *~ \
