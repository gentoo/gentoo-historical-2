--- Makefile.orig	2006-01-25 16:25:45.000000000 -0500
+++ Makefile	2006-01-25 16:28:04.000000000 -0500
@@ -19,7 +19,7 @@
 	@if test ! -d $(prefix) ; \
 	then \
 	    echo "Creating $(prefix)..." ; \
-	    $(call mkdir,$(prefix)) ; \
+		 mkdir -p $(prefix) ; \
 	fi
 
 	@for subdir in $(INSTALL_SUBDIRS); \
@@ -47,8 +47,8 @@
 	then \
 	    ( cd doc && $(MAKE) install ) || exit 1 ; \
 	fi
-	$(call installdata,ICE_LICENSE,$(prefix))
-	$(call installdata,LICENSE,$(prefix))
+	$(call installdata,ICE_LICENSE,$(install_docdir))
+	$(call installdata,LICENSE,$(install_docdir))
 
 clean::
 	@if test -d doc ; \
--- config/Make.rules.old	2006-10-16 09:05:48.000000000 -0400
+++ config/Make.rules	2006-10-16 09:07:30.000000000 -0400
@@ -11,7 +11,7 @@
 # Select an installation base directory. The directory will be created
 # if it does not exist.
 #
-prefix			 ?= /opt/Ice-$(VERSION)
+prefix			 ?= $(DESTDIR)/usr
 
 #
 # The "root directory" for runpath embedded in executables. Can be unset
@@ -125,9 +125,9 @@
 install_bindir		= $(prefix)/bin
 
 install_includedir	= $(prefix)/include
-install_slicedir	= $(prefix)/slice
-install_schemadir	= $(prefix)/schema
-install_docdir		= $(prefix)/doc
+install_slicedir	= $(prefix)/share/ice-$(VERSION)/slice
+install_schemadir	= $(prefix)/share/ice-$(VERSION)/schema
+install_docdir		= $(prefix)/share/doc/ice-$(VERSION)
 
 INSTALL			= cp -fp
 INSTALL_PROGRAM		= ${INSTALL}
@@ -179,8 +179,8 @@
 BZIP2_LIBS              = $(if $(BZIP2_HOME),-L$(BZIP2_HOME)/$(libsubdir)) -lbz2
 BZIP2_RPATH_LINK        = $(if $(BZIP2_HOME),$(call rpathlink,$(BZIP2_HOME)/$(libsubdir)))
 
-DB_FLAGS                = $(if $(DB_HOME),-I$(DB_HOME)/include)
-DB_LIBS                 = $(if $(DB_HOME),-L$(DB_HOME)/$(libsubdir)) -ldb_cxx
+DB_FLAGS                = -I/usr/include/db4.3
+DB_LIBS                 = -ldb_cxx-4.3
 DB_RPATH_LINK           = $(if $(DB_HOME),$(call rpathlink,$(DB_HOME)/$(libsubdir)))
 
 EXPAT_FLAGS             = $(if $(EXPAT_HOME),-I$(EXPAT_HOME)/include)
--- config/Make.rules.orig	2006-10-16 09:23:27.000000000 -0400
+++ config/Make.rules	2006-10-16 09:23:34.000000000 -0400
@@ -17,7 +17,7 @@
 # The "root directory" for runpath embedded in executables. Can be unset
 # to avoid adding a runpath to Ice executables.
 #
-embedded_runpath_prefix  ?= /opt/Ice-$(VERSION_MAJOR).$(VERSION_MINOR)
+#embedded_runpath_prefix  ?= /opt/Ice-$(VERSION_MAJOR).$(VERSION_MINOR)
 
 #
 # Define OPTIMIZE as yes if you want to build with
