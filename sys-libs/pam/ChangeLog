# ChangeLog for sys-libs/pam
# Copyright 2002-2005 Gentoo Foundation; Distributed under the GPL v2
# $Header: /var/cvsroot/gentoo-x86/sys-libs/pam/ChangeLog,v 1.63 2005/02/25 20:31:28 azarah Exp $

*pam-0.78 (25 Feb 2005)

  25 Feb 2005; Martin Schlemmer <azarah@gentoo.org>
  files/README.pam_console, +files/pam.d/other, +files/pam.d/system-auth,
  +pam-0.78.ebuild:
  Add patch from bug #80566 (by Mark Loeser <halcyon@whiterapid.com>). Added
  workaround from bug #80604 (by Roland Bar <roland@pinguin.tv>). Force
  locales to default, bug #70471 (by Alessandro Guido <devnull@box.it>). Fix
  sound perms on pam_console_reset, bug #55305. Add patch for bug #62059 (by
  Jason Fritcher <jkf@wolfnet.org>). Add pam_chroot, pam_console and
  pam_timestamp USE flags for these optional modules

*pam-0.77-r7 (04 Feb 2005)

  04 Feb 2005; Martin Schlemmer <azarah@gentoo.org> +pam-0.77-r7.ebuild:
  Update static patches to not reference /usr/lib, etc directly.

*pam-0.77-r6 (03 Feb 2005)

  03 Feb 2005; Martin Schlemmer <azarah@gentoo.org> +pam-0.77-r6.ebuild:
  Fix missing '|| die' at the patch section.  Fix patch not applying.

*pam-0.77-r5 (02 Feb 2005)

  02 Feb 2005; Martin Schlemmer <azarah@gentoo.org> +pam-0.77-r5.ebuild:
  Fix permission borkage, bug #74040 (added to stable for all, as its a
  serious bug), thanks to Ulrich Mueller <ulm@kph.uni-mainz.de>.

*pam-0.77-r4 (13 Dec 2004)

  13 Dec 2004; Martin Schlemmer <azarah@gentoo.org> files/pam_env.conf,
  +pam-0.77-r4.ebuild:
  Fix DISPLAY not set for ssh -X.

*pam-0.77-r3 (08 Nov 2004)

  08 Nov 2004; Martin Schlemmer <azarah@gentoo.org> +files/pam_env.conf,
  +pam-0.77-r1.ebuild, +pam-0.77-r3.ebuild:
  Install again pam.d files for rexec, rlogin and rsh. Update
  /etc/security/pam_env.conf to allow su to export DISPLAY and XAUTHORITY if
  needed, bug #69925.

*pam-0.77-r2 (31 Oct 2004)

  31 Oct 2004; Martin Schlemmer <azarah@gentoo.org>
  +files/pam-0.77-console-reset.patch, +pam-0.77-r2.ebuild, pam-0.77.ebuild:
  Fix pam_console_apply -r segfaulting if a group used in
  /etc/security/console.perms are missing, bug #50315

  01 Sep 2004; Travis Tilley <lv@gentoo.org> pam-0.77-r1.ebuild:
  made pam use $(get_libdir) for installing to lib64/lib32

  13 Aug 2004; Robin H. Johnson <robbat2@gentoo.org> pam-0.77-r1.ebuild:
  fix bug #58626, need a newer autoconf.

  30 Jun 2004; Aron Griffis <agriffis@gentoo.org> pam-0.77-r1.ebuild:
  stable on alpha and ia64

  27 Jun 2004; Aron Griffis <agriffis@gentoo.org> pam-0.75-r10.ebuild,
  pam-0.75-r11.ebuild, pam-0.75-r7.ebuild, pam-0.75-r8.ebuild,
  pam-0.75-r9.ebuild, pam-0.77-r1.ebuild, pam-0.77.ebuild:
  QA - fix use invocation

  02 Jun 2004; Travis Tilley <lv@gentoo.org> pam-0.77-r1.ebuild:
  stable on amd64

  12 May 2004; Alexander Gabert <pappy@gentoo.org> pam-0.75-r11.ebuild:
  changed hardened-gcc logic to use flag logic

  26 Apr 2004; Michael McCabe <randy@gentoo.org> pam-0.77-r1.ebuild:
  Marked stable on s390

  16 Apr 2004; Michael Sterrett <mr_bones_@gentoo.org> pam-0.75-r11.ebuild:
  move inherit to the right place

*pam-0.77-r1 (26 Mar 2004)

  26 Mar 2004; Paul de Vrieze <pauldv@gentoo.org> pam-0.77-r1.ebuild:
  Fix pam_userdb building

  09 Mar 2004; <agriffis@gentoo.org> pam-0.77.ebuild:
  stable on alpha and ia64

  07 Mar 2004; Joshua Kinard <kumba@gentoo.org> pam-0.77.ebuild:
  Marked stable on mips.

  09 Feb 2004; <gustavoz@gentoo.org> pam-0.77.ebuild:
  stable on sparc

  09 Feb 2004; Guy Martin <gmsoft@gentoo.org> pam-0.75-r11.ebuild,
  pam-0.77.ebuild:
  Marked stable on hppa. Removed arm keywords to commit.

  06 Feb 2004; Martin Schlemmer <azarah@gentoo.org> pam-0.77.ebuild:
  Bump to stable for x86.

  03 Feb 2004; Bartosch Pixa <darkspecter@gentoo.org> pam-0.77.ebuild:
  set ppc in keywords

  18 Jan 2004; Chris PeBenito <pebenito@gentoo.org> pam-0.77.ebuild:
  Fix SELinux patch so that it compiles correctly on a system that does not have
  a prexisting PAM install.

  22 Dec 2003; Joshua Kinard <kumba@gentoo.org> pam-0.77.ebuild:
  Added a small gnuconfig block to the berkdb build bit, because pam-0.77 pulls in
  db-4.1.x in most cases, and 4.1.x can't detect a mips64 system properly.

  21 Dec 2003; Brad House <brad_mssw@gentoo.org> pam-0.77.ebuild:
  mark stable on amd64

  15 Dec 2003; Martin Schlemmer <azarah@gentoo.org> pam-0.77.ebuild:
  Mark unstable for all.

  09 Dec 2003; Chris PeBenito <pebenito@gentoo.org> pam-0.77.ebuild:
  Update SELinux patch in patch tarball.

  10 Nov 2003; Martin Schlemmer <azarah@gentoo.org> pam-0.77.ebuild:
  Add a 'return 0' to pkg_setup() to make sure it returns the correct value.

*pam-0.77 (10 Nov 2003)

  10 Nov 2003; Martin Schlemmer <azarah@gentoo.org> pam-0.77.ebuild:
  New version. The bulk of the work was done by Donny Davies
  <woodchip@gentoo.org>.  I just added all the gentoo patches, as well
  as made the db stuff link to our own version of db, and not ndbm. I
  also (in gentoo patches) made pam_pwdb, pam_radius and pam_crack link
  to static versions of libraries, and split new pwdb as an new version
  of our existing sys-libs/pwdb.  Other cleanups.

  28 Oct 2003; Chris PeBenito <pebenito@gentoo.org> pam-0.75-r11.ebuild,
  files/pam-0.75-selinux.diff.bz2:
  Add new API SELinux patch

  08 Oct 2003; Alexander Gabert <pappy@gentoo.org> pam-0.75-r11.ebuild:
  added hardened-gcc lcrypt dependency again

  11 Aug 2003; Luke-Jr <luke-jr@gentoo.org> pam-0.75-r10.ebuild,
  pam-0.75-r11.ebuild, pam-0.75-r7.ebuild, pam-0.75-r8.ebuild,
  pam-0.75-r9.ebuild:
  Changed LICENSE to "BSD | GPL-2"

  01 Jul 2003; Olivier Crete <tester@tester.ca> pam-0.75-r11.ebuild:
  Configure finds db4

  18 May 2003; Tavis Ormandy <taviso@gentoo.org> pam-0.75-r11.ebuild:
  If glib was compiled with ccc, we need -lots.

  20 Feb 2003; Zach Welch <zwelch@gentoo.org> pam-0.75-r11.ebuild :
  Added arm to keywords.

  09 Feb 2003; Guy Martin <gmsoft@gentoo.org> pam-0.75-r11.ebuild :
  Added hppa to keywords.

  08 Jan 2003; Martin Schlemmer <azarah@gentoo.org> pam-0.75-r11.ebuild :
  Mark stable.

*pam-0.75-r11 (25 Dec 2002)

  15 Mar 2003; Jan Seidel <tuxus@gentoo.org> :
  Added mips to KEYWORDS

  07 Jan 2003; Martin Holzer <mholzer@gentoo.org> pam-0.75-r11.ebuild :
  Corrected Homepage.

  25 Dec 2002; Martin Schlemmer <azarah@gentoo.org> pam-0.75-r11.ebuild :

  Add pam-0.75-pam_console_apply-use-correct-device.patch.bz2 to fix a
  problem where pam_console_apply and co did not use the correct device
  if devfsd was not used, closing bug #12207.  The patch was created by
  Sam Yates <sam@quux.dropbear.id.au>.

  16 Dec 2002; Martin Schlemmer <azarah@gentoo.org> pam-0.75-r10.ebuild :

  Change DEPEND to only depend on db3 or greater, per request from Donny ...
  this is for db4 support in future ...

  06 Dec 2002; Rodney Rees <manson@gentoo.org> : changed sparc ~sparc keywords
 
  05 Dec 2002; Martin Schlemmer <azarah@gentoo.org> pam-0.75-r10.ebuild :

  Fix bison syntax for bison-1.50 or later, thanks to Redhat.  Added
  pam-0.75-pam_console-bison.fixes.patch for this.

  26 Oct 2002; Martin Schlemmer <azarah@gentoo.org> pam-0.75-r10.ebuild :

  Add pam-0.75-pam_userdb-use-db3.patch to get pam_userdb to link to
  db3 or db4 if present, rather than libndbm, as that causes unresolved
  symbols.

*pam-0.75-r10 (26 Oct 2002)

  26 Oct 2002; Martin Schlemmer <azarah@gentoo.org> pam-0.75-r10.ebuild :

  Generate the linker scripts in /usr/lib to fix bug #4411.

*pam-0.75-r9 (24 Oct 2002)

  18 Jan 2003; Jan Seidel <tuxus@gentoo.org> :
  Added mips to keywords

  24 Oct 2002; Martin Schlemmer <azarah@gentoo.org> pam-0.75-r9.ebuild :

  Another snag in the problem with gcc3 linking static libs in /usr/lib
  before dynamic ones in /lib (bug #4411).  Seems like c++ stuff do not
  link properly with libpam.so, but rather with libpam.a, and as pam
  must be dynamic to load its modules, it breaks auth for a few critical
  things (like gdm and kdm).  This is not tested, but the urgency demands
  a solution.  This release just do not install static libs for pam until
  the gcc/binutils issue can be resolved.

*pam-0.75-r8 (13 Oct 2002)

  13 Oct 2002; Martin Schlemmer <azarah@gentoo.org> pam-0.75-r8.ebuild :

  Add pam-0.75-pam_console-fix-fullpath-in-file-classes.patch to fix a small
  compat problem between pam-login and pam_console.so.  pam_console.so expects
  PAM_TTY to be set by login without prefixing "/dev/" it seems, which
  pam-login did.  This should close bug #6612.

  Synced with Mandrake and Redhat for latest patches.

  05 Aug 2002; M.Schlemmer <azarah@gentoo.org> ${P}-pam_group-confile.patch :
  Fixes the config file location of pam_group.so.  This resolves bug #6010.

  31 Jul 2002; M.Schlemmer <azarah@gentoo.org> ${P}-pam_wheel-segfault.patch :
  Fix a segfault in pam_wheel.so if "use_uid" was not given as parameter.
  This resolves bug #5686.

*pam-0.75-r7 (31 Jul 2002)

  31 Jul 2002; M.Schlemmer <azarah@gentoo.org> pam-0.75-r7.ebuild :
  Update some patches.  Ebuild cleanups, as well as some compiler
  fixes.


  15 Jul 2002; Mark Guertin <gerk@gentoo.org>
  Added ppc to keywords

  11 Apr 2002; Spider <spider@gentoo.org>
  Update all glib dependencies to use glib-1.2*  in preparation of unmasking the glib-2.0.1 packages


  04 Apr 2002; M.Schlemmer <azarah@gentoo.org> pam-0.75-r6.ebuild :

  Add module build checking back as we do not want some module to 
  silently fail and lock the user out of his system.

*pam-0.75-r6 (04 Apr 2002)

  04 Apr 2002; Jared H. Hudson <jhhudso@gentoo.org> pam-0.75-r6.ebuild :

  Made changes to make it compile without berkdb being defined as a use
  item.

*pam-0.75-r5 (03 Apr 2002)

  03 Apr 2002; Geert Bevin <gbevin@gentoo.org> pam-0.75-r5.ebuild :

  Made changes to make it compile the pwdb module successfully with gcc3.

*pam-0.75-r2 (17 Feb 2002)

  17 Feb 2002; Bruce A. Locke <blocke@shivan.org> pam-0.75-r2.ebuild :

  Part 1 of PAM revamp.  Ebuild is masked out...  FOR DEVELOPER TESTING ONLY

