--- krb5-1.4.3/src/appl/telnet/configure.in.orig	2006-05-21 16:28:39.187870750 -0400
+++ krb5-1.4.3/src/appl/telnet/configure.in	2006-05-21 16:29:26.758843750 -0400
@@ -50,7 +50,7 @@
 #endif
 ])
 dnl
-AC_CHECK_LIB(termcap,main,AC_DEFINE(TERMCAP)
+AC_CHECK_LIB(termcap,setupterm,AC_DEFINE(TERMCAP)
 LIBS="$LIBS -ltermcap",
   AC_CHECK_LIB(curses,setupterm,LIBS="$LIBS -lcurses",
   AC_CHECK_LIB(ncurses,setupterm,LIBS="$LIBS -lncurses")
@@ -96,7 +96,7 @@
 dnl from old telnetd/configure.in
 dnl
 dnl AC_PROG_INSTALL
-AC_CHECK_LIB(termcap,main,AC_DEFINE(TERMCAP)
+AC_CHECK_LIB(termcap,setupterm,AC_DEFINE(TERMCAP)
 LIBS="$LIBS -ltermcap",
   AC_CHECK_LIB(curses,setupterm,LIBS="$LIBS -lcurses",
   AC_CHECK_LIB(ncurses,setupterm,LIBS="$LIBS -lncurses")
