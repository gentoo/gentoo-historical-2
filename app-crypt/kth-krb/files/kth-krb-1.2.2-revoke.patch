--- appl/bsd/forkpty.c.old	2006-05-04 18:06:40.000000000 +0200
+++ appl/bsd/forkpty.c	2006-05-04 18:07:05.000000000 +0200
@@ -70,7 +70,7 @@
 #ifndef HAVE_REVOKE
 static
 int
-revoke(const char *line)
+_revoke(const char *line)
 {
     int slave;
     RETSIGTYPE (*ofun)(int);
@@ -403,7 +403,7 @@
 	if (setsid() < 0)
 	    fatal(0, "setsid() failure", errno);
 
-        revoke(slave_name);
+        _revoke(slave_name);
 
 #if defined(NeXT) || defined(ultrix)
 	/* The NeXT is severely broken, this makes things slightly
