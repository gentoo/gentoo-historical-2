diff -r -u httpd_1.5.2a-export-orig/cgi-bin/archie httpd_1.5.2a-export/cgi-bin/archie
--- httpd_1.5.2a-export-orig/cgi-bin/archie	1996-09-20 16:17:02.000000000 -0700
+++ httpd_1.5.2a-export/cgi-bin/archie	2003-07-29 23:53:46.000000000 -0700
@@ -1,6 +1,6 @@
 #!/bin/sh
 
-ARCHIE=/usr/local/bin/archie
+ARCHIE=/usr/bin/archie
 
 
 echo Content-type: text/html
diff -r -u httpd_1.5.2a-export-orig/cgi-bin/finger httpd_1.5.2a-export/cgi-bin/finger
--- httpd_1.5.2a-export-orig/cgi-bin/finger	1996-09-20 16:17:02.000000000 -0700
+++ httpd_1.5.2a-export/cgi-bin/finger	2003-07-29 23:54:59.000000000 -0700
@@ -1,6 +1,6 @@
 #!/bin/sh
 
-FINGER=/usr/ucb/finger
+FINGER=/usr/bin/finger
 
 echo Content-type: text/html
 echo
diff -r -u httpd_1.5.2a-export-orig/cgi-bin/mail httpd_1.5.2a-export/cgi-bin/mail
--- httpd_1.5.2a-export-orig/cgi-bin/mail	1996-09-20 16:17:03.000000000 -0700
+++ httpd_1.5.2a-export/cgi-bin/mail	2003-07-29 23:53:53.000000000 -0700
@@ -1,4 +1,4 @@
-#!/usr/local/bin/perl 
+#!/usr/bin/perl 
 
 # ======================================================================
 # WebMonitor Standalone Module: mail
diff -r -u httpd_1.5.2a-export-orig/cgi-bin/nph-error.pl httpd_1.5.2a-export/cgi-bin/nph-error.pl
--- httpd_1.5.2a-export-orig/cgi-bin/nph-error.pl	1996-09-20 16:17:03.000000000 -0700
+++ httpd_1.5.2a-export/cgi-bin/nph-error.pl	2003-07-29 23:54:03.000000000 -0700
@@ -1,4 +1,4 @@
-#!/usr/local/bin/perl
+#!/usr/bin/perl
 #
 # Non-parsed headers CGI 1.1 error script in Perl to handle error requests
 # from NCSA HTTPd 1.4 via ErrorDocument.  This should handle all errors in 
diff -r -u httpd_1.5.2a-export-orig/cgi-bin/redirect httpd_1.5.2a-export/cgi-bin/redirect
--- httpd_1.5.2a-export-orig/cgi-bin/redirect	1996-09-20 16:17:03.000000000 -0700
+++ httpd_1.5.2a-export/cgi-bin/redirect	2003-07-29 23:54:10.000000000 -0700
@@ -1,4 +1,4 @@
-#!/usr/local/bin/perl 
+#!/usr/bin/perl 
 #
 # redirect -- PERL redirection script
 #
diff -r -u httpd_1.5.2a-export-orig/cgi-bin/test-cgi.tcl httpd_1.5.2a-export/cgi-bin/test-cgi.tcl
--- httpd_1.5.2a-export-orig/cgi-bin/test-cgi.tcl	1996-09-20 16:17:03.000000000 -0700
+++ httpd_1.5.2a-export/cgi-bin/test-cgi.tcl	2003-07-29 23:54:28.000000000 -0700
@@ -1,4 +1,4 @@
-#!/usr/local/bin/tclsh
+#!/usr/bin/tclsh
 # tcl-cgi.tcl
 # robert.bagwill@nist.gov, no warranty, no rights reserved
 # print out command line args, stdin, and environment variables
diff -r -u httpd_1.5.2a-export-orig/cgi-bin/uptime httpd_1.5.2a-export/cgi-bin/uptime
--- httpd_1.5.2a-export-orig/cgi-bin/uptime	1996-09-20 16:17:03.000000000 -0700
+++ httpd_1.5.2a-export/cgi-bin/uptime	2003-07-29 23:55:04.000000000 -0700
@@ -1,6 +1,6 @@
 #!/bin/sh
 
-UPTIME=/usr/ucb/uptime
+UPTIME=/usr/bin/uptime
 
 echo Content-type: text/plain
 echo
diff -r -u httpd_1.5.2a-export-orig/cgi-bin/wais.pl httpd_1.5.2a-export/cgi-bin/wais.pl
--- httpd_1.5.2a-export-orig/cgi-bin/wais.pl	1996-09-20 16:17:03.000000000 -0700
+++ httpd_1.5.2a-export/cgi-bin/wais.pl	2003-07-29 23:54:39.000000000 -0700
@@ -1,4 +1,4 @@
-#!/usr/local/bin/perl
+#!/usr/bin/perl
 #
 # wais.pl -- WAIS search interface
 #
@@ -10,7 +10,7 @@
 #     map topdir wais.pl &do_wais($top, $path, $query, "database", "title")
 #
 
-$waisq = "/usr/local/bin/waisq";
+$waisq = "/usr/bin/waisq";
 $waisd = "/u/Web/wais-sources";
 $src = "www";
 $title = "NCSA httpd documentation";
diff -r -u httpd_1.5.2a-export-orig/cgi-src/phf.c httpd_1.5.2a-export/cgi-src/phf.c
--- httpd_1.5.2a-export-orig/cgi-src/phf.c	1996-09-20 16:17:04.000000000 -0700
+++ httpd_1.5.2a-export/cgi-src/phf.c	2003-07-29 23:53:26.000000000 -0700
@@ -181,7 +181,7 @@
 
     if (!atleastonequery) printf("<B>You did not enter a query!</B>%c",LF);
     else {
-        strcpy(commandstr, "/usr/local/bin/ph -m ");
+        strcpy(commandstr, "/usr/bin/ph -m ");
         if (strlen(serverstr)) {
            strcat(commandstr, " -s ");
            /* RM 2/22/94 oops */
diff -r -u httpd_1.5.2a-export-orig/conf/httpd.conf-dist httpd_1.5.2a-export/conf/httpd.conf-dist
--- httpd_1.5.2a-export-orig/conf/httpd.conf-dist	1996-09-29 11:42:29.000000000 -0700
+++ httpd_1.5.2a-export/conf/httpd.conf-dist	2003-07-29 23:49:05.000000000 -0700
@@ -97,14 +97,14 @@
 # Default: If you do not specify a ServerName, HTTPd attempts to retrieve
 #	   it through system calls.
 
-#ServerName new.host.name
+ServerName localhost
 
 # ServerAdmin: Your address, where problems with the server should be
 # e-mailed.
 # Valid within <VirtualHost>
 # Default: <none> (or DEFAULT_ADMIN)
 
-ServerAdmin you@your.address
+ServerAdmin nobody@localhost
 
 #===========================================================================
 # File Locations
@@ -261,9 +261,9 @@
 # You can also specify an error level with this setting, by denoting the 
 # VirtualHost as Optional or Required.
 
-<VirtualHost 127.0.0.1 Optional>
-DocumentRoot /local
-ServerName localhost.ncsa.uiuc.edu
-ResourceConfig conf/localhost_srm.conf
-</VirtualHost>
+#<VirtualHost 127.0.0.1 Optional>
+#DocumentRoot /local
+#ServerName localhost.ncsa.uiuc.edu
+#ResourceConfig conf/localhost_srm.conf
+#</VirtualHost>
 
diff -r -u httpd_1.5.2a-export-orig/conf/srm.conf-dist httpd_1.5.2a-export/conf/srm.conf-dist
--- httpd_1.5.2a-export-orig/conf/srm.conf-dist	1996-09-20 16:17:06.000000000 -0700
+++ httpd_1.5.2a-export/conf/srm.conf-dist	2003-07-29 23:48:30.000000000 -0700
@@ -49,12 +49,12 @@
 # FCGIScritpAlias: Same as ScriptAlias, except for FCGI scripts
 # Format: FCGIScriptAlias fakename realname
 
-FCGIScriptAlias /fcgi-bin/ /usr/local/etc/httpd/fcgi-devel-kit/examples/
+#FCGIScriptAlias /fcgi-bin/ /usr/local/etc/httpd/fcgi-devel-kit/examples/
 
 # Define the AppClasses. These get hit when requests come in for
 # /fcgi-bin/tiny-fcgi.fcgi or /fcgi-bin/tiny-fcgi2.fcgi
-AppClass /usr/local/etc/httpd/fcgi-devel-kit/examples/tiny-fcgi.fcgi -listen-queue-depth 10 -processes 2
-AppClass /usr/local/etc/httpd/fcgi-devel-kit/examples/tiny-fcgi2.fcgi -listen-queue-depth 10 -processes 2
+#AppClass /usr/local/etc/httpd/fcgi-devel-kit/examples/tiny-fcgi.fcgi -listen-queue-depth 10 -processes 2
+#AppClass /usr/local/etc/httpd/fcgi-devel-kit/examples/tiny-fcgi2.fcgi -listen-queue-depth 10 -processes 2
 
 #===========================================================================
 # Directory Indexing
diff -r -u httpd_1.5.2a-export-orig/src/Makefile httpd_1.5.2a-export/src/Makefile
--- httpd_1.5.2a-export-orig/src/Makefile	1996-09-20 16:17:10.000000000 -0700
+++ httpd_1.5.2a-export/src/Makefile	2003-07-29 23:45:16.000000000 -0700
@@ -71,7 +71,7 @@
 # Place here any extra libraries you may need to link to. You
 # shouldn't have to.
 
-EXTRA_LIBS=
+EXTRA_LIBS=-lcrypt
 
 # Place here any flags you may need upon linking, such as a flag to
 # prevent dynamic linking (if desired)
diff -r -u httpd_1.5.2a-export-orig/src/config.h httpd_1.5.2a-export/src/config.h
--- httpd_1.5.2a-export-orig/src/config.h	1996-09-29 11:36:14.000000000 -0700
+++ httpd_1.5.2a-export/src/config.h	2003-07-29 23:52:21.000000000 -0700
@@ -149,7 +149,7 @@
 
 #define HTTPD_ROOT "/usr/local/etc/httpd"
 
-#define DOCUMENT_LOCATION "/usr/local/etc/httpd/htdoc"
+#define DOCUMENT_LOCATION "/usr/local/etc/httpd/htdocs"
 #define DEFAULT_ADMIN "[no address given]"
 
 #define SERVER_CONFIG_FILE "conf/httpd.conf"
diff -r -u httpd_1.5.2a-export-orig/src/fdwrap.c httpd_1.5.2a-export/src/fdwrap.c
--- httpd_1.5.2a-export-orig/src/fdwrap.c	1996-09-20 16:17:13.000000000 -0700
+++ httpd_1.5.2a-export/src/fdwrap.c	2003-07-29 23:45:33.000000000 -0700
@@ -132,7 +132,7 @@
    DIR* dp;
    int fd;
    if ((dp = opendir(dirname))) {
-       fd = DIR_FILENO(dp);
+       fd = dirfd(dp);
        if (fd >= nSize)
 	 if (!GrowTable(fd)) {
 	   closedir(dp);
@@ -220,7 +220,7 @@
 
 int Closedir (DIR *dp) 
 {
-    int fd = DIR_FILENO(dp);
+    int fd = dirfd(dp);
 
     FdTab[fd].bOpen = FDW_CLOSED;
     if (FdTab[fd].fp != dp) {
diff -r -u httpd_1.5.2a-export-orig/support/Makefile httpd_1.5.2a-export/support/Makefile
--- httpd_1.5.2a-export-orig/support/Makefile	1996-09-20 16:17:22.000000000 -0700
+++ httpd_1.5.2a-export/support/Makefile	2003-07-29 23:47:27.000000000 -0700
@@ -49,7 +49,7 @@
 	make all CC=gcc CFLAGS="-DHPUX" EXTRA_LIBS=-lndbm
 
 linux:
-	make all CC=gcc CFLAGS="-DLINUX" EXTRA_LIBS=-lgdbm
+	make all CC=gcc CFLAGS="-DLINUX" EXTRA_LIBS="-lgdbm -lcrypt"
 
 netbsd: 
 	make all CC=cc CFLAGS="-DNETBSD" EXTRA_LIBS=-lcrypt
