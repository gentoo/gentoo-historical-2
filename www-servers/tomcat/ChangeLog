# ChangeLog for www-servers/tomcat
# Copyright 2002-2005 Gentoo Foundation; Distributed under the GPL v2
# $Header: /var/cvsroot/gentoo-x86/www-servers/tomcat/ChangeLog,v 1.32 2005/05/17 19:19:18 luckyduck Exp $

*tomcat-5.0.28-r4 (17 May 2005)

  17 May 2005; Jan Brinkmann <luckyduck@gentoo.org>
  -tomcat-5.0.28-r3.ebuild, +tomcat-5.0.28-r4.ebuild:
  revision bump, indicate the changes

  17 May 2005; Jan Brinkmann <luckyduck@gentoo.org> tomcat-5.0.28-r3.ebuild:
  permission changes

*tomcat-5.0.27-r6 (15 May 2005)

  15 May 2005; Jan Brinkmann <luckyduck@gentoo.org>
  -tomcat-5.0.27-r5.ebuild, +tomcat-5.0.27-r6.ebuild,
  tomcat-5.0.28-r3.ebuild:
  fixed problem with userpriv, see #92663. default shutdown password now gets
  replaced with a random one, see #92281

*tomcat-5.0.28-r3 (14 May 2005)

  14 May 2005; Jan Brinkmann <luckyduck@gentoo.org>
  -tomcat-5.0.28-r2.ebuild, +tomcat-5.0.28-r3.ebuild:
  updated commons-beanutils dependency to reflect new slotting. see #71952

  07 May 2005; Jason Wever <weeve@gentoo.org> tomcat-5.0.28-r2.ebuild:
  Added ~sparc keyword.

*tomcat-5.0.27-r5 (13 Apr 2005)

  13 Apr 2005; Jan Brinkmann <luckyduck@gentoo.org> -tomcat-5.0.27-r4.ebuild,
  +tomcat-5.0.27-r5.ebuild:
  now the old ebuild also makes use of newenvd, fixes #79625

  09 Apr 2005; Markus Rothe <corsair@gentoo.org> tomcat-5.0.28-r2.ebuild:
  This version doesn't build on ppc64 (added -ppc64 to KEYWORDS)

  04 Apr 2005; Thomas Matthijs <axxo@gentoo.org> tomcat-5.0.28-r2.ebuild:
  change dep to reflect commons-httpclient slotting

  28 Mar 2005; Jan Brinkmann <luckyduck@gentoo.org> files/5.0.28/tomcat.init,
  tomcat-5.0.28-r2.ebuild:
  introduced support for the examples useflag, also modified the init script to
  fix #86905

  27 Mar 2005; Jan Brinkmann <luckyduck@gentoo.org> tomcat-5.0.28-r2.ebuild:
  moved from dev-java/regexp to dev-java/jakarta-regexp dependency. see #71336

  22 Mar 2005; Jan Brinkmann <luckyduck@gentoo.org> -tomcat-5.0.28-r1.ebuild,
  tomcat-5.0.28-r2.ebuild, -tomcat-5.0.28.ebuild:
  removed a packed struts.jar. generall cleanup, removed old versions.

  20 Mar 2005; Jan Brinkmann <luckyduck@gentoo.org> -files/3.3.2/gentoo.diff,
  -files/3.3.2/tomcat.conf, -files/3.3.2/tomcat.init,
  -files/4.1.30/gentoo.diff, -files/4.1.30/jikes.diff,
  -files/4.1.30/tomcat.conf, -files/4.1.30/tomcat.init,
  -tomcat-3.3.2-r2.ebuild, -tomcat-4.1.30-r5.ebuild:
  cleanup, removed old vulnerable versions. see #85383

*tomcat-5.0.28-r2 (19 Mar 2005)

  19 Mar 2005; Jan Brinkmann <luckyduck@gentoo.org> +tomcat-5.0.28-r2.ebuild:
  version bump to indicate the changes i recently did.

  19 Mar 2005; Jan Brinkmann <luckyduck@gentoo.org> tomcat-5.0.27-r4.ebuild,
  tomcat-5.0.28-r1.ebuild:
  now normal users can access all jars of tomcat-5.0.28-r1 via java-config -p.
  also fixed #83113, dos related files are not getting installed any longer.

*tomcat-5.0.28-r1 (07 Mar 2005)

  07 Mar 2005; Jan Brinkmann <luckyduck@gentoo.org> +tomcat-5.0.28-r1.ebuild:
  revision bump to indicate the log4j addition to the classpath, all users with
  tomcat 5.0.28 should update to 5.0.28-r1

  06 Mar 2005; Jan Brinkmann <luckyduck@gentoo.org>
  files/5.0.28/scripts.patch:
  added log4j to classpath in catalina.sh, fixes #84206. thanks to Santiago Gala
  <sgala@apache.org> for the report and the fix.

  13 Feb 2005; Jan Brinkmann <luckyduck@gentoo.org>
  files/5.0.28/build.xml-02.patch, files/5.0.28/gentoo.diff,
  +files/5.0.28/scripts.patch, files/5.0.28/tomcat.conf,
  files/5.0.28/tomcat.env, files/5.0.28/tomcat.init, tomcat-5.0.28.ebuild:
  tomcat now builds from source and installs jar files using dojar, also removed
  a packed jars issue. fixes #18352

  09 Feb 2005; Jan Brinkmann <luckyduck@gentoo.org> +files/5.0.27/tomcat.env,
  +files/5.0.28/tomcat.env, tomcat-5.0.27-r4.ebuild, tomcat-5.0.28.ebuild:
  added env.d file for tomcat to export CATALINA_HOME. fixes #79625

  08 Feb 2005; Jan Brinkmann <luckyduck@gentoo.org> metadata.xml:
  updated maintainer informations.

  18 Dec 2004; Karl Trygve Kalleberg <karltk@gentoo.org> tomcat-5.0.28.ebuild:
  Fixes #74858 thanks to Petteri RÃ¤ty <petteri.raty@welho.com>

  17 Nov 2004; Markus Rothe <corsair@gentoo.org> tomcat-5.0.27-r4.ebuild,
  tomcat-5.0.28.ebuild:
  marked ~ppc64; bug #55690

  17 Oct 2004; Thomas Matthijs <axxo@gentoo.org> files/5.0.28/jikes.diff:
  fix path in jikes patch, #67847

*tomcat-5.0.28 (09 Oct 2004)

  09 Oct 2004; Thomas Matthijs <axxo@gentoo.org>
  +files/5.0.28/build.xml-01.patch, +files/5.0.28/build.xml-02.patch,
  +files/5.0.28/gentoo.diff, +files/5.0.28/jikes.diff,
  +files/5.0.28/tomcat.conf, +files/5.0.28/tomcat.init,
  +tomcat-5.0.28.ebuild:
  Version bump + now builds from source, Thanks too Mark Wolfe
  <mwolfe@netspace.net.au> for his work on this. #18352

  08 Oct 2004; Thomas Matthijs <axxo@gentoo.org> files/3.3.2/tomcat.init,
  files/4.1.30/tomcat.init, files/5.0.27/tomcat.init:
  use net instead of need net in init.d script

  08 Sep 2004; Danny van Dyk <kugelfang@gentoo.org> tomcat-4.1.30-r5.ebuild:
  Marked ~amd64.

  05 Sep 2004; Sven Wegener <swegener@gentoo.org> :
  Fixed ChangeLog header.

  03 Sep 2004; Thomas Matthijs <axxo@gentoo.org> tomcat-3.3.2-r2.ebuild,
  -tomcat-4.1.30-r4.ebuild, tomcat-4.1.30-r5.ebuild, -tomcat-5.0.27-r3.ebuild:
  remove broken + keyword x86

  03 Sep 2004; Pieter Van den Abeele <pvdabeel@gentoo.org>
  tomcat-3.3.2-r2.ebuild, tomcat-4.1.30-r4.ebuild, tomcat-4.1.30-r5.ebuild,
  tomcat-5.0.27-r3.ebuild:
  Masked stable for ppc

  01 Sep 2004; Thomas Matthijs <axxo@gentoo.org> tomcat-4.1.30-r5.ebuild,
  tomcat-5.0.27-r4.ebuild:
  keepdir work,temp so they are not removed when upgrading, bug 62468

*tomcat-5.0.27-r4 (26 Aug 2004)

  26 Aug 2004; Thomas Matthijs <axxo@gentoo.org> files/4.1.30/tomcat.init,
  files/5.0.27/tomcat.init, +tomcat-4.1.30-r5.ebuild,
  +tomcat-5.0.27-r4.ebuild:
  escape params in init script, bug 61822

*tomcat-4.1.30-r4 (08 Aug 2004)

  08 Aug 2004; Stuart Herbert <stuart@gentoo.org> +metadata.xml,
  +files/3.3.2/gentoo.diff, +files/3.3.2/tomcat.conf,
  +files/3.3.2/tomcat.init, +files/4.1.30/gentoo.diff,
  +files/4.1.30/jikes.diff, +files/4.1.30/tomcat.conf,
  +files/4.1.30/tomcat.init, +files/5.0.27/gentoo.diff,
  +files/5.0.27/jikes.diff, +files/5.0.27/tomcat.conf,
  +files/5.0.27/tomcat.init, +tomcat-3.3.2-r2.ebuild,
  +tomcat-4.1.30-r4.ebuild, +tomcat-5.0.27-r3.ebuild:
  Moved from net-www/tomcat to www-servers/tomcat.

*tomcat-4.1.30-r4 (06 Aug 2004)

  06 Aug 2004; Thomas Matthijs <axxo@gentoo.org> tomcat-3.3.2-r2.ebuild,
  tomcat-4.1.30-r4.ebuild, tomcat-5.0.27-r3.ebuild:
  fix doc chown

*tomcat-5.0.27-r3 (06 Aug 2004)

  06 Aug 2004; Thomas Matthijs <axxo@gentoo.org> tomcat-5.0.27-r3.ebuild:
  ~amd64

  06 Aug 2004; Thomas Matthijs <axxo@gentoo.org> -files/3.3.2/21tomcat,
  -files/4.1.30/21tomcat, -files/5.0.27/21tomcat, -tomcat-3.3.2-r1.ebuild,
  -tomcat-3.3.2.ebuild, -tomcat-4.1.30-r2.ebuild, -tomcat-4.1.30-r3.ebuild,
  -tomcat-5.0.27-r1.ebuild, -tomcat-5.0.27-r2.ebuild:
  fix premissions (again sorry), should fix 59232 && 58616

*tomcat-3.3.2-r1 (03 Aug 2004)

  03 Aug 2004; Thomas Matthijs <axxo@gentoo.org> +tomcat-3.3.2-r1.ebuild,
  +tomcat-4.1.30-r3.ebuild, +tomcat-5.0.27-r2.ebuild:
  fix premissions

  30 Jul 2004; Thomas Matthijs <axxo@gentoo.org> -tomcat-4.1.30-r1.ebuild,
  -tomcat-4.1.30.ebuild, -tomcat-5.0.27.ebuild:
  cleanup

*tomcat-4.1.30-r2 (30 Jul 2004)

  30 Jul 2004; Thomas Matthijs <axxo@gentoo.org> files/4.1.30/gentoo.diff,
  +tomcat-4.1.30-r2.ebuild:
  fix patch to source the correct file, 58835

*tomcat-5.0.27-r1 (29 Jul 2004)

  29 Jul 2004; Thomas Matthijs <axxo@gentoo.org> +tomcat-4.1.30-r1.ebuild,
  +tomcat-5.0.27-r1.ebuild:
  revision bump to force updating, peaple that upgraded from 5.0.18 will
  otherwise have problems

  29 Jul 2004; Thomas Matthijs <axxo@gentoo.org> files/4.1.30/gentoo.diff,
  +files/4.1.30/jikes.diff, files/4.1.30/tomcat.conf,
  files/5.0.27/gentoo.diff, +files/5.0.27/jikes.diff,
  files/5.0.27/tomcat.conf, tomcat-4.1.30.ebuild, tomcat-5.0.27.ebuild:
  added jikes use flag, enabling it will configure tomcat to use jikes

  28 Jul 2004; Thomas Matthijs <axxo@gentoo.org> files/4.1.30/gentoo.diff,
  files/4.1.30/tomcat.conf, files/5.0.27/gentoo.diff,
  files/5.0.27/tomcat.conf, tomcat-4.1.30.ebuild, tomcat-5.0.27.ebuild:
  added commented config defaults to use jikes compile,added doc use flag,
  closes 58670

  28 Jul 2004; Thomas Matthijs <axxo@gentoo.org> files/3.3.2/tomcat.init,
  files/4.1.30/tomcat.init, files/5.0.27/tomcat.init, tomcat-3.3.2.ebuild,
  tomcat-4.1.30.ebuild, tomcat-5.0.27.ebuild:
  changed init scripts, changed default shell/homedir for tomcat user, added
  warning about the new init scripts

*tomcat-5.0.27 (27 Jul 2004)

  27 Jul 2004; Thomas Matthijs <axxo@gentoo.org> metadata.xml,
  +files/3.3.2/21tomcat, +files/3.3.2/gentoo.diff, +files/3.3.2/tomcat.conf,
  +files/3.3.2/tomcat.init, -files/4.1.29/21tomcat, -files/4.1.29/gentoo.diff,
  -files/4.1.29/tomcat.conf, -files/4.1.29/tomcat.init,
  +files/4.1.30/21tomcat, +files/4.1.30/gentoo.diff,
  +files/4.1.30/tomcat.conf, +files/4.1.30/tomcat.init,
  -files/5.0.18/21tomcat, -files/5.0.18/gentoo.diff, -files/5.0.18/jikes.diff,
  -files/5.0.18/tomcat.conf, -files/5.0.18/tomcat.init,
  -files/5.0.25/21tomcat, -files/5.0.25/gentoo.diff,
  -files/5.0.25/tomcat.conf, -files/5.0.25/tomcat.init,
  +files/5.0.27/21tomcat, +files/5.0.27/gentoo.diff,
  +files/5.0.27/tomcat.conf, +files/5.0.27/tomcat.init, +tomcat-3.3.2.ebuild,
  -tomcat-4.1.29.ebuild, +tomcat-4.1.30.ebuild, -tomcat-5.0.18.ebuild,
  -tomcat-5.0.25.ebuild, +tomcat-5.0.27.ebuild:
  a whole bunch of new ebuilds, slot'ed, they should all work next to eatch
  other (don't forget to change the ports)

  25 Jun 2004; Aron Griffis <agriffis@gentoo.org> tomcat-5.0.18.ebuild:
  QA - fix use invocation

  08 Jun 2004; Bryan Ãstergaard <kloeri@gentoo.org> tomcat-5.0.18.ebuild:
  Stable on alpha.

*tomcat-5.0.25 (19 May 2004)

  19 May 2004; Chris Aniszczyk <zx@gentoo.org> +files/5.0.25/21tomcat,
  +files/5.0.25/gentoo.diff, +files/5.0.25/tomcat.conf,
  +files/5.0.25/tomcat.init, +tomcat-5.0.25.ebuild:
  New tomcat and new layout scheme.
  Thanks to Tim Chen for the initial ebuild.

  27 Apr 2004; Aron Griffis <agriffis@gentoo.org> tomcat-4.1.29.ebuild:
  Add inherit eutils

  10 Apr 2004; Travis Tilley <lv@gentoo.org> tomcat-5.0.18.ebuild:
  added ~amd64 keyword

  21 Mar 2004; Martin Holzer <mholzer@gentoo.org> tomcat-5.0.18.ebuild:
  adding categorie. see 45110 for details

  24 Feb 2004; Chris Aniszczyk <zx@gentoo.org> tomcat-4.1.29.ebuild:
  Heh, variable order fix ;) Bug #42071

  24 Feb 2004; Chris Aniszczyk <zx@gentoo.org> tomcat-5.0.18.ebuild,
  files/5.0.18/jikes.diff, files/5.0.18/tomcat.conf:
  Added jikes and doc support. Thanks to Luca Santarelli
  <hrk@users.sourceforge.net> for some patches. Bug #42175

*tomcat-5.0.18 (15 Feb 2004)
*tomcat-4.1.29 (15 Feb 2004)

  15 Feb 2004; <zx@gentoo.org> tomcat-4.1.29.ebuild, tomcat-5.0.18.ebuild:
  Massive bugfixes + version bumps. Huge thanks to Chetan Sarva
  <gentoo-bugs@fw2.net> for the ebuilds + various fixes. This update adds 5.0.18
  and 4.1.29 tomcat versions. It also fixes the following bugs:
  
  Bug #38949
  
  Bug #38952
  
  Bug #21772
  
  Bug #38358
  
  Bug #21744
  
  Bug #22040
  
  Bug #19723
  
  Bug #39819
  
  Bug #26994
  
  Bug #32408
  
  Bug #35094

  15 Dec 2003; <spider@gentoo.org> tomcat-4.1.24-r1.ebuild:
  QA: fixing chown user.group to user:group, bug #35127

  16 Oct 2003; Sergey Kuleshov <svyatogor@gentoo.org> tomcat-4.1.24-r1.ebuild:
  Fixed permissions for /etc/conf.d/tomcat

*tomcat-4.1.24-r1 (27 May 2003)

  27 May 2003; Dylan Carlson <absinthe@gentoo.org> tomcat-4.1.24-r1.ebuild:
  /opt/tomcat/conf was vulnerable to local users who are snooping the
  tomcat-users.xml file for passwords. The new ebuild fixes this problem for new
  installations.
  
  If you have an existing installation of Tomcat you can do the following:
  
  1. # /etc/init.d/tomcat stop
  2. # chmod -R 750 /opt/tomcat/
  3. # /etc/init.d/tomcat start
  
  Thanks to "D.Tuinstra" <tuinstra@inteo.com> for pointing out the
  vulnerability.

*tomcat-4.1.24 (25 Mar 2003)

  10 Apr 2003; Dylan Carlson <absinthe@gentoo.org> tomcat-4.1.24.ebuild:
  Minor fix to pkg_postinst() comments; fix to env.d/21tomcat install;
  added RDEPEND for sed.

  06 Apr 2003; Dylan Carlson <absinthe@gentoo.org> tomcat-4.1.24.ebuild:
  x86 ppc sparc moved to stable.

  28 Mar 2003; Dylan Carlson <absinthe@gentoo.org> files/4.1.24/tomcat.conf:
  Fixed sed path in conf.d/tomcat.

  25 Mar 2003; Dylan Carlson <absinthe@gentoo.org> omcat-4.1.24.ebuild, 
  files/4.1.24/21tomcat, tomcat-4.1.24.ebuild, files/4.1.24/21tomcat,
  files/4.1.24/gentoo.diff, files/4.1.24/tomcat.conf, files/4.1.24/tomcat.init:
  Version bump.  
  
  Also a few changes thanks to user feedback from Anthony Murray: 
  Fixes to init script, and changed conf.d/JAVA_HOME back to automatically
  set itself.  Closes bug #17907.

*tomcat-4.1.18-r1 (22 Mar 2003)

  22 Mar 2003; Dylan Carlson <absinthe@gentoo.org> tomcat-4.1.18-r1.ebuild,
  files/4.1.18/gentoo.diff, files/4.1.18/tomcat.conf,
  files/4.1.18/tomcat.init:
  Significant changes.  This ebuild now bears close resemblance to 
  net-www/orion.
  
  1. Tomcat now runs as user 'tomcat' by default. 
  2. All classes and JARs get installed into /usr/share/tomcat. 
  3. All logs go to /var/log/tomcat. 
  4. Init script was modified to use JAVA_HOME as set in /etc/conf.d/tomcat. 
     This is because we don't want the init script making any assumptions as 
     to what JVM the user wants to run for Tomcat. 
  5. JSSE and JPDA are supported as startup modes in /etc/conf.d/tomcat. 
     ( If you have a Sun Java 1.4 SDK or later, you have JSSE and JPDA 
     included. )
  
  Feedback on these changes would be appreciated, so we can get this
  ebuild moved to stable.
  	http://bugs.gentoo.org/
  	http://stable.gentoo.org/

*tomcat-4.1.18 (16 Mar 2003)

  16 Mar 2003; Dylan Carlson <absinthe@gentoo.org> tomcat-4.1.18.ebuild:
  New ebuild started from submission in bug # 11796. minor fixes; added
  servlet.jar as a shared library for packages that might require it at build
  time. Thanks to Mark Mealman <mmealman@tarsis.org> and gtonic <tom@wahuu.at>
  for their contributions.

  06 Dec 2002; Rodney Rees <manson@gentoo.org> : changed sparc ~sparc keywords
 
*tomcat-4.0.6 (15 Oct 2002)

  15 Oct 2002; Maik Schreiber <blizzy@gentoo.org> : New version -
  security update. Closes bug #8931.

  26 Sep 2002; Maik Schreiber <blizzy@gentoo.org> files/21tomcat:
  Added CONFIG_PROTECT=/opt/jakarta/tomcat/conf so that configuration
  files don't get lost when installing a new version.

*tomcat-4.0.5 (25 Sep 2002)

  25 Sep 2002; Daniel Ahlberg <aliz@gentoo.org> :
  Security update. Ebuild provided by Adrian Almenar <aalmenar@conectium.com>.

*tomcat-4.0.4 (23 Jun 2002)

  14 Sep 2002; Owen Stampflee <owen@gentoo.org> :
  Added PPC to KEYWORDS.

  14 Jul 2002; Daniel Ahlberg <aliz@gentoo.org> tomcat-4.0.4.ebuild :
  Added KEYWORDS.

  23 Jun 2002; William McArthur <sandymac@gentoo.org> tomcat-4.0.4.ebuild files/digest-tomcat-4.0.4 :
 
  New upstream version. Added a .keep file to the logs dir to prevent the logs
  from being removed during an upgrade if there were no log files.

*tomcat-4.0.3 (03 Jun 2002)

  14 Jul 2002; Daniel Ahlberg <aliz@gentoo.org> tomcat-4.0.3.ebuild :
  Added KEYWORDS, SLOT.

  03 Jun 2002; Karl Trygve Kalleberg <karltk@gentoo.org> tomcat-4.0.3.ebuild files/digest-tomcat-4.0.3 :
 
  New upstream version.

*tomcat-4.0.1 (1 Feb 2002)

  14 Jul 2002; Daniel Ahlberg <aliz@gentoo.org> tomcat-4.0.1.ebuild :
  Added KEYWORDS, SLOT.

  1 Feb 2002; G.Bevin <gbevin@gentoo.org> ChangeLog :
  
  Added initial ChangeLog which should be updated whenever the package is
  updated in any way. This changelog is targetted to users. This means that the
  comments should well explained and written in clean English. The details about
  writing correct changelogs are explained in the skel.ChangeLog file which you
  can find in the root directory of the portage repository.

*tomcat-3.2.2.ebuild (14 Jul 2002)

  01 Jul 2002; Karl Trygve Kalleberg <karltk@gentoo.org> tomcat-3.2.2.ebuild files/digest-tomcat-3.2.2 :

  This package has been masked for a while. Finally removed to get rid of 
  dev-java/jaxp entirely.
   
  14 Jul 2002; Daniel Ahlberg <aliz@gentoo.org> tomcat-3.2.2.ebuild :
  Added KEYWORDS, SLOT.

