--- kio/kio/job.cpp	18 Jun 2004 09:09:18 -0000	1.368.2.11
+++ kio/kio/job.cpp	8 Dec 2004 02:20:23 -0000
@@ -2890,12 +2890,14 @@ void CopyJob::copyNextFile()
                        if ( f.open( IO_ReadWrite ) )
                        {
                            f.close();
                            KSimpleConfig config( path );
                            config.setDesktopGroup();
-                           config.writePathEntry( QString::fromLatin1("URL"), (*it).uSource.url() );
-                           config.writeEntry( QString::fromLatin1("Name"), (*it).uSource.url() );
+                           KURL url = (*it).uSource;
+                           url.setPass( "" );
+                           config.writePathEntry( QString::fromLatin1("URL"), url.url() );
+                           config.writeEntry( QString::fromLatin1("Name"), url.url() );
                            config.writeEntry( QString::fromLatin1("Type"), QString::fromLatin1("Link") );
                            QString protocol = (*it).uSource.protocol();
                            if ( protocol == QString::fromLatin1("ftp") )
                                config.writeEntry( QString::fromLatin1("Icon"), QString::fromLatin1("ftp") );
                            else if ( protocol == QString::fromLatin1("http") )
