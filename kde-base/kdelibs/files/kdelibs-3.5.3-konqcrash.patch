Index: khtml/dom/dom_node.cpp
===================================================================
--- khtml/dom/dom_node.cpp	(revision 562181)
+++ khtml/dom/dom_node.cpp	(revision 562182)
@@ -273,7 +273,7 @@
     NodeImpl *r = impl->replaceChild( newChild.impl, oldChild.impl, exceptioncode );
     if (exceptioncode)
 	throw DOMException(exceptioncode);
-    if (!newChild.impl->closed()) newChild.impl->close();
+    if (newChild.impl && !newChild.impl->closed()) newChild.impl->close();
     return r;
 }
 
