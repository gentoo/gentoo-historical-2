diff -Nur kdesdk-3.4.2.orig/kbabel/kbabeldict/modules/dbsearchengine/configure.in.in kdesdk-3.4.2/kbabel/kbabeldict/modules/dbsearchengine/configure.in.in
--- kdesdk-3.4.2.orig/kbabel/kbabeldict/modules/dbsearchengine/configure.in.in	2005-05-23 14:08:28.000000000 +0200
+++ kdesdk-3.4.2/kbabel/kbabeldict/modules/dbsearchengine/configure.in.in	2005-07-29 13:41:27.000000000 +0200
@@ -1,3 +1,10 @@
+AC_ARG_WITH(berkeley-db,
+  [AC_HELP_STRING(--with-berkeley-db,
+    [enable the dictionary plugin based on Berkeley DB IV @<:@default=check@:>@])],
+  [], with_berkeley_db=check)
+
+LIB_DBIV=""
+if test "x$with_berkeley_db" != xno; then
 
 AC_MSG_CHECKING([for Berkeley Database IV])
 
@@ -122,6 +129,11 @@
 DBIV_INCLUDES="$ac_db_includes"
 DBIV_NAME="$ac_db_name"
 
+if test "x$with_berkeley_db" != xcheck && test -z "$LIB_DBIV"; then
+  AC_MSG_ERROR([--with-berkeley-db was given, but test for Berkeley DB IV failed])
+fi
+fi
+
 AC_SUBST(DBIV_INCLUDES)
 AC_SUBST(DBIV_LDFLAGS)
 AC_SUBST(DBIV_NAME)
