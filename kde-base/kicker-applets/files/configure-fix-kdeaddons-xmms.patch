Index: kicker-applets/mediacontrol/configure.in.in
===================================================================
--- kicker-applets/mediacontrol/configure.in.in	(revision 428268)
+++ kicker-applets/mediacontrol/configure.in.in	(working copy)
@@ -32,6 +32,18 @@
   fi
 ])
 
-AC_CHECK_XMMS
+AC_ARG_WITH(xmms,
+  [AS_HELP_STRING(--with-xmms,
+    [enable XMMS control applet @<:@default=check@:>@])],
+  [], with_xmms=check)
+
+if test "x$with_xmms" != xno; then
+  AC_CHECK_XMMS
+
+  if test "x$with_xmms" != xcheck && test "x$ac_cv_have_xmms" != xyes; then
+    AC_MSG_FAILURE([--with-xmms was given, but test for XMMS failed])
+  fi
+fi
+
 AC_SUBST(XMMS_LIBS)
 AC_SUBST(XMMS_INCLUDES)
