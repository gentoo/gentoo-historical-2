--- kmail/kmreaderwin.cpp.orig	2005-07-01 01:26:44.000000000 +0200
+++ kmail/kmreaderwin.cpp	2005-07-01 01:28:17.000000000 +0200
@@ -2378,6 +2378,7 @@
     if ( me->button() == LeftButton && ( me->state() & ShiftButton ) ) {
       // special processing for shift+click
       mAtmCurrent = msgPartFromUrl( mUrlClicked );
+      if ( mAtmCurrent < 0 ) return false;
       mAtmCurrentName = mUrlClicked.path();
       slotHandleAttachment( KMHandleAttachmentCommand::Save ); // save
       return true; // eat event
