Index: kioslaves/configure.in.in
===================================================================
--- kioslaves/configure.in.in	(revision 433553)
+++ kioslaves/configure.in.in	(working copy)
@@ -1,16 +1,27 @@
 KDE_CHECK_SSL
 
+AC_ARG_WITH(sasl,
+  [AS_HELP_STRING(--with-sasl,
+    [enable support for authentication through cyrus-sasl @<:@default=check@:>@])],
+  [], with_sasl=check)
+
 sasl2_header="no"
 SASL2_LIBS=""
+if test "x$with_sasl" != xno; then
+  KDE_CHECK_HEADERS(sasl/sasl.h, sasl2_header="yes")
+  if test "$sasl2_header" = "yes" ; then
+    KDE_CHECK_LIB(sasl2, sasl_client_init, SASL2_LIBS="-lsasl2")
+  fi
 
-KDE_CHECK_HEADERS(sasl/sasl.h, sasl2_header="yes")
-if test "$sasl2_header" = "yes" ; then
-  KDE_CHECK_LIB(sasl2, sasl_client_init, SASL2_LIBS="-lsasl2")
+  if test "x$SASL2_LIBS" != "x" ; then
+    AC_DEFINE_UNQUOTED(HAVE_LIBSASL2, 1, [Define if you have cyrus-sasl2 libraries])
+  fi
+
+  if test "x$with_sasl" != xcheck && test -z "$SASL2_LIBS"; then
+    AC_MSG_FAILURE([--with-sasl was given, but test for cyrus-sasl failed])
+  fi
 fi
 
-if test "x$SASL2_LIBS" != "x" ; then
-  AC_DEFINE_UNQUOTED(HAVE_LIBSASL2, 1, [Define if you have cyrus-sasl2 libraries])
-fi
 AC_SUBST(SASL2_LIBS)
 
 AM_CONDITIONAL(compile_kio_sieve, test -n "$SASL2_LIBS")
Index: kioslaves/configure.in.bot
===================================================================
--- kioslaves/configure.in.bot	(revision 433553)
+++ kioslaves/configure.in.bot	(working copy)
@@ -1,4 +1,4 @@
-if test -z "$SASL2_LIBS"; then
+if test "x$with_sasl" = xcheck && test -z "$SASL2_LIBS"; then
   echo ""
   echo "cyrus-sasl 2 library is missing. The sieve ioslave will not be built, and imap4 will lack of a lot of authentication methods."
   echo ""
