--- ksh-20050202_new/src/lib/libcmd/uname.c.uname	2006-02-01 15:32:32.000000000 +0100
+++ ksh-20050202_new/src/lib/libcmd/uname.c	2006-02-01 15:48:37.000000000 +0100
@@ -394,6 +394,16 @@
 		{
 			if (!*(s = astconf("PLATFORM", NiL, NiL)))
 				s = astconf("HW_NAME", NiL, NiL);
+            if (! *s && !*(s = astconf("ARCHITECTURE", NiL, NiL))) 
+            {
+                if (t = strchr(hosttype, '.'))
+                    t++;
+                else
+                    t = hosttype;
+                strncpy(s = buf, t, sizeof(buf) - 1);
+            }
+            if(strlen(s)==4 && s[0]=='i' && s[2]=='8' && s[3]=='6')
+                s[1]='3';
 			output(OPT_implementation, s, "implementation");
 		}
 		if (flags & OPT_extended_release)
