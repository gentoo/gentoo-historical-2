--- bash_completion/bash_completion	2004/12/21 21:40:48	1.1
+++ bash_completion/bash_completion	2004/12/21 21:41:49
@@ -4409,10 +4409,15 @@ _rcs()
 
 	for (( i=0; i < ${#COMPREPLY[@]}; i++ )); do
 		file=${COMPREPLY[$i]##*/}
-		file=${file%,v}
 		dir=${COMPREPLY[$i]%RCS/*}
 		COMPREPLY[$i]=$dir$file
 	done
+	
+	COMPREPLY=( "${COMPREPLY[@]}" $( compgen -G "$dir/$file*,v" ) )
+
+	for (( i=0; i < ${#COMPREPLY[@]}; i++ )); do
+		COMPREPLY[$i]=${COMPREPLY[$i]%,v}
+	done
 
 	# default to files if nothing returned and we're checking in.
 	# otherwise, default to directories
